{
  "version": 3,
  "sources": ["../../../binding-websockets/src/ws-client.ts", "../../../binding-websockets/src/ws-client-factory.ts", "../../../binding-websockets/src/wss-client-factory.ts", "../../../binding-websockets/src/ws-browser.ts"],
  "sourcesContent": ["/********************************************************************************\n * Copyright (c) 2018 Contributors to the Eclipse Foundation\n *\n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * Document License (2015-05-13) which is available at\n * https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document.\n *\n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\n\n/**\n * WebSockets client\n */\n\nimport { ProtocolClient, Content, Form, SecurityScheme, createLoggers } from \"@node-wot/core\";\nimport { Subscription } from \"rxjs/Subscription\";\n\nconst { debug, warn } = createLoggers(\"binding-websockets\", \"ws-client\");\n\nexport default class WebSocketClient implements ProtocolClient {\n    // eslint-disable-next-line no-useless-constructor\n    constructor() {\n        // TODO: implement and remove eslint-ignore-useless-constructor\n    }\n\n    public toString(): string {\n        return `[WebSocketClient]`;\n    }\n\n    public readResource(form: Form): Promise<Content> {\n        return new Promise<Content>((resolve, reject) => {\n            // TODO: implement\n        });\n    }\n\n    public writeResource(form: Form, content: Content): Promise<void> {\n        return new Promise<void>((resolve, reject) => {\n            // TODO: implement\n        });\n    }\n\n    public invokeResource(form: Form, content?: Content): Promise<Content> {\n        return new Promise<Content>((resolve, reject) => {\n            // TODO: implement\n        });\n    }\n\n    public unlinkResource(form: Form): Promise<void> {\n        return new Promise<void>((resolve, reject) => {\n            // TODO: implement\n        });\n    }\n\n    public subscribeResource(\n        form: Form,\n        next: (content: Content) => void,\n        error?: (error: Error) => void,\n        complete?: () => void\n    ): Promise<Subscription> {\n        throw new Error(\"Websocket client does not implement subscribeResource\");\n    }\n\n    /**\n     * @inheritdoc\n     */\n    public async requestThingDescription(uri: string): Promise<Content> {\n        throw new Error(\"Method not implemented\");\n    }\n\n    public async start(): Promise<void> {\n        // do nothing\n    }\n\n    public async stop(): Promise<void> {\n        // do nothing\n    }\n\n    public setSecurity(metadata: Array<SecurityScheme>, credentials?: unknown): boolean {\n        if (metadata === undefined || !Array.isArray(metadata) || metadata.length === 0) {\n            warn(\"WebSocketClient received empty security metadata\");\n            return false;\n        }\n        // TODO support for multiple security schemes (see http-client.ts)\n        const security: SecurityScheme = metadata[0];\n\n        debug(`WebSocketClient using security scheme '${security.scheme}'`);\n        return true;\n    }\n}\n", "/********************************************************************************\n * Copyright (c) 2018 Contributors to the Eclipse Foundation\n *\n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * Document License (2015-05-13) which is available at\n * https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document.\n *\n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\n\n/**\n * HTTP client Factory\n */\n\nimport { ProtocolClientFactory, ProtocolClient, createLoggers } from \"@node-wot/core\";\nimport WebSocketClient from \"./ws-client\";\n\nconst { debug } = createLoggers(\"binding-websockets\", \"ws-client-factory\");\n\nexport default class WebSocketClientFactory implements ProtocolClientFactory {\n    public readonly scheme: string = \"ws\";\n    private clientSideProxy: unknown = null;\n\n    constructor(proxy: unknown = null) {\n        this.clientSideProxy = proxy;\n    }\n\n    public getClient(): ProtocolClient {\n        debug(`HttpClientFactory creating client for '${this.scheme}'`);\n        return new WebSocketClient();\n    }\n\n    public init(): boolean {\n        // info(`HttpClientFactory for '${HttpClientFactory.scheme}' initializing`);\n        // TODO uncomment info if something is executed here\n        return true;\n    }\n\n    public destroy(): boolean {\n        // info(`HttpClientFactory for '${HttpClientFactory.scheme}' destroyed`);\n        // TODO uncomment info if something is executed here\n        return true;\n    }\n}\n", "/********************************************************************************\n * Copyright (c) 2018 Contributors to the Eclipse Foundation\n *\n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * Document License (2015-05-13) which is available at\n * https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document.\n *\n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\n\n/**\n * HTTPS client Factory\n */\n\nimport { ProtocolClientFactory, ProtocolClient } from \"@node-wot/core\";\n\nexport default class WssClientFactory implements ProtocolClientFactory {\n    public readonly scheme: string = \"wss\";\n\n    // eslint-disable-next-line no-useless-constructor\n    constructor() {\n        // TODO: implement and remove eslint-ignore-useless-constructor\n    }\n\n    public getClient(): ProtocolClient {\n        throw new Error(\"WssClientFactory for 'wss' is not implemented\");\n    }\n\n    public init(): boolean {\n        // info(`HttpsClientFactory for '${HttpsClientFactory.scheme}' initializing`);\n        // TODO uncomment info if something is executed here\n        return true;\n    }\n\n    public destroy(): boolean {\n        // info(`HttpsClientFactory for '${HttpsClientFactory.scheme}' destroyed`);\n        // TODO uncomment info if something is executed here\n        return true;\n    }\n}\n", "/********************************************************************************\n * Copyright (c) 2019 Contributors to the Eclipse Foundation\n *\n * See the NOTICE file(s) distributed with this work for additional\n * information regarding copyright ownership.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0, or the W3C Software Notice and\n * Document License (2015-05-13) which is available at\n * https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document.\n *\n * SPDX-License-Identifier: EPL-2.0 OR W3C-20150513\n ********************************************************************************/\n\nexport { default as WebSocketClient } from \"./ws-client\";\nexport { default as WebSocketClientFactory } from \"./ws-client-factory\";\nexport { default as WebSocketSecureClientFactory } from \"./wss-client-factory\";\nexport * from \"./ws-client\";\nexport * from \"./ws-client-factory\";\nexport * from \"./wss-client-factory\";\n"],
  "mappings": ";;;;;;;;;;;;AAmBA,QAAA,SAAA;AAGA,QAAM,EAAE,OAAO,KAAI,KAAK,GAAA,OAAA,eAAc,sBAAsB,WAAW;AAEvE,QAAqB,kBAArB,MAAoC;MAEhC,cAAA;MAEA;MAEO,WAAQ;AACX,eAAO;MACX;MAEO,aAAa,MAAU;AAC1B,eAAO,IAAI,QAAiB,CAAC,SAAS,WAAU;QAEhD,CAAC;MACL;MAEO,cAAc,MAAY,SAAgB;AAC7C,eAAO,IAAI,QAAc,CAAC,SAAS,WAAU;QAE7C,CAAC;MACL;MAEO,eAAe,MAAY,SAAiB;AAC/C,eAAO,IAAI,QAAiB,CAAC,SAAS,WAAU;QAEhD,CAAC;MACL;MAEO,eAAe,MAAU;AAC5B,eAAO,IAAI,QAAc,CAAC,SAAS,WAAU;QAE7C,CAAC;MACL;MAEO,kBACH,MACA,MACA,OACA,UAAqB;AAErB,cAAM,IAAI,MAAM,uDAAuD;MAC3E;MAKO,MAAM,wBAAwB,KAAW;AAC5C,cAAM,IAAI,MAAM,wBAAwB;MAC5C;MAEO,MAAM,QAAK;MAElB;MAEO,MAAM,OAAI;MAEjB;MAEO,YAAY,UAAiC,aAAqB;AACrE,YAAI,aAAa,UAAa,CAAC,MAAM,QAAQ,QAAQ,KAAK,SAAS,WAAW,GAAG;AAC7E,eAAK,kDAAkD;AACvD,iBAAO;QACX;AAEA,cAAM,WAA2B,SAAS,CAAC;AAE3C,cAAM,0CAA0C,SAAS,MAAM,GAAG;AAClE,eAAO;MACX;;AApEJ,YAAA,UAAA;;;;;;;;;;;;;ACLA,QAAA,SAAA;AACA,QAAA,cAAA,gBAAA,mBAAA;AAEA,QAAM,EAAE,MAAK,KAAK,GAAA,OAAA,eAAc,sBAAsB,mBAAmB;AAEzE,QAAqB,yBAArB,MAA2C;MAIvC,YAAY,QAAiB,MAAI;AAHjB,aAAA,SAAiB;AACzB,aAAA,kBAA2B;AAG/B,aAAK,kBAAkB;MAC3B;MAEO,YAAS;AACZ,cAAM,0CAA0C,KAAK,MAAM,GAAG;AAC9D,eAAO,IAAI,YAAA,QAAe;MAC9B;MAEO,OAAI;AAGP,eAAO;MACX;MAEO,UAAO;AAGV,eAAO;MACX;;AAvBJ,YAAA,UAAA;;;;;;;;;;ACHA,QAAqB,mBAArB,MAAqC;MAIjC,cAAA;AAHgB,aAAA,SAAiB;MAKjC;MAEO,YAAS;AACZ,cAAM,IAAI,MAAM,+CAA+C;MACnE;MAEO,OAAI;AAGP,eAAO;MACX;MAEO,UAAO;AAGV,eAAO;MACX;;AAtBJ,YAAA,UAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNA,QAAA,cAAA;AAAS,WAAA,eAAA,SAAA,mBAAA,EAAA,YAAA,MAAA,KAAA,WAAA;AAAA,aAAA,gBAAA,WAAA,EAAA;IAAO,EAAA,CAAA;AAChB,QAAA,sBAAA;AAAS,WAAA,eAAA,SAAA,0BAAA,EAAA,YAAA,MAAA,KAAA,WAAA;AAAA,aAAA,gBAAA,mBAAA,EAAA;IAAO,EAAA,CAAA;AAChB,QAAA,uBAAA;AAAS,WAAA,eAAA,SAAA,gCAAA,EAAA,YAAA,MAAA,KAAA,WAAA;AAAA,aAAA,gBAAA,oBAAA,EAAA;IAAO,EAAA,CAAA;AAChB,iBAAA,qBAAA,OAAA;AACA,iBAAA,6BAAA,OAAA;AACA,iBAAA,8BAAA,OAAA;;;",
  "names": []
}
