"use strict";var WoT=(()=>{var aC=Object.create;var $l=Object.defineProperty;var uC=Object.getOwnPropertyDescriptor;var fC=Object.getOwnPropertyNames;var lC=Object.getPrototypeOf,cC=Object.prototype.hasOwnProperty;var Rt=(t,e)=>()=>(t&&(e=t(t=0)),e);var de=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),qn=(t,e)=>{for(var r in e)$l(t,r,{get:e[r],enumerable:!0})},kw=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of fC(e))!cC.call(t,i)&&i!==r&&$l(t,i,{get:()=>e[i],enumerable:!(n=uC(e,i))||n.enumerable});return t};var vh=(t,e,r)=>(r=t!=null?aC(lC(t)):{},kw(e||!t||!t.__esModule?$l(r,"default",{value:t,enumerable:!0}):r,t)),ht=t=>kw($l({},"__esModule",{value:!0}),t);function dC(){if(Dw)return lu;Dw=!0,lu.byteLength=a,lu.toByteArray=c,lu.fromByteArray=h;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=n.length;i<s;++i)t[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function o(y){var b=y.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=y.indexOf("=");w===-1&&(w=b);var m=w===b?0:4-w%4;return[w,m]}function a(y){var b=o(y),w=b[0],m=b[1];return(w+m)*3/4-m}function u(y,b,w){return(b+w)*3/4-w}function c(y){var b,w=o(y),m=w[0],E=w[1],T=new r(u(y,m,E)),S=0,P=E>0?m-4:m,A;for(A=0;A<P;A+=4)b=e[y.charCodeAt(A)]<<18|e[y.charCodeAt(A+1)]<<12|e[y.charCodeAt(A+2)]<<6|e[y.charCodeAt(A+3)],T[S++]=b>>16&255,T[S++]=b>>8&255,T[S++]=b&255;return E===2&&(b=e[y.charCodeAt(A)]<<2|e[y.charCodeAt(A+1)]>>4,T[S++]=b&255),E===1&&(b=e[y.charCodeAt(A)]<<10|e[y.charCodeAt(A+1)]<<4|e[y.charCodeAt(A+2)]>>2,T[S++]=b>>8&255,T[S++]=b&255),T}function l(y){return t[y>>18&63]+t[y>>12&63]+t[y>>6&63]+t[y&63]}function p(y,b,w){for(var m,E=[],T=b;T<w;T+=3)m=(y[T]<<16&16711680)+(y[T+1]<<8&65280)+(y[T+2]&255),E.push(l(m));return E.join("")}function h(y){for(var b,w=y.length,m=w%3,E=[],T=16383,S=0,P=w-m;S<P;S+=T)E.push(p(y,S,S+T>P?P:S+T));return m===1?(b=y[w-1],E.push(t[b>>2]+t[b<<4&63]+"==")):m===2&&(b=(y[w-2]<<8)+y[w-1],E.push(t[b>>10]+t[b>>4&63]+t[b<<2&63]+"=")),E.join("")}return lu}function hC(){if(Fw)return Rl;Fw=!0;return Rl.read=function(t,e,r,n,i){var s,o,a=i*8-n-1,u=(1<<a)-1,c=u>>1,l=-7,p=r?i-1:0,h=r?-1:1,y=t[e+p];for(p+=h,s=y&(1<<-l)-1,y>>=-l,l+=a;l>0;s=s*256+t[e+p],p+=h,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;l>0;o=o*256+t[e+p],p+=h,l-=8);if(s===0)s=1-c;else{if(s===u)return o?NaN:(y?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-c}return(y?-1:1)*o*Math.pow(2,s-n)},Rl.write=function(t,e,r,n,i,s){var o,a,u,c=s*8-i-1,l=(1<<c)-1,p=l>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:s-1,b=n?1:-1,w=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+p>=1?e+=h/u:e+=h*Math.pow(2,1-p),e*u>=2&&(o++,u/=2),o+p>=l?(a=0,o=l):o+p>=1?(a=(e*u-1)*Math.pow(2,i),o=o+p):(a=e*Math.pow(2,p-1)*Math.pow(2,i),o=0));i>=8;t[r+y]=a&255,y+=b,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[r+y]=o&255,y+=b,o/=256,c-=8);t[r+y-b]|=w*128},Rl}function hr(){if(qw)return Zo;qw=!0;let t=dC(),e=hC(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Zo.Buffer=o,Zo.SlowBuffer=E,Zo.INSPECT_MAX_BYTES=50;let n=2147483647;Zo.kMaxLength=n,o.TYPED_ARRAY_SUPPORT=i(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{let _=new Uint8Array(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,Uint8Array.prototype),Object.setPrototypeOf(_,f),_.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function s(_){if(_>n)throw new RangeError('The value "'+_+'" is invalid for option "size"');let f=new Uint8Array(_);return Object.setPrototypeOf(f,o.prototype),f}function o(_,f,d){if(typeof _=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return l(_)}return a(_,f,d)}o.poolSize=8192;function a(_,f,d){if(typeof _=="string")return p(_,f);if(ArrayBuffer.isView(_))return y(_);if(_==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _);if(Re(_,ArrayBuffer)||_&&Re(_.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Re(_,SharedArrayBuffer)||_&&Re(_.buffer,SharedArrayBuffer)))return b(_,f,d);if(typeof _=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let O=_.valueOf&&_.valueOf();if(O!=null&&O!==_)return o.from(O,f,d);let B=w(_);if(B)return B;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof _[Symbol.toPrimitive]=="function")return o.from(_[Symbol.toPrimitive]("string"),f,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _)}o.from=function(_,f,d){return a(_,f,d)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function u(_){if(typeof _!="number")throw new TypeError('"size" argument must be of type number');if(_<0)throw new RangeError('The value "'+_+'" is invalid for option "size"')}function c(_,f,d){return u(_),_<=0?s(_):f!==void 0?typeof d=="string"?s(_).fill(f,d):s(_).fill(f):s(_)}o.alloc=function(_,f,d){return c(_,f,d)};function l(_){return u(_),s(_<0?0:m(_)|0)}o.allocUnsafe=function(_){return l(_)},o.allocUnsafeSlow=function(_){return l(_)};function p(_,f){if((typeof f!="string"||f==="")&&(f="utf8"),!o.isEncoding(f))throw new TypeError("Unknown encoding: "+f);let d=T(_,f)|0,O=s(d),B=O.write(_,f);return B!==d&&(O=O.slice(0,B)),O}function h(_){let f=_.length<0?0:m(_.length)|0,d=s(f);for(let O=0;O<f;O+=1)d[O]=_[O]&255;return d}function y(_){if(Re(_,Uint8Array)){let f=new Uint8Array(_);return b(f.buffer,f.byteOffset,f.byteLength)}return h(_)}function b(_,f,d){if(f<0||_.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(_.byteLength<f+(d||0))throw new RangeError('"length" is outside of buffer bounds');let O;return f===void 0&&d===void 0?O=new Uint8Array(_):d===void 0?O=new Uint8Array(_,f):O=new Uint8Array(_,f,d),Object.setPrototypeOf(O,o.prototype),O}function w(_){if(o.isBuffer(_)){let f=m(_.length)|0,d=s(f);return d.length===0||_.copy(d,0,0,f),d}if(_.length!==void 0)return typeof _.length!="number"||Se(_.length)?s(0):h(_);if(_.type==="Buffer"&&Array.isArray(_.data))return h(_.data)}function m(_){if(_>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return _|0}function E(_){return+_!=_&&(_=0),o.alloc(+_)}o.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==o.prototype},o.compare=function(f,d){if(Re(f,Uint8Array)&&(f=o.from(f,f.offset,f.byteLength)),Re(d,Uint8Array)&&(d=o.from(d,d.offset,d.byteLength)),!o.isBuffer(f)||!o.isBuffer(d))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===d)return 0;let O=f.length,B=d.length;for(let q=0,ee=Math.min(O,B);q<ee;++q)if(f[q]!==d[q]){O=f[q],B=d[q];break}return O<B?-1:B<O?1:0},o.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(f,d){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return o.alloc(0);let O;if(d===void 0)for(d=0,O=0;O<f.length;++O)d+=f[O].length;let B=o.allocUnsafe(d),q=0;for(O=0;O<f.length;++O){let ee=f[O];if(Re(ee,Uint8Array))q+ee.length>B.length?(o.isBuffer(ee)||(ee=o.from(ee)),ee.copy(B,q)):Uint8Array.prototype.set.call(B,ee,q);else if(o.isBuffer(ee))ee.copy(B,q);else throw new TypeError('"list" argument must be an Array of Buffers');q+=ee.length}return B};function T(_,f){if(o.isBuffer(_))return _.length;if(ArrayBuffer.isView(_)||Re(_,ArrayBuffer))return _.byteLength;if(typeof _!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof _);let d=_.length,O=arguments.length>2&&arguments[2]===!0;if(!O&&d===0)return 0;let B=!1;for(;;)switch(f){case"ascii":case"latin1":case"binary":return d;case"utf8":case"utf-8":return ye(_).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d*2;case"hex":return d>>>1;case"base64":return se(_).length;default:if(B)return O?-1:ye(_).length;f=(""+f).toLowerCase(),B=!0}}o.byteLength=T;function S(_,f,d){let O=!1;if((f===void 0||f<0)&&(f=0),f>this.length||((d===void 0||d>this.length)&&(d=this.length),d<=0)||(d>>>=0,f>>>=0,d<=f))return"";for(_||(_="utf8");;)switch(_){case"hex":return Z(this,f,d);case"utf8":case"utf-8":return H(this,f,d);case"ascii":return Te(this,f,d);case"latin1":case"binary":return Ae(this,f,d);case"base64":return Q(this,f,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return we(this,f,d);default:if(O)throw new TypeError("Unknown encoding: "+_);_=(_+"").toLowerCase(),O=!0}}o.prototype._isBuffer=!0;function P(_,f,d){let O=_[f];_[f]=_[d],_[d]=O}o.prototype.swap16=function(){let f=this.length;if(f%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let d=0;d<f;d+=2)P(this,d,d+1);return this},o.prototype.swap32=function(){let f=this.length;if(f%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let d=0;d<f;d+=4)P(this,d,d+3),P(this,d+1,d+2);return this},o.prototype.swap64=function(){let f=this.length;if(f%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let d=0;d<f;d+=8)P(this,d,d+7),P(this,d+1,d+6),P(this,d+2,d+5),P(this,d+3,d+4);return this},o.prototype.toString=function(){let f=this.length;return f===0?"":arguments.length===0?H(this,0,f):S.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(f){if(!o.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:o.compare(this,f)===0},o.prototype.inspect=function(){let f="",d=Zo.INSPECT_MAX_BYTES;return f=this.toString("hex",0,d).replace(/(.{2})/g,"$1 ").trim(),this.length>d&&(f+=" ... "),"<Buffer "+f+">"},r&&(o.prototype[r]=o.prototype.inspect),o.prototype.compare=function(f,d,O,B,q){if(Re(f,Uint8Array)&&(f=o.from(f,f.offset,f.byteLength)),!o.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(d===void 0&&(d=0),O===void 0&&(O=f?f.length:0),B===void 0&&(B=0),q===void 0&&(q=this.length),d<0||O>f.length||B<0||q>this.length)throw new RangeError("out of range index");if(B>=q&&d>=O)return 0;if(B>=q)return-1;if(d>=O)return 1;if(d>>>=0,O>>>=0,B>>>=0,q>>>=0,this===f)return 0;let ee=q-B,re=O-d,ue=Math.min(ee,re),Le=this.slice(B,q),ke=f.slice(d,O);for(let je=0;je<ue;++je)if(Le[je]!==ke[je]){ee=Le[je],re=ke[je];break}return ee<re?-1:re<ee?1:0};function A(_,f,d,O,B){if(_.length===0)return-1;if(typeof d=="string"?(O=d,d=0):d>2147483647?d=2147483647:d<-2147483648&&(d=-2147483648),d=+d,Se(d)&&(d=B?0:_.length-1),d<0&&(d=_.length+d),d>=_.length){if(B)return-1;d=_.length-1}else if(d<0)if(B)d=0;else return-1;if(typeof f=="string"&&(f=o.from(f,O)),o.isBuffer(f))return f.length===0?-1:N(_,f,d,O,B);if(typeof f=="number")return f=f&255,typeof Uint8Array.prototype.indexOf=="function"?B?Uint8Array.prototype.indexOf.call(_,f,d):Uint8Array.prototype.lastIndexOf.call(_,f,d):N(_,[f],d,O,B);throw new TypeError("val must be string, number or Buffer")}function N(_,f,d,O,B){let q=1,ee=_.length,re=f.length;if(O!==void 0&&(O=String(O).toLowerCase(),O==="ucs2"||O==="ucs-2"||O==="utf16le"||O==="utf-16le")){if(_.length<2||f.length<2)return-1;q=2,ee/=2,re/=2,d/=2}function ue(ke,je){return q===1?ke[je]:ke.readUInt16BE(je*q)}let Le;if(B){let ke=-1;for(Le=d;Le<ee;Le++)if(ue(_,Le)===ue(f,ke===-1?0:Le-ke)){if(ke===-1&&(ke=Le),Le-ke+1===re)return ke*q}else ke!==-1&&(Le-=Le-ke),ke=-1}else for(d+re>ee&&(d=ee-re),Le=d;Le>=0;Le--){let ke=!0;for(let je=0;je<re;je++)if(ue(_,Le+je)!==ue(f,je)){ke=!1;break}if(ke)return Le}return-1}o.prototype.includes=function(f,d,O){return this.indexOf(f,d,O)!==-1},o.prototype.indexOf=function(f,d,O){return A(this,f,d,O,!0)},o.prototype.lastIndexOf=function(f,d,O){return A(this,f,d,O,!1)};function C(_,f,d,O){d=Number(d)||0;let B=_.length-d;O?(O=Number(O),O>B&&(O=B)):O=B;let q=f.length;O>q/2&&(O=q/2);let ee;for(ee=0;ee<O;++ee){let re=parseInt(f.substr(ee*2,2),16);if(Se(re))return ee;_[d+ee]=re}return ee}function W(_,f,d,O){return Ee(ye(f,_.length-d),_,d,O)}function z(_,f,d,O){return Ee(le(f),_,d,O)}function j(_,f,d,O){return Ee(se(f),_,d,O)}function ne(_,f,d,O){return Ee(J(f,_.length-d),_,d,O)}o.prototype.write=function(f,d,O,B){if(d===void 0)B="utf8",O=this.length,d=0;else if(O===void 0&&typeof d=="string")B=d,O=this.length,d=0;else if(isFinite(d))d=d>>>0,isFinite(O)?(O=O>>>0,B===void 0&&(B="utf8")):(B=O,O=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let q=this.length-d;if((O===void 0||O>q)&&(O=q),f.length>0&&(O<0||d<0)||d>this.length)throw new RangeError("Attempt to write outside buffer bounds");B||(B="utf8");let ee=!1;for(;;)switch(B){case"hex":return C(this,f,d,O);case"utf8":case"utf-8":return W(this,f,d,O);case"ascii":case"latin1":case"binary":return z(this,f,d,O);case"base64":return j(this,f,d,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne(this,f,d,O);default:if(ee)throw new TypeError("Unknown encoding: "+B);B=(""+B).toLowerCase(),ee=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Q(_,f,d){return f===0&&d===_.length?t.fromByteArray(_):t.fromByteArray(_.slice(f,d))}function H(_,f,d){d=Math.min(_.length,d);let O=[],B=f;for(;B<d;){let q=_[B],ee=null,re=q>239?4:q>223?3:q>191?2:1;if(B+re<=d){let ue,Le,ke,je;switch(re){case 1:q<128&&(ee=q);break;case 2:ue=_[B+1],(ue&192)===128&&(je=(q&31)<<6|ue&63,je>127&&(ee=je));break;case 3:ue=_[B+1],Le=_[B+2],(ue&192)===128&&(Le&192)===128&&(je=(q&15)<<12|(ue&63)<<6|Le&63,je>2047&&(je<55296||je>57343)&&(ee=je));break;case 4:ue=_[B+1],Le=_[B+2],ke=_[B+3],(ue&192)===128&&(Le&192)===128&&(ke&192)===128&&(je=(q&15)<<18|(ue&63)<<12|(Le&63)<<6|ke&63,je>65535&&je<1114112&&(ee=je))}}ee===null?(ee=65533,re=1):ee>65535&&(ee-=65536,O.push(ee>>>10&1023|55296),ee=56320|ee&1023),O.push(ee),B+=re}return me(O)}let fe=4096;function me(_){let f=_.length;if(f<=fe)return String.fromCharCode.apply(String,_);let d="",O=0;for(;O<f;)d+=String.fromCharCode.apply(String,_.slice(O,O+=fe));return d}function Te(_,f,d){let O="";d=Math.min(_.length,d);for(let B=f;B<d;++B)O+=String.fromCharCode(_[B]&127);return O}function Ae(_,f,d){let O="";d=Math.min(_.length,d);for(let B=f;B<d;++B)O+=String.fromCharCode(_[B]);return O}function Z(_,f,d){let O=_.length;(!f||f<0)&&(f=0),(!d||d<0||d>O)&&(d=O);let B="";for(let q=f;q<d;++q)B+=Ge[_[q]];return B}function we(_,f,d){let O=_.slice(f,d),B="";for(let q=0;q<O.length-1;q+=2)B+=String.fromCharCode(O[q]+O[q+1]*256);return B}o.prototype.slice=function(f,d){let O=this.length;f=~~f,d=d===void 0?O:~~d,f<0?(f+=O,f<0&&(f=0)):f>O&&(f=O),d<0?(d+=O,d<0&&(d=0)):d>O&&(d=O),d<f&&(d=f);let B=this.subarray(f,d);return Object.setPrototypeOf(B,o.prototype),B};function D(_,f,d){if(_%1!==0||_<0)throw new RangeError("offset is not uint");if(_+f>d)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(f,d,O){f=f>>>0,d=d>>>0,O||D(f,d,this.length);let B=this[f],q=1,ee=0;for(;++ee<d&&(q*=256);)B+=this[f+ee]*q;return B},o.prototype.readUintBE=o.prototype.readUIntBE=function(f,d,O){f=f>>>0,d=d>>>0,O||D(f,d,this.length);let B=this[f+--d],q=1;for(;d>0&&(q*=256);)B+=this[f+--d]*q;return B},o.prototype.readUint8=o.prototype.readUInt8=function(f,d){return f=f>>>0,d||D(f,1,this.length),this[f]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(f,d){return f=f>>>0,d||D(f,2,this.length),this[f]|this[f+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(f,d){return f=f>>>0,d||D(f,2,this.length),this[f]<<8|this[f+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(f,d){return f=f>>>0,d||D(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(f,d){return f=f>>>0,d||D(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},o.prototype.readBigUInt64LE=Ve(function(f){f=f>>>0,$(f,"offset");let d=this[f],O=this[f+7];(d===void 0||O===void 0)&&v(f,this.length-8);let B=d+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24,q=this[++f]+this[++f]*2**8+this[++f]*2**16+O*2**24;return BigInt(B)+(BigInt(q)<<BigInt(32))}),o.prototype.readBigUInt64BE=Ve(function(f){f=f>>>0,$(f,"offset");let d=this[f],O=this[f+7];(d===void 0||O===void 0)&&v(f,this.length-8);let B=d*2**24+this[++f]*2**16+this[++f]*2**8+this[++f],q=this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+O;return(BigInt(B)<<BigInt(32))+BigInt(q)}),o.prototype.readIntLE=function(f,d,O){f=f>>>0,d=d>>>0,O||D(f,d,this.length);let B=this[f],q=1,ee=0;for(;++ee<d&&(q*=256);)B+=this[f+ee]*q;return q*=128,B>=q&&(B-=Math.pow(2,8*d)),B},o.prototype.readIntBE=function(f,d,O){f=f>>>0,d=d>>>0,O||D(f,d,this.length);let B=d,q=1,ee=this[f+--B];for(;B>0&&(q*=256);)ee+=this[f+--B]*q;return q*=128,ee>=q&&(ee-=Math.pow(2,8*d)),ee},o.prototype.readInt8=function(f,d){return f=f>>>0,d||D(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},o.prototype.readInt16LE=function(f,d){f=f>>>0,d||D(f,2,this.length);let O=this[f]|this[f+1]<<8;return O&32768?O|4294901760:O},o.prototype.readInt16BE=function(f,d){f=f>>>0,d||D(f,2,this.length);let O=this[f+1]|this[f]<<8;return O&32768?O|4294901760:O},o.prototype.readInt32LE=function(f,d){return f=f>>>0,d||D(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},o.prototype.readInt32BE=function(f,d){return f=f>>>0,d||D(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},o.prototype.readBigInt64LE=Ve(function(f){f=f>>>0,$(f,"offset");let d=this[f],O=this[f+7];(d===void 0||O===void 0)&&v(f,this.length-8);let B=this[f+4]+this[f+5]*2**8+this[f+6]*2**16+(O<<24);return(BigInt(B)<<BigInt(32))+BigInt(d+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24)}),o.prototype.readBigInt64BE=Ve(function(f){f=f>>>0,$(f,"offset");let d=this[f],O=this[f+7];(d===void 0||O===void 0)&&v(f,this.length-8);let B=(d<<24)+this[++f]*2**16+this[++f]*2**8+this[++f];return(BigInt(B)<<BigInt(32))+BigInt(this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+O)}),o.prototype.readFloatLE=function(f,d){return f=f>>>0,d||D(f,4,this.length),e.read(this,f,!0,23,4)},o.prototype.readFloatBE=function(f,d){return f=f>>>0,d||D(f,4,this.length),e.read(this,f,!1,23,4)},o.prototype.readDoubleLE=function(f,d){return f=f>>>0,d||D(f,8,this.length),e.read(this,f,!0,52,8)},o.prototype.readDoubleBE=function(f,d){return f=f>>>0,d||D(f,8,this.length),e.read(this,f,!1,52,8)};function ae(_,f,d,O,B,q){if(!o.isBuffer(_))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>B||f<q)throw new RangeError('"value" argument is out of bounds');if(d+O>_.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(f,d,O,B){if(f=+f,d=d>>>0,O=O>>>0,!B){let re=Math.pow(2,8*O)-1;ae(this,f,d,O,re,0)}let q=1,ee=0;for(this[d]=f&255;++ee<O&&(q*=256);)this[d+ee]=f/q&255;return d+O},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(f,d,O,B){if(f=+f,d=d>>>0,O=O>>>0,!B){let re=Math.pow(2,8*O)-1;ae(this,f,d,O,re,0)}let q=O-1,ee=1;for(this[d+q]=f&255;--q>=0&&(ee*=256);)this[d+q]=f/ee&255;return d+O},o.prototype.writeUint8=o.prototype.writeUInt8=function(f,d,O){return f=+f,d=d>>>0,O||ae(this,f,d,1,255,0),this[d]=f&255,d+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(f,d,O){return f=+f,d=d>>>0,O||ae(this,f,d,2,65535,0),this[d]=f&255,this[d+1]=f>>>8,d+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(f,d,O){return f=+f,d=d>>>0,O||ae(this,f,d,2,65535,0),this[d]=f>>>8,this[d+1]=f&255,d+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(f,d,O){return f=+f,d=d>>>0,O||ae(this,f,d,4,4294967295,0),this[d+3]=f>>>24,this[d+2]=f>>>16,this[d+1]=f>>>8,this[d]=f&255,d+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(f,d,O){return f=+f,d=d>>>0,O||ae(this,f,d,4,4294967295,0),this[d]=f>>>24,this[d+1]=f>>>16,this[d+2]=f>>>8,this[d+3]=f&255,d+4};function Y(_,f,d,O,B){he(f,O,B,_,d,7);let q=Number(f&BigInt(4294967295));_[d++]=q,q=q>>8,_[d++]=q,q=q>>8,_[d++]=q,q=q>>8,_[d++]=q;let ee=Number(f>>BigInt(32)&BigInt(4294967295));return _[d++]=ee,ee=ee>>8,_[d++]=ee,ee=ee>>8,_[d++]=ee,ee=ee>>8,_[d++]=ee,d}function F(_,f,d,O,B){he(f,O,B,_,d,7);let q=Number(f&BigInt(4294967295));_[d+7]=q,q=q>>8,_[d+6]=q,q=q>>8,_[d+5]=q,q=q>>8,_[d+4]=q;let ee=Number(f>>BigInt(32)&BigInt(4294967295));return _[d+3]=ee,ee=ee>>8,_[d+2]=ee,ee=ee>>8,_[d+1]=ee,ee=ee>>8,_[d]=ee,d+8}o.prototype.writeBigUInt64LE=Ve(function(f,d=0){return Y(this,f,d,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Ve(function(f,d=0){return F(this,f,d,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(f,d,O,B){if(f=+f,d=d>>>0,!B){let ue=Math.pow(2,8*O-1);ae(this,f,d,O,ue-1,-ue)}let q=0,ee=1,re=0;for(this[d]=f&255;++q<O&&(ee*=256);)f<0&&re===0&&this[d+q-1]!==0&&(re=1),this[d+q]=(f/ee>>0)-re&255;return d+O},o.prototype.writeIntBE=function(f,d,O,B){if(f=+f,d=d>>>0,!B){let ue=Math.pow(2,8*O-1);ae(this,f,d,O,ue-1,-ue)}let q=O-1,ee=1,re=0;for(this[d+q]=f&255;--q>=0&&(ee*=256);)f<0&&re===0&&this[d+q+1]!==0&&(re=1),this[d+q]=(f/ee>>0)-re&255;return d+O},o.prototype.writeInt8=function(f,d,O){return f=+f,d=d>>>0,O||ae(this,f,d,1,127,-128),f<0&&(f=255+f+1),this[d]=f&255,d+1},o.prototype.writeInt16LE=function(f,d,O){return f=+f,d=d>>>0,O||ae(this,f,d,2,32767,-32768),this[d]=f&255,this[d+1]=f>>>8,d+2},o.prototype.writeInt16BE=function(f,d,O){return f=+f,d=d>>>0,O||ae(this,f,d,2,32767,-32768),this[d]=f>>>8,this[d+1]=f&255,d+2},o.prototype.writeInt32LE=function(f,d,O){return f=+f,d=d>>>0,O||ae(this,f,d,4,2147483647,-2147483648),this[d]=f&255,this[d+1]=f>>>8,this[d+2]=f>>>16,this[d+3]=f>>>24,d+4},o.prototype.writeInt32BE=function(f,d,O){return f=+f,d=d>>>0,O||ae(this,f,d,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[d]=f>>>24,this[d+1]=f>>>16,this[d+2]=f>>>8,this[d+3]=f&255,d+4},o.prototype.writeBigInt64LE=Ve(function(f,d=0){return Y(this,f,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Ve(function(f,d=0){return F(this,f,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function te(_,f,d,O,B,q){if(d+O>_.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("Index out of range")}function pe(_,f,d,O,B){return f=+f,d=d>>>0,B||te(_,f,d,4),e.write(_,f,d,O,23,4),d+4}o.prototype.writeFloatLE=function(f,d,O){return pe(this,f,d,!0,O)},o.prototype.writeFloatBE=function(f,d,O){return pe(this,f,d,!1,O)};function Ie(_,f,d,O,B){return f=+f,d=d>>>0,B||te(_,f,d,8),e.write(_,f,d,O,52,8),d+8}o.prototype.writeDoubleLE=function(f,d,O){return Ie(this,f,d,!0,O)},o.prototype.writeDoubleBE=function(f,d,O){return Ie(this,f,d,!1,O)},o.prototype.copy=function(f,d,O,B){if(!o.isBuffer(f))throw new TypeError("argument should be a Buffer");if(O||(O=0),!B&&B!==0&&(B=this.length),d>=f.length&&(d=f.length),d||(d=0),B>0&&B<O&&(B=O),B===O||f.length===0||this.length===0)return 0;if(d<0)throw new RangeError("targetStart out of bounds");if(O<0||O>=this.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("sourceEnd out of bounds");B>this.length&&(B=this.length),f.length-d<B-O&&(B=f.length-d+O);let q=B-O;return this===f&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(d,O,B):Uint8Array.prototype.set.call(f,this.subarray(O,B),d),q},o.prototype.fill=function(f,d,O,B){if(typeof f=="string"){if(typeof d=="string"?(B=d,d=0,O=this.length):typeof O=="string"&&(B=O,O=this.length),B!==void 0&&typeof B!="string")throw new TypeError("encoding must be a string");if(typeof B=="string"&&!o.isEncoding(B))throw new TypeError("Unknown encoding: "+B);if(f.length===1){let ee=f.charCodeAt(0);(B==="utf8"&&ee<128||B==="latin1")&&(f=ee)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(d<0||this.length<d||this.length<O)throw new RangeError("Out of range index");if(O<=d)return this;d=d>>>0,O=O===void 0?this.length:O>>>0,f||(f=0);let q;if(typeof f=="number")for(q=d;q<O;++q)this[q]=f;else{let ee=o.isBuffer(f)?f:o.from(f,B),re=ee.length;if(re===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(q=0;q<O-d;++q)this[q+d]=ee[q%re]}return this};let M={};function I(_,f,d){M[_]=class extends d{constructor(){super(),Object.defineProperty(this,"message",{value:f.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${_}]`,this.stack,delete this.name}get code(){return _}set code(B){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:B,writable:!0})}toString(){return`${this.name} [${_}]: ${this.message}`}}}I("ERR_BUFFER_OUT_OF_BOUNDS",function(_){return _?`${_} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),I("ERR_INVALID_ARG_TYPE",function(_,f){return`The "${_}" argument must be of type number. Received type ${typeof f}`},TypeError),I("ERR_OUT_OF_RANGE",function(_,f,d){let O=`The value of "${_}" is out of range.`,B=d;return Number.isInteger(d)&&Math.abs(d)>2**32?B=k(String(d)):typeof d=="bigint"&&(B=String(d),(d>BigInt(2)**BigInt(32)||d<-(BigInt(2)**BigInt(32)))&&(B=k(B)),B+="n"),O+=` It must be ${f}. Received ${B}`,O},RangeError);function k(_){let f="",d=_.length,O=_[0]==="-"?1:0;for(;d>=O+4;d-=3)f=`_${_.slice(d-3,d)}${f}`;return`${_.slice(0,d)}${f}`}function ie(_,f,d){$(f,"offset"),(_[f]===void 0||_[f+d]===void 0)&&v(f,_.length-(d+1))}function he(_,f,d,O,B,q){if(_>d||_<f){let ee=typeof f=="bigint"?"n":"",re;throw f===0||f===BigInt(0)?re=`>= 0${ee} and < 2${ee} ** ${(q+1)*8}${ee}`:re=`>= -(2${ee} ** ${(q+1)*8-1}${ee}) and < 2 ** ${(q+1)*8-1}${ee}`,new M.ERR_OUT_OF_RANGE("value",re,_)}ie(O,B,q)}function $(_,f){if(typeof _!="number")throw new M.ERR_INVALID_ARG_TYPE(f,"number",_)}function v(_,f,d){throw Math.floor(_)!==_?($(_,d),new M.ERR_OUT_OF_RANGE("offset","an integer",_)):f<0?new M.ERR_BUFFER_OUT_OF_BOUNDS:new M.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${f}`,_)}let L=/[^+/0-9A-Za-z-_]/g;function V(_){if(_=_.split("=")[0],_=_.trim().replace(L,""),_.length<2)return"";for(;_.length%4!==0;)_=_+"=";return _}function ye(_,f){f=f||1/0;let d,O=_.length,B=null,q=[];for(let ee=0;ee<O;++ee){if(d=_.charCodeAt(ee),d>55295&&d<57344){if(!B){if(d>56319){(f-=3)>-1&&q.push(239,191,189);continue}else if(ee+1===O){(f-=3)>-1&&q.push(239,191,189);continue}B=d;continue}if(d<56320){(f-=3)>-1&&q.push(239,191,189),B=d;continue}d=(B-55296<<10|d-56320)+65536}else B&&(f-=3)>-1&&q.push(239,191,189);if(B=null,d<128){if((f-=1)<0)break;q.push(d)}else if(d<2048){if((f-=2)<0)break;q.push(d>>6|192,d&63|128)}else if(d<65536){if((f-=3)<0)break;q.push(d>>12|224,d>>6&63|128,d&63|128)}else if(d<1114112){if((f-=4)<0)break;q.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw new Error("Invalid code point")}return q}function le(_){let f=[];for(let d=0;d<_.length;++d)f.push(_.charCodeAt(d)&255);return f}function J(_,f){let d,O,B,q=[];for(let ee=0;ee<_.length&&!((f-=2)<0);++ee)d=_.charCodeAt(ee),O=d>>8,B=d%256,q.push(B),q.push(O);return q}function se(_){return t.toByteArray(V(_))}function Ee(_,f,d,O){let B;for(B=0;B<O&&!(B+d>=f.length||B>=_.length);++B)f[B+d]=_[B];return B}function Re(_,f){return _ instanceof f||_!=null&&_.constructor!=null&&_.constructor.name!=null&&_.constructor.name===f.name}function Se(_){return _!==_}let Ge=function(){let _="0123456789abcdef",f=new Array(256);for(let d=0;d<16;++d){let O=d*16;for(let B=0;B<16;++B)f[O+B]=_[d]+_[B]}return f}();function Ve(_){return typeof BigInt>"u"?Ke:_}function Ke(){throw new Error("BigInt not supported")}return Zo}var lu,Dw,Rl,Fw,Zo,qw,cu=Rt(()=>{x();lu={},Dw=!1;Rl={},Fw=!1;Zo={},qw=!1});var go={};qn(go,{Buffer:()=>oe,INSPECT_MAX_BYTES:()=>pC,default:()=>mo,kMaxLength:()=>yC});var mo,oe,pC,yC,Pi=Rt(()=>{x();cu();mo=hr();mo.Buffer;mo.SlowBuffer;mo.INSPECT_MAX_BYTES;mo.kMaxLength;oe=mo.Buffer,pC=mo.INSPECT_MAX_BYTES,yC=mo.kMaxLength});var x=Rt(()=>{Pi()});var Gs=de(Ut=>{"use strict";x();Object.defineProperty(Ut,"__esModule",{value:!0});Ut.ThingEvent=Ut.ThingAction=Ut.ThingProperty=Ut.BaseSchema=Ut.Form=Ut.Thing=Ut.DEFAULT_THING_TYPE=Ut.DEFAULT_CONTEXT_LANGUAGE=Ut.DEFAULT_CONTEXT_V11=Ut.DEFAULT_CONTEXT_V1=void 0;Ut.DEFAULT_CONTEXT_V1="https://www.w3.org/2019/wot/td/v1";Ut.DEFAULT_CONTEXT_V11="https://www.w3.org/2022/wot/td/v1.1";Ut.DEFAULT_CONTEXT_LANGUAGE="en";Ut.DEFAULT_THING_TYPE="Thing";var Eh=class{constructor(){this["@context"]=[Ut.DEFAULT_CONTEXT_V1,Ut.DEFAULT_CONTEXT_V11],this["@type"]=Ut.DEFAULT_THING_TYPE,this.title="",this.securityDefinitions={},this.security="",this.properties={},this.actions={},this.events={},this.links=[]}};Ut.Thing=Eh;var Sh=class{constructor(e,r){this.href=e,r!=null&&(this.contentType=r)}};Ut.Form=Sh;var Ol=class{};Ut.BaseSchema=Ol;var Th=class extends Ol{};Ut.ThingProperty=Th;var Ah=class{};Ut.ThingAction=Ah;var $h=class{};Ut.ThingEvent=$h});var Hw=de((bH,Ww)=>{x();var Ys=1e3,Ks=Ys*60,Js=Ks*60,Qo=Js*24,mC=Qo*7,gC=Qo*365.25;Ww.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return bC(t);if(r==="number"&&isFinite(t))return e.long?wC(t):_C(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function bC(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*gC;case"weeks":case"week":case"w":return r*mC;case"days":case"day":case"d":return r*Qo;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Js;case"minutes":case"minute":case"mins":case"min":case"m":return r*Ks;case"seconds":case"second":case"secs":case"sec":case"s":return r*Ys;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function _C(t){var e=Math.abs(t);return e>=Qo?Math.round(t/Qo)+"d":e>=Js?Math.round(t/Js)+"h":e>=Ks?Math.round(t/Ks)+"m":e>=Ys?Math.round(t/Ys)+"s":t+"ms"}function wC(t){var e=Math.abs(t);return e>=Qo?Pl(t,e,Qo,"day"):e>=Js?Pl(t,e,Js,"hour"):e>=Ks?Pl(t,e,Ks,"minute"):e>=Ys?Pl(t,e,Ys,"second"):t+" ms"}function Pl(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var Vw=de((vH,zw)=>{x();function vC(t){r.debug=r,r.default=r,r.coerce=u,r.disable=o,r.enable=i,r.enabled=a,r.humanize=Hw(),r.destroy=c,Object.keys(t).forEach(l=>{r[l]=t[l]}),r.names=[],r.skips=[],r.formatters={};function e(l){let p=0;for(let h=0;h<l.length;h++)p=(p<<5)-p+l.charCodeAt(h),p|=0;return r.colors[Math.abs(p)%r.colors.length]}r.selectColor=e;function r(l){let p,h=null,y,b;function w(...m){if(!w.enabled)return;let E=w,T=Number(new Date),S=T-(p||T);E.diff=S,E.prev=p,E.curr=T,p=T,m[0]=r.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");let P=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,(N,C)=>{if(N==="%%")return"%";P++;let W=r.formatters[C];if(typeof W=="function"){let z=m[P];N=W.call(E,z),m.splice(P,1),P--}return N}),r.formatArgs.call(E,m),(E.log||r.log).apply(E,m)}return w.namespace=l,w.useColors=r.useColors(),w.color=r.selectColor(l),w.extend=n,w.destroy=r.destroy,Object.defineProperty(w,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(y!==r.namespaces&&(y=r.namespaces,b=r.enabled(l)),b),set:m=>{h=m}}),typeof r.init=="function"&&r.init(w),w}function n(l,p){let h=r(this.namespace+(typeof p>"u"?":":p)+l);return h.log=this.log,h}function i(l){r.save(l),r.namespaces=l,r.names=[],r.skips=[];let p=(typeof l=="string"?l:"").trim().replace(" ",",").split(",").filter(Boolean);for(let h of p)h[0]==="-"?r.skips.push(h.slice(1)):r.names.push(h)}function s(l,p){let h=0,y=0,b=-1,w=0;for(;h<l.length;)if(y<p.length&&(p[y]===l[h]||p[y]==="*"))p[y]==="*"?(b=y,w=h,y++):(h++,y++);else if(b!==-1)y=b+1,w++,h=w;else return!1;for(;y<p.length&&p[y]==="*";)y++;return y===p.length}function o(){let l=[...r.names,...r.skips.map(p=>"-"+p)].join(",");return r.enable(""),l}function a(l){for(let p of r.skips)if(s(l,p))return!1;for(let p of r.names)if(s(l,p))return!0;return!1}function u(l){return l instanceof Error?l.stack||l.message:l}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}zw.exports=vC});var Rh=de((wn,Il)=>{x();wn.formatArgs=SC;wn.save=TC;wn.load=AC;wn.useColors=EC;wn.storage=$C();wn.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();wn.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function EC(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function SC(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Il.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}wn.log=console.debug||console.log||(()=>{});function TC(t){try{t?wn.storage.setItem("debug",t):wn.storage.removeItem("debug")}catch{}}function AC(){let t;try{t=wn.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function $C(){try{return localStorage}catch{}}Il.exports=Vw()(wn);var{formatters:RC}=Il.exports;RC.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Wr=de(Ii=>{"use strict";x();var OC=Ii&&Ii.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ii,"__esModule",{value:!0});Ii.createInfoLogger=Gw;Ii.createDebugLogger=Yw;Ii.createWarnLogger=Kw;Ii.createErrorLogger=Jw;Ii.createLoggers=IC;var PC=OC(Rh()),es;(function(t){t[t.info=0]="info",t[t.debug=1]="debug",t[t.warn=2]="warn",t[t.error=3]="error"})(es||(es={}));function Cl(t,e){let r=["node-wot",...t,es[e]].join(":");return(0,PC.default)(r)}function Gw(...t){return Cl(t,es.info)}function Yw(...t){return Cl(t,es.debug)}function Kw(...t){return Cl(t,es.warn)}function Jw(...t){return Cl(t,es.error)}function IC(...t){return{info:Gw(...t),debug:Yw(...t),warn:Kw(...t),error:Jw(...t)}}});var Zw=de((PH,Xw)=>{"use strict";x();Xw.exports=t=>{if(typeof t!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof t}\``);return/^[a-zA-Z]:\\/.test(t)?!1:/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(t)}});var Qw=de((du,Oh)=>{x();(function(t){var e=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,r=/^([^\/?#]*)(.*)$/,n=/(?:\/|^)\.(?=\/)/g,i=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,s={buildAbsoluteURL:function(o,a,u){if(u=u||{},o=o.trim(),a=a.trim(),!a){if(!u.alwaysNormalize)return o;var c=s.parseURL(o);if(!c)throw new Error("Error trying to parse base URL.");return c.path=s.normalizePath(c.path),s.buildURLFromParts(c)}var l=s.parseURL(a);if(!l)throw new Error("Error trying to parse relative URL.");if(l.scheme)return u.alwaysNormalize?(l.path=s.normalizePath(l.path),s.buildURLFromParts(l)):a;var p=s.parseURL(o);if(!p)throw new Error("Error trying to parse base URL.");if(!p.netLoc&&p.path&&p.path[0]!=="/"){var h=r.exec(p.path);p.netLoc=h[1],p.path=h[2]}p.netLoc&&!p.path&&(p.path="/");var y={scheme:p.scheme,netLoc:l.netLoc,path:null,params:l.params,query:l.query,fragment:l.fragment};if(!l.netLoc&&(y.netLoc=p.netLoc,l.path[0]!=="/"))if(!l.path)y.path=p.path,l.params||(y.params=p.params,l.query||(y.query=p.query));else{var b=p.path,w=b.substring(0,b.lastIndexOf("/")+1)+l.path;y.path=s.normalizePath(w)}return y.path===null&&(y.path=u.alwaysNormalize?s.normalizePath(l.path):l.path),s.buildURLFromParts(y)},parseURL:function(o){var a=e.exec(o);return a?{scheme:a[1]||"",netLoc:a[2]||"",path:a[3]||"",params:a[4]||"",query:a[5]||"",fragment:a[6]||""}:null},normalizePath:function(o){for(o=o.split("").reverse().join("").replace(n,"");o.length!==(o=o.replace(i,"")).length;);return o.split("").reverse().join("")},buildURLFromParts:function(o){return o.scheme+o.netLoc+o.path+o.params+o.query+o.fragment}};typeof du=="object"&&typeof Oh=="object"?Oh.exports=s:typeof define=="function"&&define.amd?define([],function(){return s}):typeof du=="object"?du.URLToolkit=s:t.URLToolkit=s})(du)});var xl=de(Wn=>{"use strict";x();var CC=Wn&&Wn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),NC=Wn&&Wn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),xC=Wn&&Wn.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var n=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[n.length]=i);return n},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n=t(e),i=0;i<n.length;i++)n[i]!=="default"&&CC(r,e,n[i]);return NC(r,e),r}}();Object.defineProperty(Wn,"__esModule",{value:!0});Wn.setContextLanguage=ev;Wn.parseTD=UC;Wn.serializeTD=kC;var qt=xC(Gs()),MC=Wr(),Ph=Zw(),LC=Qw(),{debug:Ih,warn:BC}=(0,MC.createLoggers)("core","serdes");function jC(t,e){let r=t[e];(typeof r!="object"||r==null)&&(t[e]={})}function Nl(t,e){let r=t[e];(r===void 0||typeof r!="boolean")&&(t[e]=!1)}function ev(t,e,r){if(Array.isArray(t["@context"])){let n=t["@context"],i=!1;for(let s of n)typeof s=="object"&&s["@language"]!==void 0&&(r&&(s["@language"]=e),i=!0);i||n.push({"@language":e})}}function UC(t,e){Ih(`parseTD() parsing
\`\`\`
${t}
\`\`\``);let r=JSON.parse(t.replace(/^\uFEFF/,""));if(r["@context"]===void 0)r["@context"]=[qt.DEFAULT_CONTEXT_V1,qt.DEFAULT_CONTEXT_V11];else if(Array.isArray(r["@context"])){let i=r["@context"],s=i.indexOf(qt.DEFAULT_CONTEXT_V1),o=i.indexOf(qt.DEFAULT_CONTEXT_V11);s===-1&&o===-1?(i.unshift(qt.DEFAULT_CONTEXT_V11),i.unshift(qt.DEFAULT_CONTEXT_V1)):(s!==-1&&o!==-1?(i=i.filter(function(a){return a!==qt.DEFAULT_CONTEXT_V1}),i=i.filter(function(a){return a!==qt.DEFAULT_CONTEXT_V11}),i.unshift(qt.DEFAULT_CONTEXT_V11),i.unshift(qt.DEFAULT_CONTEXT_V1)):(s!==-1&&s!==0&&(i=i.filter(function(a){return a!==qt.DEFAULT_CONTEXT_V1}),i.unshift(qt.DEFAULT_CONTEXT_V1)),o!==-1&&o!==0&&(i=i.filter(function(a){return a!==qt.DEFAULT_CONTEXT_V11}),i.unshift(qt.DEFAULT_CONTEXT_V11))),r["@context"]=i)}else if(r["@context"]!==qt.DEFAULT_CONTEXT_V1&&r["@context"]!==qt.DEFAULT_CONTEXT_V11){let i=r["@context"];r["@context"]=[qt.DEFAULT_CONTEXT_V1,qt.DEFAULT_CONTEXT_V11,i]}if(ev(r,qt.DEFAULT_CONTEXT_LANGUAGE,!1),r["@type"]===void 0)r["@type"]=qt.DEFAULT_THING_TYPE;else if(Array.isArray(r["@type"])){let i=r["@type"];i.indexOf(qt.DEFAULT_THING_TYPE)===-1&&i.unshift(qt.DEFAULT_THING_TYPE)}else if(r["@type"]!==qt.DEFAULT_THING_TYPE){let i=r["@type"];r["@type"]=[qt.DEFAULT_THING_TYPE,i]}for(let i of Object.values(r.properties??{}))for(let s of["readOnly","writeOnly","observable"])Nl(i,s);for(let i of Object.values(r.actions??{}))for(let s of["safe","idempotent"])Nl(i,s);for(let i of["properties","actions","events"])jC(r,i);r.security===void 0&&BC("parseTD() found no security metadata"),typeof r.security=="string"&&(r.security=[r.security]);let n=[];for(let[i,s]of Object.entries(r.properties??{})){if(s.forms==null)throw new Error(`Property '${i}' has no forms field`);for(let o of s.forms){if(!o.href)throw new Error(`Form of Property '${i}' has no href field`);if(!Ph(o.href)&&r.base==null)throw new Error(`Form of Property '${i}' has relative URI while TD has no base field`);n.push(o)}}for(let[i,s]of Object.entries(r.actions??{})){if(s.forms==null)throw new Error(`Action '${i}' has no forms field`);for(let o of s.forms){if(!o.href)throw new Error(`Form of Action '${i}' has no href field`);if(!Ph(o.href)&&r.base==null)throw new Error(`Form of Action '${i}' has relative URI while TD has no base field`);n.push(o)}}for(let[i,s]of Object.entries(r.events??{})){if(s.forms==null)throw new Error(`Event '${i}' has no forms field`);for(let o of s.forms){if(!o.href)throw new Error(`Form of Event '${i}' has no href field`);if(!Ph(o.href)&&r.base==null)throw new Error(`Form of Event '${i}' has relative URI while TD has no base field`);n.push(o)}}if(Object.prototype.hasOwnProperty.call(r,"base")&&(e===void 0||e===!0)){Ih("parseTD() normalizing 'base' into 'forms'");for(let i of n)i.href.match(/^([a-z0-9+-.]+:).+/i)||(Ih(`parseTDString() applying base '${r.base}' to '${i.href}'`),i.href=LC.buildAbsoluteURL(r.base,i.href))}return r}function kC(t){let e=JSON.parse(JSON.stringify(t));if((e.security==null||e.security.length===0)&&(e.securityDefinitions={nosec_sc:{scheme:"nosec"}},e.security=["nosec_sc"]),e.forms?.length===0&&delete e.forms,e.properties!=null&&Object.keys(e.properties).length===0)delete e.properties;else if(e.properties!=null)for(let n of Object.values(e.properties))for(let i of["readOnly","writeOnly","observable"])Nl(n,i);if(e.actions!=null&&Object.keys(e.actions).length===0)delete e.actions;else if(e.actions!=null)for(let n of Object.values(e.actions))for(let i of["safe","idempotent"])Nl(n,i);return e.events!=null&&Object.keys(e.events).length===0&&delete e.events,e?.links.length===0&&delete e.links,JSON.stringify(e)}});function DC(t,e){this.fun=t,this.array=e}function xh(){return bo.now()/1e3}function tv(t){var e=Math.floor((Date.now()-bo.now())*.001),r=bo.now()*.001,n=Math.floor(r)+e,i=Math.floor(r%1*1e9);return t&&(n=n-t[0],i=i-t[1],i<0&&(n--,i+=Nh)),[n,i]}var jH,bo,Ch,Nh,rv=Rt(()=>{x();DC.prototype.run=function(){this.fun.apply(null,this.array)};jH={PATH:"/usr/bin",LANG:typeof navigator<"u"?navigator.language+".UTF-8":void 0,PWD:"/",HOME:"/home",TMP:"/tmp"},bo={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0};bo.now===void 0&&(Ch=Date.now(),bo.timing&&bo.timing.navigationStart&&(Ch=bo.timing.navigationStart),bo.now=()=>Date.now()-Ch);Nh=1e9;tv.bigint=function(t){var e=tv(t);return typeof BigInt>"u"?e[0]*Nh+e[1]:BigInt(e[0]*Nh)+BigInt(e[1])}});var iv={};qn(iv,{EOL:()=>zC,arch:()=>VC,constants:()=>HC,cpus:()=>GC,default:()=>tt,endianness:()=>YC,freemem:()=>KC,getNetworkInterfaces:()=>JC,homedir:()=>XC,hostname:()=>ZC,loadavg:()=>QC,networkInterfaces:()=>eN,platform:()=>tN,release:()=>rN,tmpDir:()=>nN,tmpdir:()=>iN,totalmem:()=>oN,type:()=>sN,uptime:()=>xh,version:()=>WC});function FC(){return nv||(nv=!0,cr.endianness=function(){return"LE"},cr.hostname=function(){return typeof location<"u"?location.hostname:""},cr.loadavg=function(){return[]},cr.uptime=function(){return 0},cr.freemem=function(){return Number.MAX_VALUE},cr.totalmem=function(){return Number.MAX_VALUE},cr.cpus=function(){return[]},cr.type=function(){return"Browser"},cr.release=function(){return typeof navigator<"u"?navigator.appVersion:""},cr.networkInterfaces=cr.getNetworkInterfaces=function(){return{}},cr.arch=function(){return"javascript"},cr.platform=function(){return"browser"},cr.tmpdir=cr.tmpDir=function(){return"/tmp"},cr.EOL=`
`,cr.homedir=function(){return"/"}),cr}var cr,nv,tt,qC,WC,HC,zC,VC,GC,YC,KC,JC,XC,ZC,QC,eN,tN,rN,nN,iN,oN,sN,ov=Rt(()=>{x();rv();cr={},nv=!1;tt=FC();tt.endianness;tt.hostname;tt.loadavg;tt.uptime;tt.freemem;tt.totalmem;tt.cpus;tt.type;tt.release;tt.networkInterfaces;tt.getNetworkInterfaces;tt.arch;tt.platform;tt.tmpdir;tt.tmpDir;tt.EOL;tt.homedir;qC=new Uint8Array(new Uint16Array([1]).buffer)[0]===1?"LE":"BE";tt.endianness=function(){return qC};tt.homedir=function(){return"/home"};tt.version=function(){return""};tt.arch=function(){return"x64"};tt.totalmem=function(){return navigator.deviceMemory!==void 0?navigator.deviceMemory*(1<<30):2*(1<<30)};tt.cpus=function(){return Array(navigator.hardwareConcurrency||0).fill({model:"",times:{}})};tt.uptime=xh;tt.constants={};WC=tt.version,HC=tt.constants,zC=tt.EOL,VC=tt.arch,GC=tt.cpus,YC=tt.endianness,KC=tt.freemem,JC=tt.getNetworkInterfaces,XC=tt.homedir,ZC=tt.hostname,QC=tt.loadavg,eN=tt.networkInterfaces,tN=tt.platform,rN=tt.release,nN=tt.tmpDir,iN=tt.tmpdir,oN=tt.totalmem,sN=tt.type});var yu=de(vt=>{"use strict";x();Object.defineProperty(vt,"__esModule",{value:!0});vt.regexpCode=vt.getEsmExportName=vt.getProperty=vt.safeStringify=vt.stringify=vt.strConcat=vt.addCodeArg=vt.str=vt._=vt.nil=vt._Code=vt.Name=vt.IDENTIFIER=vt._CodeOrName=void 0;var hu=class{};vt._CodeOrName=hu;vt.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var ts=class extends hu{constructor(e){if(super(),!vt.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};vt.Name=ts;var Cn=class extends hu{constructor(e){super(),this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((r,n)=>`${r}${n}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((r,n)=>(n instanceof ts&&(r[n.str]=(r[n.str]||0)+1),r),{})}};vt._Code=Cn;vt.nil=new Cn("");function sv(t,...e){let r=[t[0]],n=0;for(;n<e.length;)Lh(r,e[n]),r.push(t[++n]);return new Cn(r)}vt._=sv;var Mh=new Cn("+");function av(t,...e){let r=[pu(t[0])],n=0;for(;n<e.length;)r.push(Mh),Lh(r,e[n]),r.push(Mh,pu(t[++n]));return aN(r),new Cn(r)}vt.str=av;function Lh(t,e){e instanceof Cn?t.push(...e._items):e instanceof ts?t.push(e):t.push(lN(e))}vt.addCodeArg=Lh;function aN(t){let e=1;for(;e<t.length-1;){if(t[e]===Mh){let r=uN(t[e-1],t[e+1]);if(r!==void 0){t.splice(e-1,3,r);continue}t[e++]="+"}e++}}function uN(t,e){if(e==='""')return t;if(t==='""')return e;if(typeof t=="string")return e instanceof ts||t[t.length-1]!=='"'?void 0:typeof e!="string"?`${t.slice(0,-1)}${e}"`:e[0]==='"'?t.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]==='"'&&!(t instanceof ts))return`"${t}${e.slice(1)}`}function fN(t,e){return e.emptyStr()?t:t.emptyStr()?e:av`${t}${e}`}vt.strConcat=fN;function lN(t){return typeof t=="number"||typeof t=="boolean"||t===null?t:pu(Array.isArray(t)?t.join(","):t)}function cN(t){return new Cn(pu(t))}vt.stringify=cN;function pu(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}vt.safeStringify=pu;function dN(t){return typeof t=="string"&&vt.IDENTIFIER.test(t)?new Cn(`.${t}`):sv`[${t}]`}vt.getProperty=dN;function hN(t){if(typeof t=="string"&&vt.IDENTIFIER.test(t))return new Cn(`${t}`);throw new Error(`CodeGen: invalid export name: ${t}, use explicit $id name mapping`)}vt.getEsmExportName=hN;function pN(t){return new Cn(t.toString())}vt.regexpCode=pN});var Uh=de(on=>{"use strict";x();Object.defineProperty(on,"__esModule",{value:!0});on.ValueScope=on.ValueScopeName=on.Scope=on.varKinds=on.UsedValueState=void 0;var nn=yu(),Bh=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}},Ml;(function(t){t[t.Started=0]="Started",t[t.Completed=1]="Completed"})(Ml||(on.UsedValueState=Ml={}));on.varKinds={const:new nn.Name("const"),let:new nn.Name("let"),var:new nn.Name("var")};var Ll=class{constructor({prefixes:e,parent:r}={}){this._names={},this._prefixes=e,this._parent=r}toName(e){return e instanceof nn.Name?e:this.name(e)}name(e){return new nn.Name(this._newName(e))}_newName(e){let r=this._names[e]||this._nameGroup(e);return`${e}${r.index++}`}_nameGroup(e){var r,n;if(!((n=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||n===void 0)&&n.has(e)||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};on.Scope=Ll;var Bl=class extends nn.Name{constructor(e,r){super(r),this.prefix=e}setValue(e,{property:r,itemIndex:n}){this.value=e,this.scopePath=(0,nn._)`.${new nn.Name(r)}[${n}]`}};on.ValueScopeName=Bl;var yN=(0,nn._)`\n`,jh=class extends Ll{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?yN:nn.nil}}get(){return this._scope}name(e){return new Bl(e,this._newName(e))}value(e,r){var n;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let i=this.toName(e),{prefix:s}=i,o=(n=r.key)!==null&&n!==void 0?n:r.ref,a=this._values[s];if(a){let l=a.get(o);if(l)return l}else a=this._values[s]=new Map;a.set(o,i);let u=this._scope[s]||(this._scope[s]=[]),c=u.length;return u[c]=r.ref,i.setValue(r,{property:s,itemIndex:c}),i}getValue(e,r){let n=this._values[e];if(n)return n.get(r)}scopeRefs(e,r=this._values){return this._reduceValues(r,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return(0,nn._)`${e}${n.scopePath}`})}scopeCode(e=this._values,r,n){return this._reduceValues(e,i=>{if(i.value===void 0)throw new Error(`CodeGen: name "${i}" has no value`);return i.value.code},r,n)}_reduceValues(e,r,n={},i){let s=nn.nil;for(let o in e){let a=e[o];if(!a)continue;let u=n[o]=n[o]||new Map;a.forEach(c=>{if(u.has(c))return;u.set(c,Ml.Started);let l=r(c);if(l){let p=this.opts.es5?on.varKinds.var:on.varKinds.const;s=(0,nn._)`${s}${p} ${c} = ${l};${this.opts._n}`}else if(l=i?.(c))s=(0,nn._)`${s}${l}${this.opts._n}`;else throw new Bh(c);u.set(c,Ml.Completed)})}return s}};on.ValueScope=jh});var rt=de(st=>{"use strict";x();Object.defineProperty(st,"__esModule",{value:!0});st.or=st.and=st.not=st.CodeGen=st.operators=st.varKinds=st.ValueScopeName=st.ValueScope=st.Scope=st.Name=st.regexpCode=st.stringify=st.getProperty=st.nil=st.strConcat=st.str=st._=void 0;var mt=yu(),Hn=Uh(),_o=yu();Object.defineProperty(st,"_",{enumerable:!0,get:function(){return _o._}});Object.defineProperty(st,"str",{enumerable:!0,get:function(){return _o.str}});Object.defineProperty(st,"strConcat",{enumerable:!0,get:function(){return _o.strConcat}});Object.defineProperty(st,"nil",{enumerable:!0,get:function(){return _o.nil}});Object.defineProperty(st,"getProperty",{enumerable:!0,get:function(){return _o.getProperty}});Object.defineProperty(st,"stringify",{enumerable:!0,get:function(){return _o.stringify}});Object.defineProperty(st,"regexpCode",{enumerable:!0,get:function(){return _o.regexpCode}});Object.defineProperty(st,"Name",{enumerable:!0,get:function(){return _o.Name}});var Dl=Uh();Object.defineProperty(st,"Scope",{enumerable:!0,get:function(){return Dl.Scope}});Object.defineProperty(st,"ValueScope",{enumerable:!0,get:function(){return Dl.ValueScope}});Object.defineProperty(st,"ValueScopeName",{enumerable:!0,get:function(){return Dl.ValueScopeName}});Object.defineProperty(st,"varKinds",{enumerable:!0,get:function(){return Dl.varKinds}});st.operators={GT:new mt._Code(">"),GTE:new mt._Code(">="),LT:new mt._Code("<"),LTE:new mt._Code("<="),EQ:new mt._Code("==="),NEQ:new mt._Code("!=="),NOT:new mt._Code("!"),OR:new mt._Code("||"),AND:new mt._Code("&&"),ADD:new mt._Code("+")};var Ci=class{optimizeNodes(){return this}optimizeNames(e,r){return this}},kh=class extends Ci{constructor(e,r,n){super(),this.varKind=e,this.name=r,this.rhs=n}render({es5:e,_n:r}){let n=e?Hn.varKinds.var:this.varKind,i=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${i};`+r}optimizeNames(e,r){if(e[this.name.str])return this.rhs&&(this.rhs=Zs(this.rhs,e,r)),this}get names(){return this.rhs instanceof mt._CodeOrName?this.rhs.names:{}}},jl=class extends Ci{constructor(e,r,n){super(),this.lhs=e,this.rhs=r,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,r){if(!(this.lhs instanceof mt.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=Zs(this.rhs,e,r),this}get names(){let e=this.lhs instanceof mt.Name?{}:{...this.lhs.names};return kl(e,this.rhs)}},Dh=class extends jl{constructor(e,r,n,i){super(e,n,i),this.op=r}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},Fh=class extends Ci{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},qh=class extends Ci{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},Wh=class extends Ci{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},Hh=class extends Ci{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,r){return this.code=Zs(this.code,e,r),this}get names(){return this.code instanceof mt._CodeOrName?this.code.names:{}}},mu=class extends Ci{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((r,n)=>r+n.render(e),"")}optimizeNodes(){let{nodes:e}=this,r=e.length;for(;r--;){let n=e[r].optimizeNodes();Array.isArray(n)?e.splice(r,1,...n):n?e[r]=n:e.splice(r,1)}return e.length>0?this:void 0}optimizeNames(e,r){let{nodes:n}=this,i=n.length;for(;i--;){let s=n[i];s.optimizeNames(e,r)||(mN(e,s.names),n.splice(i,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((e,r)=>is(e,r.names),{})}},Ni=class extends mu{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},zh=class extends mu{},Xs=class extends Ni{};Xs.kind="else";var rs=class t extends Ni{constructor(e,r){super(r),this.condition=e}render(e){let r=`if(${this.condition})`+super.render(e);return this.else&&(r+="else "+this.else.render(e)),r}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(e===!0)return this.nodes;let r=this.else;if(r){let n=r.optimizeNodes();r=this.else=Array.isArray(n)?new Xs(n):n}if(r)return e===!1?r instanceof t?r:r.nodes:this.nodes.length?this:new t(uv(e),r instanceof t?[r]:r.nodes);if(!(e===!1||!this.nodes.length))return this}optimizeNames(e,r){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(e,r),!!(super.optimizeNames(e,r)||this.else))return this.condition=Zs(this.condition,e,r),this}get names(){let e=super.names;return kl(e,this.condition),this.else&&is(e,this.else.names),e}};rs.kind="if";var ns=class extends Ni{};ns.kind="for";var Vh=class extends ns{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iteration=Zs(this.iteration,e,r),this}get names(){return is(super.names,this.iteration.names)}},Gh=class extends ns{constructor(e,r,n,i){super(),this.varKind=e,this.name=r,this.from=n,this.to=i}render(e){let r=e.es5?Hn.varKinds.var:this.varKind,{name:n,from:i,to:s}=this;return`for(${r} ${n}=${i}; ${n}<${s}; ${n}++)`+super.render(e)}get names(){let e=kl(super.names,this.from);return kl(e,this.to)}},Ul=class extends ns{constructor(e,r,n,i){super(),this.loop=e,this.varKind=r,this.name=n,this.iterable=i}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iterable=Zs(this.iterable,e,r),this}get names(){return is(super.names,this.iterable.names)}},gu=class extends Ni{constructor(e,r,n){super(),this.name=e,this.args=r,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}};gu.kind="func";var bu=class extends mu{render(e){return"return "+super.render(e)}};bu.kind="return";var Yh=class extends Ni{render(e){let r="try"+super.render(e);return this.catch&&(r+=this.catch.render(e)),this.finally&&(r+=this.finally.render(e)),r}optimizeNodes(){var e,r;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(e,r){var n,i;return super.optimizeNames(e,r),(n=this.catch)===null||n===void 0||n.optimizeNames(e,r),(i=this.finally)===null||i===void 0||i.optimizeNames(e,r),this}get names(){let e=super.names;return this.catch&&is(e,this.catch.names),this.finally&&is(e,this.finally.names),e}},_u=class extends Ni{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}};_u.kind="catch";var wu=class extends Ni{render(e){return"finally"+super.render(e)}};wu.kind="finally";var Kh=class{constructor(e,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...r,_n:r.lines?`
`:""},this._extScope=e,this._scope=new Hn.Scope({parent:e}),this._nodes=[new zh]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,r){let n=this._extScope.value(e,r);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,r){return this._extScope.getValue(e,r)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,r,n,i){let s=this._scope.toName(r);return n!==void 0&&i&&(this._constants[s.str]=n),this._leafNode(new kh(e,s,n)),s}const(e,r,n){return this._def(Hn.varKinds.const,e,r,n)}let(e,r,n){return this._def(Hn.varKinds.let,e,r,n)}var(e,r,n){return this._def(Hn.varKinds.var,e,r,n)}assign(e,r,n){return this._leafNode(new jl(e,r,n))}add(e,r){return this._leafNode(new Dh(e,st.operators.ADD,r))}code(e){return typeof e=="function"?e():e!==mt.nil&&this._leafNode(new Hh(e)),this}object(...e){let r=["{"];for(let[n,i]of e)r.length>1&&r.push(","),r.push(n),(n!==i||this.opts.es5)&&(r.push(":"),(0,mt.addCodeArg)(r,i));return r.push("}"),new mt._Code(r)}if(e,r,n){if(this._blockNode(new rs(e)),r&&n)this.code(r).else().code(n).endIf();else if(r)this.code(r).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new rs(e))}else(){return this._elseNode(new Xs)}endIf(){return this._endBlockNode(rs,Xs)}_for(e,r){return this._blockNode(e),r&&this.code(r).endFor(),this}for(e,r){return this._for(new Vh(e),r)}forRange(e,r,n,i,s=this.opts.es5?Hn.varKinds.var:Hn.varKinds.let){let o=this._scope.toName(e);return this._for(new Gh(s,o,r,n),()=>i(o))}forOf(e,r,n,i=Hn.varKinds.const){let s=this._scope.toName(e);if(this.opts.es5){let o=r instanceof mt.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,mt._)`${o}.length`,a=>{this.var(s,(0,mt._)`${o}[${a}]`),n(s)})}return this._for(new Ul("of",i,s,r),()=>n(s))}forIn(e,r,n,i=this.opts.es5?Hn.varKinds.var:Hn.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,mt._)`Object.keys(${r})`,n);let s=this._scope.toName(e);return this._for(new Ul("in",i,s,r),()=>n(s))}endFor(){return this._endBlockNode(ns)}label(e){return this._leafNode(new Fh(e))}break(e){return this._leafNode(new qh(e))}return(e){let r=new bu;if(this._blockNode(r),this.code(e),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(bu)}try(e,r,n){if(!r&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');let i=new Yh;if(this._blockNode(i),this.code(e),r){let s=this.name("e");this._currNode=i.catch=new _u(s),r(s)}return n&&(this._currNode=i.finally=new wu,this.code(n)),this._endBlockNode(_u,wu)}throw(e){return this._leafNode(new Wh(e))}block(e,r){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(r),this}endBlock(e){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-r;if(n<0||e!==void 0&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=r,this}func(e,r=mt.nil,n,i){return this._blockNode(new gu(e,r,n)),i&&this.code(i).endFunc(),this}endFunc(){return this._endBlockNode(gu)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,r){let n=this._currNode;if(n instanceof e||r&&n instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${e.kind}/${r.kind}`:e.kind}"`)}_elseNode(e){let r=this._currNode;if(!(r instanceof rs))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let r=this._nodes;r[r.length-1]=e}};st.CodeGen=Kh;function is(t,e){for(let r in e)t[r]=(t[r]||0)+(e[r]||0);return t}function kl(t,e){return e instanceof mt._CodeOrName?is(t,e.names):t}function Zs(t,e,r){if(t instanceof mt.Name)return n(t);if(!i(t))return t;return new mt._Code(t._items.reduce((s,o)=>(o instanceof mt.Name&&(o=n(o)),o instanceof mt._Code?s.push(...o._items):s.push(o),s),[]));function n(s){let o=r[s.str];return o===void 0||e[s.str]!==1?s:(delete e[s.str],o)}function i(s){return s instanceof mt._Code&&s._items.some(o=>o instanceof mt.Name&&e[o.str]===1&&r[o.str]!==void 0)}}function mN(t,e){for(let r in e)t[r]=(t[r]||0)-(e[r]||0)}function uv(t){return typeof t=="boolean"||typeof t=="number"||t===null?!t:(0,mt._)`!${Jh(t)}`}st.not=uv;var gN=fv(st.operators.AND);function bN(...t){return t.reduce(gN)}st.and=bN;var _N=fv(st.operators.OR);function wN(...t){return t.reduce(_N)}st.or=wN;function fv(t){return(e,r)=>e===mt.nil?r:r===mt.nil?e:(0,mt._)`${Jh(e)} ${t} ${Jh(r)}`}function Jh(t){return t instanceof mt.Name?t:(0,mt._)`(${t})`}});var Et=de(ut=>{"use strict";x();Object.defineProperty(ut,"__esModule",{value:!0});ut.checkStrictMode=ut.getErrorPath=ut.Type=ut.useFunc=ut.setEvaluated=ut.evaluatedPropsToName=ut.mergeEvaluated=ut.eachItem=ut.unescapeJsonPointer=ut.escapeJsonPointer=ut.escapeFragment=ut.unescapeFragment=ut.schemaRefOrVal=ut.schemaHasRulesButRef=ut.schemaHasRules=ut.checkUnknownRules=ut.alwaysValidSchema=ut.toHash=void 0;var Nt=rt(),vN=yu();function EN(t){let e={};for(let r of t)e[r]=!0;return e}ut.toHash=EN;function SN(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(dv(t,e),!hv(e,t.self.RULES.all))}ut.alwaysValidSchema=SN;function dv(t,e=t.schema){let{opts:r,self:n}=t;if(!r.strictSchema||typeof e=="boolean")return;let i=n.RULES.keywords;for(let s in e)i[s]||mv(t,`unknown keyword: "${s}"`)}ut.checkUnknownRules=dv;function hv(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(e[r])return!0;return!1}ut.schemaHasRules=hv;function TN(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(r!=="$ref"&&e.all[r])return!0;return!1}ut.schemaHasRulesButRef=TN;function AN({topSchemaRef:t,schemaPath:e},r,n,i){if(!i){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,Nt._)`${r}`}return(0,Nt._)`${t}${e}${(0,Nt.getProperty)(n)}`}ut.schemaRefOrVal=AN;function $N(t){return pv(decodeURIComponent(t))}ut.unescapeFragment=$N;function RN(t){return encodeURIComponent(Zh(t))}ut.escapeFragment=RN;function Zh(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}ut.escapeJsonPointer=Zh;function pv(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}ut.unescapeJsonPointer=pv;function ON(t,e){if(Array.isArray(t))for(let r of t)e(r);else e(t)}ut.eachItem=ON;function lv({mergeNames:t,mergeToName:e,mergeValues:r,resultToName:n}){return(i,s,o,a)=>{let u=o===void 0?s:o instanceof Nt.Name?(s instanceof Nt.Name?t(i,s,o):e(i,s,o),o):s instanceof Nt.Name?(e(i,o,s),s):r(s,o);return a===Nt.Name&&!(u instanceof Nt.Name)?n(i,u):u}}ut.mergeEvaluated={props:lv({mergeNames:(t,e,r)=>t.if((0,Nt._)`${r} !== true && ${e} !== undefined`,()=>{t.if((0,Nt._)`${e} === true`,()=>t.assign(r,!0),()=>t.assign(r,(0,Nt._)`${r} || {}`).code((0,Nt._)`Object.assign(${r}, ${e})`))}),mergeToName:(t,e,r)=>t.if((0,Nt._)`${r} !== true`,()=>{e===!0?t.assign(r,!0):(t.assign(r,(0,Nt._)`${r} || {}`),Qh(t,r,e))}),mergeValues:(t,e)=>t===!0?!0:{...t,...e},resultToName:yv}),items:lv({mergeNames:(t,e,r)=>t.if((0,Nt._)`${r} !== true && ${e} !== undefined`,()=>t.assign(r,(0,Nt._)`${e} === true ? true : ${r} > ${e} ? ${r} : ${e}`)),mergeToName:(t,e,r)=>t.if((0,Nt._)`${r} !== true`,()=>t.assign(r,e===!0?!0:(0,Nt._)`${r} > ${e} ? ${r} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function yv(t,e){if(e===!0)return t.var("props",!0);let r=t.var("props",(0,Nt._)`{}`);return e!==void 0&&Qh(t,r,e),r}ut.evaluatedPropsToName=yv;function Qh(t,e,r){Object.keys(r).forEach(n=>t.assign((0,Nt._)`${e}${(0,Nt.getProperty)(n)}`,!0))}ut.setEvaluated=Qh;var cv={};function PN(t,e){return t.scopeValue("func",{ref:e,code:cv[e.code]||(cv[e.code]=new vN._Code(e.code))})}ut.useFunc=PN;var Xh;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(Xh||(ut.Type=Xh={}));function IN(t,e,r){if(t instanceof Nt.Name){let n=e===Xh.Num;return r?n?(0,Nt._)`"[" + ${t} + "]"`:(0,Nt._)`"['" + ${t} + "']"`:n?(0,Nt._)`"/" + ${t}`:(0,Nt._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,Nt.getProperty)(t).toString():"/"+Zh(t)}ut.getErrorPath=IN;function mv(t,e,r=t.opts.strictSchema){if(r){if(e=`strict mode: ${e}`,r===!0)throw new Error(e);t.self.logger.warn(e)}}ut.checkStrictMode=mv});var xi=de(ep=>{"use strict";x();Object.defineProperty(ep,"__esModule",{value:!0});var Ir=rt(),CN={data:new Ir.Name("data"),valCxt:new Ir.Name("valCxt"),instancePath:new Ir.Name("instancePath"),parentData:new Ir.Name("parentData"),parentDataProperty:new Ir.Name("parentDataProperty"),rootData:new Ir.Name("rootData"),dynamicAnchors:new Ir.Name("dynamicAnchors"),vErrors:new Ir.Name("vErrors"),errors:new Ir.Name("errors"),this:new Ir.Name("this"),self:new Ir.Name("self"),scope:new Ir.Name("scope"),json:new Ir.Name("json"),jsonPos:new Ir.Name("jsonPos"),jsonLen:new Ir.Name("jsonLen"),jsonPart:new Ir.Name("jsonPart")};ep.default=CN});var vu=de(Cr=>{"use strict";x();Object.defineProperty(Cr,"__esModule",{value:!0});Cr.extendErrors=Cr.resetErrorsCount=Cr.reportExtraError=Cr.reportError=Cr.keyword$DataError=Cr.keywordError=void 0;var _t=rt(),Fl=Et(),Hr=xi();Cr.keywordError={message:({keyword:t})=>(0,_t.str)`must pass "${t}" keyword validation`};Cr.keyword$DataError={message:({keyword:t,schemaType:e})=>e?(0,_t.str)`"${t}" keyword must be ${e} ($data)`:(0,_t.str)`"${t}" keyword is invalid ($data)`};function NN(t,e=Cr.keywordError,r,n){let{it:i}=t,{gen:s,compositeRule:o,allErrors:a}=i,u=_v(t,e,r);n??(o||a)?gv(s,u):bv(i,(0,_t._)`[${u}]`)}Cr.reportError=NN;function xN(t,e=Cr.keywordError,r){let{it:n}=t,{gen:i,compositeRule:s,allErrors:o}=n,a=_v(t,e,r);gv(i,a),s||o||bv(n,Hr.default.vErrors)}Cr.reportExtraError=xN;function MN(t,e){t.assign(Hr.default.errors,e),t.if((0,_t._)`${Hr.default.vErrors} !== null`,()=>t.if(e,()=>t.assign((0,_t._)`${Hr.default.vErrors}.length`,e),()=>t.assign(Hr.default.vErrors,null)))}Cr.resetErrorsCount=MN;function LN({gen:t,keyword:e,schemaValue:r,data:n,errsCount:i,it:s}){if(i===void 0)throw new Error("ajv implementation error");let o=t.name("err");t.forRange("i",i,Hr.default.errors,a=>{t.const(o,(0,_t._)`${Hr.default.vErrors}[${a}]`),t.if((0,_t._)`${o}.instancePath === undefined`,()=>t.assign((0,_t._)`${o}.instancePath`,(0,_t.strConcat)(Hr.default.instancePath,s.errorPath))),t.assign((0,_t._)`${o}.schemaPath`,(0,_t.str)`${s.errSchemaPath}/${e}`),s.opts.verbose&&(t.assign((0,_t._)`${o}.schema`,r),t.assign((0,_t._)`${o}.data`,n))})}Cr.extendErrors=LN;function gv(t,e){let r=t.const("err",e);t.if((0,_t._)`${Hr.default.vErrors} === null`,()=>t.assign(Hr.default.vErrors,(0,_t._)`[${r}]`),(0,_t._)`${Hr.default.vErrors}.push(${r})`),t.code((0,_t._)`${Hr.default.errors}++`)}function bv(t,e){let{gen:r,validateName:n,schemaEnv:i}=t;i.$async?r.throw((0,_t._)`new ${t.ValidationError}(${e})`):(r.assign((0,_t._)`${n}.errors`,e),r.return(!1))}var os={keyword:new _t.Name("keyword"),schemaPath:new _t.Name("schemaPath"),params:new _t.Name("params"),propertyName:new _t.Name("propertyName"),message:new _t.Name("message"),schema:new _t.Name("schema"),parentSchema:new _t.Name("parentSchema")};function _v(t,e,r){let{createErrors:n}=t.it;return n===!1?(0,_t._)`{}`:BN(t,e,r)}function BN(t,e,r={}){let{gen:n,it:i}=t,s=[jN(i,r),UN(t,r)];return kN(t,e,s),n.object(...s)}function jN({errorPath:t},{instancePath:e}){let r=e?(0,_t.str)`${t}${(0,Fl.getErrorPath)(e,Fl.Type.Str)}`:t;return[Hr.default.instancePath,(0,_t.strConcat)(Hr.default.instancePath,r)]}function UN({keyword:t,it:{errSchemaPath:e}},{schemaPath:r,parentSchema:n}){let i=n?e:(0,_t.str)`${e}/${t}`;return r&&(i=(0,_t.str)`${i}${(0,Fl.getErrorPath)(r,Fl.Type.Str)}`),[os.schemaPath,i]}function kN(t,{params:e,message:r},n){let{keyword:i,data:s,schemaValue:o,it:a}=t,{opts:u,propertyName:c,topSchemaRef:l,schemaPath:p}=a;n.push([os.keyword,i],[os.params,typeof e=="function"?e(t):e||(0,_t._)`{}`]),u.messages&&n.push([os.message,typeof r=="function"?r(t):r]),u.verbose&&n.push([os.schema,o],[os.parentSchema,(0,_t._)`${l}${p}`],[Hr.default.data,s]),c&&n.push([os.propertyName,c])}});var vv=de(Qs=>{"use strict";x();Object.defineProperty(Qs,"__esModule",{value:!0});Qs.boolOrEmptySchema=Qs.topBoolOrEmptySchema=void 0;var DN=vu(),FN=rt(),qN=xi(),WN={message:"boolean schema is false"};function HN(t){let{gen:e,schema:r,validateName:n}=t;r===!1?wv(t,!1):typeof r=="object"&&r.$async===!0?e.return(qN.default.data):(e.assign((0,FN._)`${n}.errors`,null),e.return(!0))}Qs.topBoolOrEmptySchema=HN;function zN(t,e){let{gen:r,schema:n}=t;n===!1?(r.var(e,!1),wv(t)):r.var(e,!0)}Qs.boolOrEmptySchema=zN;function wv(t,e){let{gen:r,data:n}=t,i={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,DN.reportError)(i,WN,void 0,e)}});var tp=de(ea=>{"use strict";x();Object.defineProperty(ea,"__esModule",{value:!0});ea.getRules=ea.isJSONType=void 0;var VN=["string","number","integer","boolean","null","object","array"],GN=new Set(VN);function YN(t){return typeof t=="string"&&GN.has(t)}ea.isJSONType=YN;function KN(){let t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}ea.getRules=KN});var rp=de(wo=>{"use strict";x();Object.defineProperty(wo,"__esModule",{value:!0});wo.shouldUseRule=wo.shouldUseGroup=wo.schemaHasRulesForType=void 0;function JN({schema:t,self:e},r){let n=e.RULES.types[r];return n&&n!==!0&&Ev(t,n)}wo.schemaHasRulesForType=JN;function Ev(t,e){return e.rules.some(r=>Sv(t,r))}wo.shouldUseGroup=Ev;function Sv(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(n=>t[n]!==void 0))}wo.shouldUseRule=Sv});var Eu=de(Nr=>{"use strict";x();Object.defineProperty(Nr,"__esModule",{value:!0});Nr.reportTypeError=Nr.checkDataTypes=Nr.checkDataType=Nr.coerceAndCheckDataType=Nr.getJSONTypes=Nr.getSchemaTypes=Nr.DataType=void 0;var XN=tp(),ZN=rp(),QN=vu(),nt=rt(),Tv=Et(),ta;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(ta||(Nr.DataType=ta={}));function ex(t){let e=Av(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}Nr.getSchemaTypes=ex;function Av(t){let e=Array.isArray(t)?t:t?[t]:[];if(e.every(XN.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}Nr.getJSONTypes=Av;function tx(t,e){let{gen:r,data:n,opts:i}=t,s=rx(e,i.coerceTypes),o=e.length>0&&!(s.length===0&&e.length===1&&(0,ZN.schemaHasRulesForType)(t,e[0]));if(o){let a=ip(e,n,i.strictNumbers,ta.Wrong);r.if(a,()=>{s.length?nx(t,e,s):op(t)})}return o}Nr.coerceAndCheckDataType=tx;var $v=new Set(["string","number","integer","boolean","null"]);function rx(t,e){return e?t.filter(r=>$v.has(r)||e==="array"&&r==="array"):[]}function nx(t,e,r){let{gen:n,data:i,opts:s}=t,o=n.let("dataType",(0,nt._)`typeof ${i}`),a=n.let("coerced",(0,nt._)`undefined`);s.coerceTypes==="array"&&n.if((0,nt._)`${o} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,()=>n.assign(i,(0,nt._)`${i}[0]`).assign(o,(0,nt._)`typeof ${i}`).if(ip(e,i,s.strictNumbers),()=>n.assign(a,i))),n.if((0,nt._)`${a} !== undefined`);for(let c of r)($v.has(c)||c==="array"&&s.coerceTypes==="array")&&u(c);n.else(),op(t),n.endIf(),n.if((0,nt._)`${a} !== undefined`,()=>{n.assign(i,a),ix(t,a)});function u(c){switch(c){case"string":n.elseIf((0,nt._)`${o} == "number" || ${o} == "boolean"`).assign(a,(0,nt._)`"" + ${i}`).elseIf((0,nt._)`${i} === null`).assign(a,(0,nt._)`""`);return;case"number":n.elseIf((0,nt._)`${o} == "boolean" || ${i} === null
              || (${o} == "string" && ${i} && ${i} == +${i})`).assign(a,(0,nt._)`+${i}`);return;case"integer":n.elseIf((0,nt._)`${o} === "boolean" || ${i} === null
              || (${o} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(a,(0,nt._)`+${i}`);return;case"boolean":n.elseIf((0,nt._)`${i} === "false" || ${i} === 0 || ${i} === null`).assign(a,!1).elseIf((0,nt._)`${i} === "true" || ${i} === 1`).assign(a,!0);return;case"null":n.elseIf((0,nt._)`${i} === "" || ${i} === 0 || ${i} === false`),n.assign(a,null);return;case"array":n.elseIf((0,nt._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${i} === null`).assign(a,(0,nt._)`[${i}]`)}}}function ix({gen:t,parentData:e,parentDataProperty:r},n){t.if((0,nt._)`${e} !== undefined`,()=>t.assign((0,nt._)`${e}[${r}]`,n))}function np(t,e,r,n=ta.Correct){let i=n===ta.Correct?nt.operators.EQ:nt.operators.NEQ,s;switch(t){case"null":return(0,nt._)`${e} ${i} null`;case"array":s=(0,nt._)`Array.isArray(${e})`;break;case"object":s=(0,nt._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":s=o((0,nt._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":s=o();break;default:return(0,nt._)`typeof ${e} ${i} ${t}`}return n===ta.Correct?s:(0,nt.not)(s);function o(a=nt.nil){return(0,nt.and)((0,nt._)`typeof ${e} == "number"`,a,r?(0,nt._)`isFinite(${e})`:nt.nil)}}Nr.checkDataType=np;function ip(t,e,r,n){if(t.length===1)return np(t[0],e,r,n);let i,s=(0,Tv.toHash)(t);if(s.array&&s.object){let o=(0,nt._)`typeof ${e} != "object"`;i=s.null?o:(0,nt._)`!${e} || ${o}`,delete s.null,delete s.array,delete s.object}else i=nt.nil;s.number&&delete s.integer;for(let o in s)i=(0,nt.and)(i,np(o,e,r,n));return i}Nr.checkDataTypes=ip;var ox={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?(0,nt._)`{type: ${t}}`:(0,nt._)`{type: ${e}}`};function op(t){let e=sx(t);(0,QN.reportError)(e,ox)}Nr.reportTypeError=op;function sx(t){let{gen:e,data:r,schema:n}=t,i=(0,Tv.schemaRefOrVal)(t,n,"type");return{gen:e,keyword:"type",data:r,schema:n.type,schemaCode:i,schemaValue:i,parentSchema:n,params:{},it:t}}});var Ov=de(ql=>{"use strict";x();Object.defineProperty(ql,"__esModule",{value:!0});ql.assignDefaults=void 0;var ra=rt(),ax=Et();function ux(t,e){let{properties:r,items:n}=t.schema;if(e==="object"&&r)for(let i in r)Rv(t,i,r[i].default);else e==="array"&&Array.isArray(n)&&n.forEach((i,s)=>Rv(t,s,i.default))}ql.assignDefaults=ux;function Rv(t,e,r){let{gen:n,compositeRule:i,data:s,opts:o}=t;if(r===void 0)return;let a=(0,ra._)`${s}${(0,ra.getProperty)(e)}`;if(i){(0,ax.checkStrictMode)(t,`default is ignored for: ${a}`);return}let u=(0,ra._)`${a} === undefined`;o.useDefaults==="empty"&&(u=(0,ra._)`${u} || ${a} === null || ${a} === ""`),n.if(u,(0,ra._)`${a} = ${(0,ra.stringify)(r)}`)}});var Nn=de(Ot=>{"use strict";x();Object.defineProperty(Ot,"__esModule",{value:!0});Ot.validateUnion=Ot.validateArray=Ot.usePattern=Ot.callValidateCode=Ot.schemaProperties=Ot.allSchemaProperties=Ot.noPropertyInData=Ot.propertyInData=Ot.isOwnProperty=Ot.hasPropFunc=Ot.reportMissingProp=Ot.checkMissingProp=Ot.checkReportMissingProp=void 0;var kt=rt(),sp=Et(),vo=xi(),fx=Et();function lx(t,e){let{gen:r,data:n,it:i}=t;r.if(up(r,n,e,i.opts.ownProperties),()=>{t.setParams({missingProperty:(0,kt._)`${e}`},!0),t.error()})}Ot.checkReportMissingProp=lx;function cx({gen:t,data:e,it:{opts:r}},n,i){return(0,kt.or)(...n.map(s=>(0,kt.and)(up(t,e,s,r.ownProperties),(0,kt._)`${i} = ${s}`)))}Ot.checkMissingProp=cx;function dx(t,e){t.setParams({missingProperty:e},!0),t.error()}Ot.reportMissingProp=dx;function Pv(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,kt._)`Object.prototype.hasOwnProperty`})}Ot.hasPropFunc=Pv;function ap(t,e,r){return(0,kt._)`${Pv(t)}.call(${e}, ${r})`}Ot.isOwnProperty=ap;function hx(t,e,r,n){let i=(0,kt._)`${e}${(0,kt.getProperty)(r)} !== undefined`;return n?(0,kt._)`${i} && ${ap(t,e,r)}`:i}Ot.propertyInData=hx;function up(t,e,r,n){let i=(0,kt._)`${e}${(0,kt.getProperty)(r)} === undefined`;return n?(0,kt.or)(i,(0,kt.not)(ap(t,e,r))):i}Ot.noPropertyInData=up;function Iv(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}Ot.allSchemaProperties=Iv;function px(t,e){return Iv(e).filter(r=>!(0,sp.alwaysValidSchema)(t,e[r]))}Ot.schemaProperties=px;function yx({schemaCode:t,data:e,it:{gen:r,topSchemaRef:n,schemaPath:i,errorPath:s},it:o},a,u,c){let l=c?(0,kt._)`${t}, ${e}, ${n}${i}`:e,p=[[vo.default.instancePath,(0,kt.strConcat)(vo.default.instancePath,s)],[vo.default.parentData,o.parentData],[vo.default.parentDataProperty,o.parentDataProperty],[vo.default.rootData,vo.default.rootData]];o.opts.dynamicRef&&p.push([vo.default.dynamicAnchors,vo.default.dynamicAnchors]);let h=(0,kt._)`${l}, ${r.object(...p)}`;return u!==kt.nil?(0,kt._)`${a}.call(${u}, ${h})`:(0,kt._)`${a}(${h})`}Ot.callValidateCode=yx;var mx=(0,kt._)`new RegExp`;function gx({gen:t,it:{opts:e}},r){let n=e.unicodeRegExp?"u":"",{regExp:i}=e.code,s=i(r,n);return t.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,kt._)`${i.code==="new RegExp"?mx:(0,fx.useFunc)(t,i)}(${r}, ${n})`})}Ot.usePattern=gx;function bx(t){let{gen:e,data:r,keyword:n,it:i}=t,s=e.name("valid");if(i.allErrors){let a=e.let("valid",!0);return o(()=>e.assign(a,!1)),a}return e.var(s,!0),o(()=>e.break()),s;function o(a){let u=e.const("len",(0,kt._)`${r}.length`);e.forRange("i",0,u,c=>{t.subschema({keyword:n,dataProp:c,dataPropType:sp.Type.Num},s),e.if((0,kt.not)(s),a)})}}Ot.validateArray=bx;function _x(t){let{gen:e,schema:r,keyword:n,it:i}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(u=>(0,sp.alwaysValidSchema)(i,u))&&!i.opts.unevaluated)return;let o=e.let("valid",!1),a=e.name("_valid");e.block(()=>r.forEach((u,c)=>{let l=t.subschema({keyword:n,schemaProp:c,compositeRule:!0},a);e.assign(o,(0,kt._)`${o} || ${a}`),t.mergeValidEvaluated(l,a)||e.if((0,kt.not)(o))})),t.result(o,()=>t.reset(),()=>t.error(!0))}Ot.validateUnion=_x});var xv=de(si=>{"use strict";x();Object.defineProperty(si,"__esModule",{value:!0});si.validateKeywordUsage=si.validSchemaType=si.funcKeywordCode=si.macroKeywordCode=void 0;var zr=rt(),ss=xi(),wx=Nn(),vx=vu();function Ex(t,e){let{gen:r,keyword:n,schema:i,parentSchema:s,it:o}=t,a=e.macro.call(o.self,i,s,o),u=Nv(r,n,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);let c=r.name("valid");t.subschema({schema:a,schemaPath:zr.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:u,compositeRule:!0},c),t.pass(c,()=>t.error(!0))}si.macroKeywordCode=Ex;function Sx(t,e){var r;let{gen:n,keyword:i,schema:s,parentSchema:o,$data:a,it:u}=t;Ax(u,e);let c=!a&&e.compile?e.compile.call(u.self,s,o,u):e.validate,l=Nv(n,i,c),p=n.let("valid");t.block$data(p,h),t.ok((r=e.valid)!==null&&r!==void 0?r:p);function h(){if(e.errors===!1)w(),e.modifying&&Cv(t),m(()=>t.error());else{let E=e.async?y():b();e.modifying&&Cv(t),m(()=>Tx(t,E))}}function y(){let E=n.let("ruleErrs",null);return n.try(()=>w((0,zr._)`await `),T=>n.assign(p,!1).if((0,zr._)`${T} instanceof ${u.ValidationError}`,()=>n.assign(E,(0,zr._)`${T}.errors`),()=>n.throw(T))),E}function b(){let E=(0,zr._)`${l}.errors`;return n.assign(E,null),w(zr.nil),E}function w(E=e.async?(0,zr._)`await `:zr.nil){let T=u.opts.passContext?ss.default.this:ss.default.self,S=!("compile"in e&&!a||e.schema===!1);n.assign(p,(0,zr._)`${E}${(0,wx.callValidateCode)(t,l,T,S)}`,e.modifying)}function m(E){var T;n.if((0,zr.not)((T=e.valid)!==null&&T!==void 0?T:p),E)}}si.funcKeywordCode=Sx;function Cv(t){let{gen:e,data:r,it:n}=t;e.if(n.parentData,()=>e.assign(r,(0,zr._)`${n.parentData}[${n.parentDataProperty}]`))}function Tx(t,e){let{gen:r}=t;r.if((0,zr._)`Array.isArray(${e})`,()=>{r.assign(ss.default.vErrors,(0,zr._)`${ss.default.vErrors} === null ? ${e} : ${ss.default.vErrors}.concat(${e})`).assign(ss.default.errors,(0,zr._)`${ss.default.vErrors}.length`),(0,vx.extendErrors)(t)},()=>t.error())}function Ax({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function Nv(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,zr.stringify)(r)})}function $x(t,e,r=!1){return!e.length||e.some(n=>n==="array"?Array.isArray(t):n==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==n||r&&typeof t>"u")}si.validSchemaType=$x;function Rx({schema:t,opts:e,self:r,errSchemaPath:n},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");let o=i.dependencies;if(o?.some(a=>!Object.prototype.hasOwnProperty.call(t,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(t[s])){let u=`keyword "${s}" value is invalid at path "${n}": `+r.errorsText(i.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(u);else throw new Error(u)}}si.validateKeywordUsage=Rx});var Lv=de(Eo=>{"use strict";x();Object.defineProperty(Eo,"__esModule",{value:!0});Eo.extendSubschemaMode=Eo.extendSubschemaData=Eo.getSubschema=void 0;var ai=rt(),Mv=Et();function Ox(t,{keyword:e,schemaProp:r,schema:n,schemaPath:i,errSchemaPath:s,topSchemaRef:o}){if(e!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){let a=t.schema[e];return r===void 0?{schema:a,schemaPath:(0,ai._)`${t.schemaPath}${(0,ai.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:a[r],schemaPath:(0,ai._)`${t.schemaPath}${(0,ai.getProperty)(e)}${(0,ai.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,Mv.escapeFragment)(r)}`}}if(n!==void 0){if(i===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:i,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}Eo.getSubschema=Ox;function Px(t,e,{dataProp:r,dataPropType:n,data:i,dataTypes:s,propertyName:o}){if(i!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:a}=e;if(r!==void 0){let{errorPath:c,dataPathArr:l,opts:p}=e,h=a.let("data",(0,ai._)`${e.data}${(0,ai.getProperty)(r)}`,!0);u(h),t.errorPath=(0,ai.str)`${c}${(0,Mv.getErrorPath)(r,n,p.jsPropertySyntax)}`,t.parentDataProperty=(0,ai._)`${r}`,t.dataPathArr=[...l,t.parentDataProperty]}if(i!==void 0){let c=i instanceof ai.Name?i:a.let("data",i,!0);u(c),o!==void 0&&(t.propertyName=o)}s&&(t.dataTypes=s);function u(c){t.data=c,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,c]}}Eo.extendSubschemaData=Px;function Ix(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:n,createErrors:i,allErrors:s}){n!==void 0&&(t.compositeRule=n),i!==void 0&&(t.createErrors=i),s!==void 0&&(t.allErrors=s),t.jtdDiscriminator=e,t.jtdMetadata=r}Eo.extendSubschemaMode=Ix});var fp=de((Nz,Bv)=>{"use strict";x();Bv.exports=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;i--!==0;){var o=s[i];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r}});var Uv=de((Lz,jv)=>{"use strict";x();var So=jv.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var n=typeof r=="function"?r:r.pre||function(){},i=r.post||function(){};Wl(e,n,i,t,"",t)};So.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};So.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};So.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};So.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Wl(t,e,r,n,i,s,o,a,u,c){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,i,s,o,a,u,c);for(var l in n){var p=n[l];if(Array.isArray(p)){if(l in So.arrayKeywords)for(var h=0;h<p.length;h++)Wl(t,e,r,p[h],i+"/"+l+"/"+h,s,i,l,n,h)}else if(l in So.propsKeywords){if(p&&typeof p=="object")for(var y in p)Wl(t,e,r,p[y],i+"/"+l+"/"+Cx(y),s,i,l,n,y)}else(l in So.keywords||t.allKeys&&!(l in So.skipKeywords))&&Wl(t,e,r,p,i+"/"+l,s,i,l,n)}r(n,i,s,o,a,u,c)}}function Cx(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var Su=de(sn=>{"use strict";x();Object.defineProperty(sn,"__esModule",{value:!0});sn.getSchemaRefs=sn.resolveUrl=sn.normalizeId=sn._getFullPath=sn.getFullPath=sn.inlineRef=void 0;var Nx=Et(),xx=fp(),Mx=Uv(),Lx=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Bx(t,e=!0){return typeof t=="boolean"?!0:e===!0?!lp(t):e?kv(t)<=e:!1}sn.inlineRef=Bx;var jx=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function lp(t){for(let e in t){if(jx.has(e))return!0;let r=t[e];if(Array.isArray(r)&&r.some(lp)||typeof r=="object"&&lp(r))return!0}return!1}function kv(t){let e=0;for(let r in t){if(r==="$ref")return 1/0;if(e++,!Lx.has(r)&&(typeof t[r]=="object"&&(0,Nx.eachItem)(t[r],n=>e+=kv(n)),e===1/0))return 1/0}return e}function Dv(t,e="",r){r!==!1&&(e=na(e));let n=t.parse(e);return Fv(t,n)}sn.getFullPath=Dv;function Fv(t,e){return t.serialize(e).split("#")[0]+"#"}sn._getFullPath=Fv;var Ux=/#\/?$/;function na(t){return t?t.replace(Ux,""):""}sn.normalizeId=na;function kx(t,e,r){return r=na(r),t.resolve(e,r)}sn.resolveUrl=kx;var Dx=/^[a-z_][-a-z0-9._]*$/i;function Fx(t,e){if(typeof t=="boolean")return{};let{schemaId:r,uriResolver:n}=this.opts,i=na(t[r]||e),s={"":i},o=Dv(n,i,!1),a={},u=new Set;return Mx(t,{allKeys:!0},(p,h,y,b)=>{if(b===void 0)return;let w=o+h,m=s[b];typeof p[r]=="string"&&(m=E.call(this,p[r])),T.call(this,p.$anchor),T.call(this,p.$dynamicAnchor),s[h]=m;function E(S){let P=this.opts.uriResolver.resolve;if(S=na(m?P(m,S):S),u.has(S))throw l(S);u.add(S);let A=this.refs[S];return typeof A=="string"&&(A=this.refs[A]),typeof A=="object"?c(p,A.schema,S):S!==na(w)&&(S[0]==="#"?(c(p,a[S],S),a[S]=p):this.refs[S]=w),S}function T(S){if(typeof S=="string"){if(!Dx.test(S))throw new Error(`invalid anchor "${S}"`);E.call(this,`#${S}`)}}}),a;function c(p,h,y){if(h!==void 0&&!xx(p,h))throw l(y)}function l(p){return new Error(`reference "${p}" resolves to more than one schema`)}}sn.getSchemaRefs=Fx});var $u=de(To=>{"use strict";x();Object.defineProperty(To,"__esModule",{value:!0});To.getData=To.KeywordCxt=To.validateFunctionCode=void 0;var Vv=vv(),qv=Eu(),dp=rp(),Hl=Eu(),qx=Ov(),Au=xv(),cp=Lv(),qe=rt(),Je=xi(),Wx=Su(),Mi=Et(),Tu=vu();function Hx(t){if(Kv(t)&&(Jv(t),Yv(t))){Gx(t);return}Gv(t,()=>(0,Vv.topBoolOrEmptySchema)(t))}To.validateFunctionCode=Hx;function Gv({gen:t,validateName:e,schema:r,schemaEnv:n,opts:i},s){i.code.es5?t.func(e,(0,qe._)`${Je.default.data}, ${Je.default.valCxt}`,n.$async,()=>{t.code((0,qe._)`"use strict"; ${Wv(r,i)}`),Vx(t,i),t.code(s)}):t.func(e,(0,qe._)`${Je.default.data}, ${zx(i)}`,n.$async,()=>t.code(Wv(r,i)).code(s))}function zx(t){return(0,qe._)`{${Je.default.instancePath}="", ${Je.default.parentData}, ${Je.default.parentDataProperty}, ${Je.default.rootData}=${Je.default.data}${t.dynamicRef?(0,qe._)`, ${Je.default.dynamicAnchors}={}`:qe.nil}}={}`}function Vx(t,e){t.if(Je.default.valCxt,()=>{t.var(Je.default.instancePath,(0,qe._)`${Je.default.valCxt}.${Je.default.instancePath}`),t.var(Je.default.parentData,(0,qe._)`${Je.default.valCxt}.${Je.default.parentData}`),t.var(Je.default.parentDataProperty,(0,qe._)`${Je.default.valCxt}.${Je.default.parentDataProperty}`),t.var(Je.default.rootData,(0,qe._)`${Je.default.valCxt}.${Je.default.rootData}`),e.dynamicRef&&t.var(Je.default.dynamicAnchors,(0,qe._)`${Je.default.valCxt}.${Je.default.dynamicAnchors}`)},()=>{t.var(Je.default.instancePath,(0,qe._)`""`),t.var(Je.default.parentData,(0,qe._)`undefined`),t.var(Je.default.parentDataProperty,(0,qe._)`undefined`),t.var(Je.default.rootData,Je.default.data),e.dynamicRef&&t.var(Je.default.dynamicAnchors,(0,qe._)`{}`)})}function Gx(t){let{schema:e,opts:r,gen:n}=t;Gv(t,()=>{r.$comment&&e.$comment&&Zv(t),Zx(t),n.let(Je.default.vErrors,null),n.let(Je.default.errors,0),r.unevaluated&&Yx(t),Xv(t),tM(t)})}function Yx(t){let{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,qe._)`${r}.evaluated`),e.if((0,qe._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,qe._)`${t.evaluated}.props`,(0,qe._)`undefined`)),e.if((0,qe._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,qe._)`${t.evaluated}.items`,(0,qe._)`undefined`))}function Wv(t,e){let r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,qe._)`/*# sourceURL=${r} */`:qe.nil}function Kx(t,e){if(Kv(t)&&(Jv(t),Yv(t))){Jx(t,e);return}(0,Vv.boolOrEmptySchema)(t,e)}function Yv({schema:t,self:e}){if(typeof t=="boolean")return!t;for(let r in t)if(e.RULES.all[r])return!0;return!1}function Kv(t){return typeof t.schema!="boolean"}function Jx(t,e){let{schema:r,gen:n,opts:i}=t;i.$comment&&r.$comment&&Zv(t),Qx(t),eM(t);let s=n.const("_errs",Je.default.errors);Xv(t,s),n.var(e,(0,qe._)`${s} === ${Je.default.errors}`)}function Jv(t){(0,Mi.checkUnknownRules)(t),Xx(t)}function Xv(t,e){if(t.opts.jtd)return Hv(t,[],!1,e);let r=(0,qv.getSchemaTypes)(t.schema),n=(0,qv.coerceAndCheckDataType)(t,r);Hv(t,r,!n,e)}function Xx(t){let{schema:e,errSchemaPath:r,opts:n,self:i}=t;e.$ref&&n.ignoreKeywordsWithRef&&(0,Mi.schemaHasRulesButRef)(e,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Zx(t){let{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Mi.checkStrictMode)(t,"default is ignored in the schema root")}function Qx(t){let e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,Wx.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function eM(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function Zv({gen:t,schemaEnv:e,schema:r,errSchemaPath:n,opts:i}){let s=r.$comment;if(i.$comment===!0)t.code((0,qe._)`${Je.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){let o=(0,qe.str)`${n}/$comment`,a=t.scopeValue("root",{ref:e.root});t.code((0,qe._)`${Je.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function tM(t){let{gen:e,schemaEnv:r,validateName:n,ValidationError:i,opts:s}=t;r.$async?e.if((0,qe._)`${Je.default.errors} === 0`,()=>e.return(Je.default.data),()=>e.throw((0,qe._)`new ${i}(${Je.default.vErrors})`)):(e.assign((0,qe._)`${n}.errors`,Je.default.vErrors),s.unevaluated&&rM(t),e.return((0,qe._)`${Je.default.errors} === 0`))}function rM({gen:t,evaluated:e,props:r,items:n}){r instanceof qe.Name&&t.assign((0,qe._)`${e}.props`,r),n instanceof qe.Name&&t.assign((0,qe._)`${e}.items`,n)}function Hv(t,e,r,n){let{gen:i,schema:s,data:o,allErrors:a,opts:u,self:c}=t,{RULES:l}=c;if(s.$ref&&(u.ignoreKeywordsWithRef||!(0,Mi.schemaHasRulesButRef)(s,l))){i.block(()=>eE(t,"$ref",l.all.$ref.definition));return}u.jtd||nM(t,e),i.block(()=>{for(let h of l.rules)p(h);p(l.post)});function p(h){(0,dp.shouldUseGroup)(s,h)&&(h.type?(i.if((0,Hl.checkDataType)(h.type,o,u.strictNumbers)),zv(t,h),e.length===1&&e[0]===h.type&&r&&(i.else(),(0,Hl.reportTypeError)(t)),i.endIf()):zv(t,h),a||i.if((0,qe._)`${Je.default.errors} === ${n||0}`))}}function zv(t,e){let{gen:r,schema:n,opts:{useDefaults:i}}=t;i&&(0,qx.assignDefaults)(t,e.type),r.block(()=>{for(let s of e.rules)(0,dp.shouldUseRule)(n,s)&&eE(t,s.keyword,s.definition,e.type)})}function nM(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(iM(t,e),t.opts.allowUnionTypes||oM(t,e),sM(t,t.dataTypes))}function iM(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{Qv(t.dataTypes,r)||hp(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),uM(t,e)}}function oM(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&hp(t,"use allowUnionTypes to allow union type keyword")}function sM(t,e){let r=t.self.RULES.all;for(let n in r){let i=r[n];if(typeof i=="object"&&(0,dp.shouldUseRule)(t.schema,i)){let{type:s}=i.definition;s.length&&!s.some(o=>aM(e,o))&&hp(t,`missing type "${s.join(",")}" for keyword "${n}"`)}}}function aM(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function Qv(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function uM(t,e){let r=[];for(let n of t.dataTypes)Qv(e,n)?r.push(n):e.includes("integer")&&n==="number"&&r.push("integer");t.dataTypes=r}function hp(t,e){let r=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${r}" (strictTypes)`,(0,Mi.checkStrictMode)(t,e,t.opts.strictTypes)}var zl=class{constructor(e,r,n){if((0,Au.validateKeywordUsage)(e,r,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Mi.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",tE(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,Au.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",Je.default.errors))}result(e,r,n){this.failResult((0,qe.not)(e),r,n)}failResult(e,r,n){this.gen.if(e),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,qe.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:r}=this;this.fail((0,qe._)`${r} !== undefined && (${(0,qe.or)(this.invalid$data(),e)})`)}error(e,r,n){if(r){this.setParams(r),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,r){(e?Tu.reportExtraError:Tu.reportError)(this,this.def.error,r)}$dataError(){(0,Tu.reportError)(this,this.def.$dataError||Tu.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Tu.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,n=qe.nil){this.gen.block(()=>{this.check$data(e,n),r()})}check$data(e=qe.nil,r=qe.nil){if(!this.$data)return;let{gen:n,schemaCode:i,schemaType:s,def:o}=this;n.if((0,qe.or)((0,qe._)`${i} === undefined`,r)),e!==qe.nil&&n.assign(e,!0),(s.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==qe.nil&&n.assign(e,!1)),n.else()}invalid$data(){let{gen:e,schemaCode:r,schemaType:n,def:i,it:s}=this;return(0,qe.or)(o(),a());function o(){if(n.length){if(!(r instanceof qe.Name))throw new Error("ajv implementation error");let u=Array.isArray(n)?n:[n];return(0,qe._)`${(0,Hl.checkDataTypes)(u,r,s.opts.strictNumbers,Hl.DataType.Wrong)}`}return qe.nil}function a(){if(i.validateSchema){let u=e.scopeValue("validate$data",{ref:i.validateSchema});return(0,qe._)`!${u}(${r})`}return qe.nil}}subschema(e,r){let n=(0,cp.getSubschema)(this.it,e);(0,cp.extendSubschemaData)(n,this.it,e),(0,cp.extendSubschemaMode)(n,e);let i={...this.it,...n,items:void 0,props:void 0};return Kx(i,r),i}mergeEvaluated(e,r){let{it:n,gen:i}=this;n.opts.unevaluated&&(n.props!==!0&&e.props!==void 0&&(n.props=Mi.mergeEvaluated.props(i,e.props,n.props,r)),n.items!==!0&&e.items!==void 0&&(n.items=Mi.mergeEvaluated.items(i,e.items,n.items,r)))}mergeValidEvaluated(e,r){let{it:n,gen:i}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return i.if(r,()=>this.mergeEvaluated(e,qe.Name)),!0}};To.KeywordCxt=zl;function eE(t,e,r,n){let i=new zl(t,r,e);"code"in r?r.code(i,n):i.$data&&r.validate?(0,Au.funcKeywordCode)(i,r):"macro"in r?(0,Au.macroKeywordCode)(i,r):(r.compile||r.validate)&&(0,Au.funcKeywordCode)(i,r)}var fM=/^\/(?:[^~]|~0|~1)*$/,lM=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function tE(t,{dataLevel:e,dataNames:r,dataPathArr:n}){let i,s;if(t==="")return Je.default.rootData;if(t[0]==="/"){if(!fM.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);i=t,s=Je.default.rootData}else{let c=lM.exec(t);if(!c)throw new Error(`Invalid JSON-pointer: ${t}`);let l=+c[1];if(i=c[2],i==="#"){if(l>=e)throw new Error(u("property/index",l));return n[e-l]}if(l>e)throw new Error(u("data",l));if(s=r[e-l],!i)return s}let o=s,a=i.split("/");for(let c of a)c&&(s=(0,qe._)`${s}${(0,qe.getProperty)((0,Mi.unescapeJsonPointer)(c))}`,o=(0,qe._)`${o} && ${s}`);return o;function u(c,l){return`Cannot access ${c} ${l} levels up, current level is ${e}`}}To.getData=tE});var Vl=de(yp=>{"use strict";x();Object.defineProperty(yp,"__esModule",{value:!0});var pp=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}};yp.default=pp});var Ru=de(bp=>{"use strict";x();Object.defineProperty(bp,"__esModule",{value:!0});var mp=Su(),gp=class extends Error{constructor(e,r,n,i){super(i||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,mp.resolveUrl)(e,r,n),this.missingSchema=(0,mp.normalizeId)((0,mp.getFullPath)(e,this.missingRef))}};bp.default=gp});var Yl=de(xn=>{"use strict";x();Object.defineProperty(xn,"__esModule",{value:!0});xn.resolveSchema=xn.getCompilingSchema=xn.resolveRef=xn.compileSchema=xn.SchemaEnv=void 0;var zn=rt(),cM=Vl(),as=xi(),Vn=Su(),rE=Et(),dM=$u(),ia=class{constructor(e){var r;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,Vn.normalizeId)(n?.[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n?.$async,this.refs={}}};xn.SchemaEnv=ia;function wp(t){let e=nE.call(this,t);if(e)return e;let r=(0,Vn.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new zn.CodeGen(this.scope,{es5:n,lines:i,ownProperties:s}),a;t.$async&&(a=o.scopeValue("Error",{ref:cM.default,code:(0,zn._)`require("ajv/dist/runtime/validation_error").default`}));let u=o.scopeName("validate");t.validateName=u;let c={gen:o,allErrors:this.opts.allErrors,data:as.default.data,parentData:as.default.parentData,parentDataProperty:as.default.parentDataProperty,dataNames:[as.default.data],dataPathArr:[zn.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,zn.stringify)(t.schema)}:{ref:t.schema}),validateName:u,ValidationError:a,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:zn.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,zn._)`""`,opts:this.opts,self:this},l;try{this._compilations.add(t),(0,dM.validateFunctionCode)(c),o.optimize(this.opts.code.optimize);let p=o.toString();l=`${o.scopeRefs(as.default.scope)}return ${p}`,this.opts.code.process&&(l=this.opts.code.process(l,t));let y=new Function(`${as.default.self}`,`${as.default.scope}`,l)(this,this.scope.get());if(this.scope.value(u,{ref:y}),y.errors=null,y.schema=t.schema,y.schemaEnv=t,t.$async&&(y.$async=!0),this.opts.code.source===!0&&(y.source={validateName:u,validateCode:p,scopeValues:o._values}),this.opts.unevaluated){let{props:b,items:w}=c;y.evaluated={props:b instanceof zn.Name?void 0:b,items:w instanceof zn.Name?void 0:w,dynamicProps:b instanceof zn.Name,dynamicItems:w instanceof zn.Name},y.source&&(y.source.evaluated=(0,zn.stringify)(y.evaluated))}return t.validate=y,t}catch(p){throw delete t.validate,delete t.validateName,l&&this.logger.error("Error compiling schema, function code:",l),p}finally{this._compilations.delete(t)}}xn.compileSchema=wp;function hM(t,e,r){var n;r=(0,Vn.resolveUrl)(this.opts.uriResolver,e,r);let i=t.refs[r];if(i)return i;let s=mM.call(this,t,r);if(s===void 0){let o=(n=t.localRefs)===null||n===void 0?void 0:n[r],{schemaId:a}=this.opts;o&&(s=new ia({schema:o,schemaId:a,root:t,baseId:e}))}if(s!==void 0)return t.refs[r]=pM.call(this,s)}xn.resolveRef=hM;function pM(t){return(0,Vn.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:wp.call(this,t)}function nE(t){for(let e of this._compilations)if(yM(e,t))return e}xn.getCompilingSchema=nE;function yM(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function mM(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||Gl.call(this,t,e)}function Gl(t,e){let r=this.opts.uriResolver.parse(e),n=(0,Vn._getFullPath)(this.opts.uriResolver,r),i=(0,Vn.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&n===i)return _p.call(this,r,t);let s=(0,Vn.normalizeId)(n),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){let a=Gl.call(this,t,o);return typeof a?.schema!="object"?void 0:_p.call(this,r,a)}if(typeof o?.schema=="object"){if(o.validate||wp.call(this,o),s===(0,Vn.normalizeId)(e)){let{schema:a}=o,{schemaId:u}=this.opts,c=a[u];return c&&(i=(0,Vn.resolveUrl)(this.opts.uriResolver,i,c)),new ia({schema:a,schemaId:u,root:t,baseId:i})}return _p.call(this,r,o)}}xn.resolveSchema=Gl;var gM=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function _p(t,{baseId:e,schema:r,root:n}){var i;if(((i=t.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(let a of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let u=r[(0,rE.unescapeFragment)(a)];if(u===void 0)return;r=u;let c=typeof r=="object"&&r[this.opts.schemaId];!gM.has(a)&&c&&(e=(0,Vn.resolveUrl)(this.opts.uriResolver,e,c))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,rE.schemaHasRulesButRef)(r,this.RULES)){let a=(0,Vn.resolveUrl)(this.opts.uriResolver,e,r.$ref);s=Gl.call(this,n,a)}let{schemaId:o}=this.opts;if(s=s||new ia({schema:r,schemaId:o,root:n,baseId:e}),s.schema!==s.root.schema)return s}});var iE=de((Qz,bM)=>{bM.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var sE=de((eV,oE)=>{"use strict";x();var _M={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};oE.exports={HEX:_M}});var pE=de((nV,hE)=>{"use strict";x();var{HEX:wM}=sE(),vM=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function lE(t){if(dE(t,".")<3)return{host:t,isIPV4:!1};let e=t.match(vM)||[],[r]=e;return r?{host:SM(r,"."),isIPV4:!0}:{host:t,isIPV4:!1}}function vp(t,e=!1){let r="",n=!0;for(let i of t){if(wM[i]===void 0)return;i!=="0"&&n===!0&&(n=!1),n||(r+=i)}return e&&r.length===0&&(r="0"),r}function EM(t){let e=0,r={error:!1,address:"",zone:""},n=[],i=[],s=!1,o=!1,a=!1;function u(){if(i.length){if(s===!1){let c=vp(i);if(c!==void 0)n.push(c);else return r.error=!0,!1}i.length=0}return!0}for(let c=0;c<t.length;c++){let l=t[c];if(!(l==="["||l==="]"))if(l===":"){if(o===!0&&(a=!0),!u())break;if(e++,n.push(":"),e>7){r.error=!0;break}c-1>=0&&t[c-1]===":"&&(o=!0);continue}else if(l==="%"){if(!u())break;s=!0}else{i.push(l);continue}}return i.length&&(s?r.zone=i.join(""):a?n.push(i.join("")):n.push(vp(i))),r.address=n.join(""),r}function cE(t){if(dE(t,":")<2)return{host:t,isIPV6:!1};let e=EM(t);if(e.error)return{host:t,isIPV6:!1};{let r=e.address,n=e.address;return e.zone&&(r+="%"+e.zone,n+="%25"+e.zone),{host:r,escapedHost:n,isIPV6:!0}}}function SM(t,e){let r="",n=!0,i=t.length;for(let s=0;s<i;s++){let o=t[s];o==="0"&&n?(s+1<=i&&t[s+1]===e||s+1===i)&&(r+=o,n=!1):(o===e?n=!0:n=!1,r+=o)}return r}function dE(t,e){let r=0;for(let n=0;n<t.length;n++)t[n]===e&&r++;return r}var aE=/^\.\.?\//u,uE=/^\/\.(?:\/|$)/u,fE=/^\/\.\.(?:\/|$)/u,TM=/^\/?(?:.|\n)*?(?=\/|$)/u;function AM(t){let e=[];for(;t.length;)if(t.match(aE))t=t.replace(aE,"");else if(t.match(uE))t=t.replace(uE,"/");else if(t.match(fE))t=t.replace(fE,"/"),e.pop();else if(t==="."||t==="..")t="";else{let r=t.match(TM);if(r){let n=r[0];t=t.slice(n.length),e.push(n)}else throw new Error("Unexpected dot segment condition")}return e.join("")}function $M(t,e){let r=e!==!0?escape:unescape;return t.scheme!==void 0&&(t.scheme=r(t.scheme)),t.userinfo!==void 0&&(t.userinfo=r(t.userinfo)),t.host!==void 0&&(t.host=r(t.host)),t.path!==void 0&&(t.path=r(t.path)),t.query!==void 0&&(t.query=r(t.query)),t.fragment!==void 0&&(t.fragment=r(t.fragment)),t}function RM(t){let e=[];if(t.userinfo!==void 0&&(e.push(t.userinfo),e.push("@")),t.host!==void 0){let r=unescape(t.host),n=lE(r);if(n.isIPV4)r=n.host;else{let i=cE(n.host);i.isIPV6===!0?r=`[${i.escapedHost}]`:r=t.host}e.push(r)}return(typeof t.port=="number"||typeof t.port=="string")&&(e.push(":"),e.push(String(t.port))),e.length?e.join(""):void 0}hE.exports={recomposeAuthority:RM,normalizeComponentEncoding:$M,removeDotSegments:AM,normalizeIPv4:lE,normalizeIPv6:cE,stringArrayToHexStripped:vp}});var wE=de((sV,_E)=>{"use strict";x();var OM=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,PM=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function yE(t){return typeof t.secure=="boolean"?t.secure:String(t.scheme).toLowerCase()==="wss"}function mE(t){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t}function gE(t){let e=String(t.scheme).toLowerCase()==="https";return(t.port===(e?443:80)||t.port==="")&&(t.port=void 0),t.path||(t.path="/"),t}function IM(t){return t.secure=yE(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t}function CM(t){if((t.port===(yE(t)?443:80)||t.port==="")&&(t.port=void 0),typeof t.secure=="boolean"&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){let[e,r]=t.resourceName.split("?");t.path=e&&e!=="/"?e:void 0,t.query=r,t.resourceName=void 0}return t.fragment=void 0,t}function NM(t,e){if(!t.path)return t.error="URN can not be parsed",t;let r=t.path.match(PM);if(r){let n=e.scheme||t.scheme||"urn";t.nid=r[1].toLowerCase(),t.nss=r[2];let i=`${n}:${e.nid||t.nid}`,s=Ep[i];t.path=void 0,s&&(t=s.parse(t,e))}else t.error=t.error||"URN can not be parsed.";return t}function xM(t,e){let r=e.scheme||t.scheme||"urn",n=t.nid.toLowerCase(),i=`${r}:${e.nid||n}`,s=Ep[i];s&&(t=s.serialize(t,e));let o=t,a=t.nss;return o.path=`${n||e.nid}:${a}`,e.skipEscape=!0,o}function MM(t,e){let r=t;return r.uuid=r.nss,r.nss=void 0,!e.tolerant&&(!r.uuid||!OM.test(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function LM(t){let e=t;return e.nss=(t.uuid||"").toLowerCase(),e}var bE={scheme:"http",domainHost:!0,parse:mE,serialize:gE},BM={scheme:"https",domainHost:bE.domainHost,parse:mE,serialize:gE},Kl={scheme:"ws",domainHost:!0,parse:IM,serialize:CM},jM={scheme:"wss",domainHost:Kl.domainHost,parse:Kl.parse,serialize:Kl.serialize},UM={scheme:"urn",parse:NM,serialize:xM,skipNormalize:!0},kM={scheme:"urn:uuid",parse:MM,serialize:LM,skipNormalize:!0},Ep={http:bE,https:BM,ws:Kl,wss:jM,urn:UM,"urn:uuid":kM};_E.exports=Ep});var EE=de((fV,Xl)=>{"use strict";x();var{normalizeIPv6:DM,normalizeIPv4:FM,removeDotSegments:Ou,recomposeAuthority:qM,normalizeComponentEncoding:Jl}=pE(),Sp=wE();function WM(t,e){return typeof t=="string"?t=ui(Li(t,e),e):typeof t=="object"&&(t=Li(ui(t,e),e)),t}function HM(t,e,r){let n=Object.assign({scheme:"null"},r),i=vE(Li(t,n),Li(e,n),n,!0);return ui(i,{...n,skipEscape:!0})}function vE(t,e,r,n){let i={};return n||(t=Li(ui(t,r),r),e=Li(ui(e,r),r)),r=r||{},!r.tolerant&&e.scheme?(i.scheme=e.scheme,i.userinfo=e.userinfo,i.host=e.host,i.port=e.port,i.path=Ou(e.path||""),i.query=e.query):(e.userinfo!==void 0||e.host!==void 0||e.port!==void 0?(i.userinfo=e.userinfo,i.host=e.host,i.port=e.port,i.path=Ou(e.path||""),i.query=e.query):(e.path?(e.path.charAt(0)==="/"?i.path=Ou(e.path):((t.userinfo!==void 0||t.host!==void 0||t.port!==void 0)&&!t.path?i.path="/"+e.path:t.path?i.path=t.path.slice(0,t.path.lastIndexOf("/")+1)+e.path:i.path=e.path,i.path=Ou(i.path)),i.query=e.query):(i.path=t.path,e.query!==void 0?i.query=e.query:i.query=t.query),i.userinfo=t.userinfo,i.host=t.host,i.port=t.port),i.scheme=t.scheme),i.fragment=e.fragment,i}function zM(t,e,r){return typeof t=="string"?(t=unescape(t),t=ui(Jl(Li(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=ui(Jl(t,!0),{...r,skipEscape:!0})),typeof e=="string"?(e=unescape(e),e=ui(Jl(Li(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=ui(Jl(e,!0),{...r,skipEscape:!0})),t.toLowerCase()===e.toLowerCase()}function ui(t,e){let r={host:t.host,scheme:t.scheme,userinfo:t.userinfo,port:t.port,path:t.path,query:t.query,nid:t.nid,nss:t.nss,uuid:t.uuid,fragment:t.fragment,reference:t.reference,resourceName:t.resourceName,secure:t.secure,error:""},n=Object.assign({},e),i=[],s=Sp[(n.scheme||r.scheme||"").toLowerCase()];s&&s.serialize&&s.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&i.push(r.scheme,":");let o=qM(r);if(o!==void 0&&(n.reference!=="suffix"&&i.push("//"),i.push(o),r.path&&r.path.charAt(0)!=="/"&&i.push("/")),r.path!==void 0){let a=r.path;!n.absolutePath&&(!s||!s.absolutePath)&&(a=Ou(a)),o===void 0&&(a=a.replace(/^\/\//u,"/%2F")),i.push(a)}return r.query!==void 0&&i.push("?",r.query),r.fragment!==void 0&&i.push("#",r.fragment),i.join("")}var VM=Array.from({length:127},(t,e)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(e)));function GM(t){let e=0;for(let r=0,n=t.length;r<n;++r)if(e=t.charCodeAt(r),e>126||VM[e])return!0;return!1}var YM=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function Li(t,e){let r=Object.assign({},e),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},i=t.indexOf("%")!==-1,s=!1;r.reference==="suffix"&&(t=(r.scheme?r.scheme+":":"")+"//"+t);let o=t.match(YM);if(o){if(n.scheme=o[1],n.userinfo=o[3],n.host=o[4],n.port=parseInt(o[5],10),n.path=o[6]||"",n.query=o[7],n.fragment=o[8],isNaN(n.port)&&(n.port=o[5]),n.host){let u=FM(n.host);if(u.isIPV4===!1){let c=DM(u.host);n.host=c.host.toLowerCase(),s=c.isIPV6}else n.host=u.host,s=!0}n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");let a=Sp[(r.scheme||n.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!a||!a.unicodeSupport)&&n.host&&(r.domainHost||a&&a.domainHost)&&s===!1&&GM(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(u){n.error=n.error||"Host's domain name can not be converted to ASCII: "+u}(!a||a&&!a.skipNormalize)&&(i&&n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),i&&n.host!==void 0&&(n.host=unescape(n.host)),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),a&&a.parse&&a.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}var Tp={SCHEMES:Sp,normalize:WM,resolve:HM,resolveComponents:vE,equal:zM,serialize:ui,parse:Li};Xl.exports=Tp;Xl.exports.default=Tp;Xl.exports.fastUri=Tp});var TE=de(Ap=>{"use strict";x();Object.defineProperty(Ap,"__esModule",{value:!0});var SE=EE();SE.code='require("ajv/dist/runtime/uri").default';Ap.default=SE});var NE=de(wr=>{"use strict";x();Object.defineProperty(wr,"__esModule",{value:!0});wr.CodeGen=wr.Name=wr.nil=wr.stringify=wr.str=wr._=wr.KeywordCxt=void 0;var KM=$u();Object.defineProperty(wr,"KeywordCxt",{enumerable:!0,get:function(){return KM.KeywordCxt}});var oa=rt();Object.defineProperty(wr,"_",{enumerable:!0,get:function(){return oa._}});Object.defineProperty(wr,"str",{enumerable:!0,get:function(){return oa.str}});Object.defineProperty(wr,"stringify",{enumerable:!0,get:function(){return oa.stringify}});Object.defineProperty(wr,"nil",{enumerable:!0,get:function(){return oa.nil}});Object.defineProperty(wr,"Name",{enumerable:!0,get:function(){return oa.Name}});Object.defineProperty(wr,"CodeGen",{enumerable:!0,get:function(){return oa.CodeGen}});var JM=Vl(),PE=Ru(),XM=tp(),Pu=Yl(),ZM=rt(),Iu=Su(),Zl=Eu(),Rp=Et(),AE=iE(),QM=TE(),IE=(t,e)=>new RegExp(t,e);IE.code="new RegExp";var eL=["removeAdditional","useDefaults","coerceTypes"],tL=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),rL={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},nL={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},$E=200;function iL(t){var e,r,n,i,s,o,a,u,c,l,p,h,y,b,w,m,E,T,S,P,A,N,C,W,z;let j=t.strict,ne=(e=t.code)===null||e===void 0?void 0:e.optimize,Q=ne===!0||ne===void 0?1:ne||0,H=(n=(r=t.code)===null||r===void 0?void 0:r.regExp)!==null&&n!==void 0?n:IE,fe=(i=t.uriResolver)!==null&&i!==void 0?i:QM.default;return{strictSchema:(o=(s=t.strictSchema)!==null&&s!==void 0?s:j)!==null&&o!==void 0?o:!0,strictNumbers:(u=(a=t.strictNumbers)!==null&&a!==void 0?a:j)!==null&&u!==void 0?u:!0,strictTypes:(l=(c=t.strictTypes)!==null&&c!==void 0?c:j)!==null&&l!==void 0?l:"log",strictTuples:(h=(p=t.strictTuples)!==null&&p!==void 0?p:j)!==null&&h!==void 0?h:"log",strictRequired:(b=(y=t.strictRequired)!==null&&y!==void 0?y:j)!==null&&b!==void 0?b:!1,code:t.code?{...t.code,optimize:Q,regExp:H}:{optimize:Q,regExp:H},loopRequired:(w=t.loopRequired)!==null&&w!==void 0?w:$E,loopEnum:(m=t.loopEnum)!==null&&m!==void 0?m:$E,meta:(E=t.meta)!==null&&E!==void 0?E:!0,messages:(T=t.messages)!==null&&T!==void 0?T:!0,inlineRefs:(S=t.inlineRefs)!==null&&S!==void 0?S:!0,schemaId:(P=t.schemaId)!==null&&P!==void 0?P:"$id",addUsedSchema:(A=t.addUsedSchema)!==null&&A!==void 0?A:!0,validateSchema:(N=t.validateSchema)!==null&&N!==void 0?N:!0,validateFormats:(C=t.validateFormats)!==null&&C!==void 0?C:!0,unicodeRegExp:(W=t.unicodeRegExp)!==null&&W!==void 0?W:!0,int32range:(z=t.int32range)!==null&&z!==void 0?z:!0,uriResolver:fe}}var Cu=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...iL(e)};let{es5:r,lines:n}=this.opts.code;this.scope=new ZM.ValueScope({scope:{},prefixes:tL,es5:r,lines:n}),this.logger=lL(e.logger);let i=e.validateFormats;e.validateFormats=!1,this.RULES=(0,XM.getRules)(),RE.call(this,rL,e,"NOT SUPPORTED"),RE.call(this,nL,e,"DEPRECATED","warn"),this._metaOpts=uL.call(this),e.formats&&sL.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&aL.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),oL.call(this),e.validateFormats=i}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:r,schemaId:n}=this.opts,i=AE;n==="id"&&(i={...AE},i.id=i.$id,delete i.$id),r&&e&&this.addMetaSchema(i,i[n],!1)}defaultMeta(){let{meta:e,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e[r]||e:void 0}validate(e,r){let n;if(typeof e=="string"){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);let i=n(r);return"$async"in n||(this.errors=n.errors),i}compile(e,r){let n=this._addSchema(e,r);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return i.call(this,e,r);async function i(l,p){await s.call(this,l.$schema);let h=this._addSchema(l,p);return h.validate||o.call(this,h)}async function s(l){l&&!this.getSchema(l)&&await i.call(this,{$ref:l},!0)}async function o(l){try{return this._compileSchemaEnv(l)}catch(p){if(!(p instanceof PE.default))throw p;return a.call(this,p),await u.call(this,p.missingSchema),o.call(this,l)}}function a({missingSchema:l,missingRef:p}){if(this.refs[l])throw new Error(`AnySchema ${l} is loaded but ${p} cannot be resolved`)}async function u(l){let p=await c.call(this,l);this.refs[l]||await s.call(this,p.$schema),this.refs[l]||this.addSchema(p,l,r)}async function c(l){let p=this._loading[l];if(p)return p;try{return await(this._loading[l]=n(l))}finally{delete this._loading[l]}}}addSchema(e,r,n,i=this.opts.validateSchema){if(Array.isArray(e)){for(let o of e)this.addSchema(o,void 0,n,i);return this}let s;if(typeof e=="object"){let{schemaId:o}=this.opts;if(s=e[o],s!==void 0&&typeof s!="string")throw new Error(`schema ${o} must be string`)}return r=(0,Iu.normalizeId)(r||s),this._checkUnique(r),this.schemas[r]=this._addSchema(e,n,r,i,!0),this}addMetaSchema(e,r,n=this.opts.validateSchema){return this.addSchema(e,r,!0,n),this}validateSchema(e,r){if(typeof e=="boolean")return!0;let n;if(n=e.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let i=this.validate(n,e);if(!i&&r){let s="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(s);else throw new Error(s)}return i}getSchema(e){let r;for(;typeof(r=OE.call(this,e))=="string";)e=r;if(r===void 0){let{schemaId:n}=this.opts,i=new Pu.SchemaEnv({schema:{},schemaId:n});if(r=Pu.resolveSchema.call(this,i,e),!r)return;this.refs[e]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=OE.call(this,e);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let r=e;this._cache.delete(r);let n=e[this.opts.schemaId];return n&&(n=(0,Iu.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let r of e)this.addKeyword(r);return this}addKeyword(e,r){let n;if(typeof e=="string")n=e,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=n);else if(typeof e=="object"&&r===void 0){if(r=e,n=r.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(dL.call(this,n,r),!r)return(0,Rp.eachItem)(n,s=>$p.call(this,s)),this;pL.call(this,r);let i={...r,type:(0,Zl.getJSONTypes)(r.type),schemaType:(0,Zl.getJSONTypes)(r.schemaType)};return(0,Rp.eachItem)(n,i.type.length===0?s=>$p.call(this,s,i):s=>i.type.forEach(o=>$p.call(this,s,i,o))),this}getKeyword(e){let r=this.RULES.all[e];return typeof r=="object"?r.definition:!!r}removeKeyword(e){let{RULES:r}=this;delete r.keywords[e],delete r.all[e];for(let n of r.rules){let i=n.rules.findIndex(s=>s.keyword===e);i>=0&&n.rules.splice(i,1)}return this}addFormat(e,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[e]=r,this}errorsText(e=this.errors,{separator:r=", ",dataVar:n="data"}={}){return!e||e.length===0?"No errors":e.map(i=>`${n}${i.instancePath} ${i.message}`).reduce((i,s)=>i+r+s)}$dataMetaSchema(e,r){let n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let i of r){let s=i.split("/").slice(1),o=e;for(let a of s)o=o[a];for(let a in n){let u=n[a];if(typeof u!="object")continue;let{$data:c}=u.definition,l=o[a];c&&l&&(o[a]=CE(l))}}return e}_removeAllSchemas(e,r){for(let n in e){let i=e[n];(!r||r.test(n))&&(typeof i=="string"?delete e[n]:i&&!i.meta&&(this._cache.delete(i.schema),delete e[n]))}}_addSchema(e,r,n,i=this.opts.validateSchema,s=this.opts.addUsedSchema){let o,{schemaId:a}=this.opts;if(typeof e=="object")o=e[a];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let u=this._cache.get(e);if(u!==void 0)return u;n=(0,Iu.normalizeId)(o||n);let c=Iu.getSchemaRefs.call(this,e,n);return u=new Pu.SchemaEnv({schema:e,schemaId:a,meta:r,baseId:n,localRefs:c}),this._cache.set(u.schema,u),s&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=u),i&&this.validateSchema(e,!0),u}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):Pu.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let r=this.opts;this.opts=this._metaOpts;try{Pu.compileSchema.call(this,e)}finally{this.opts=r}}};Cu.ValidationError=JM.default;Cu.MissingRefError=PE.default;wr.default=Cu;function RE(t,e,r,n="error"){for(let i in t){let s=i;s in e&&this.logger[n](`${r}: option ${i}. ${t[s]}`)}}function OE(t){return t=(0,Iu.normalizeId)(t),this.schemas[t]||this.refs[t]}function oL(){let t=this.opts.schemas;if(t)if(Array.isArray(t))this.addSchema(t);else for(let e in t)this.addSchema(t[e],e)}function sL(){for(let t in this.opts.formats){let e=this.opts.formats[t];e&&this.addFormat(t,e)}}function aL(t){if(Array.isArray(t)){this.addVocabulary(t);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in t){let r=t[e];r.keyword||(r.keyword=e),this.addKeyword(r)}}function uL(){let t={...this.opts};for(let e of eL)delete t[e];return t}var fL={log(){},warn(){},error(){}};function lL(t){if(t===!1)return fL;if(t===void 0)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}var cL=/^[a-z_$][a-z0-9_$:-]*$/i;function dL(t,e){let{RULES:r}=this;if((0,Rp.eachItem)(t,n=>{if(r.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!cL.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function $p(t,e,r){var n;let i=e?.post;if(r&&i)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:s}=this,o=i?s.post:s.rules.find(({type:u})=>u===r);if(o||(o={type:r,rules:[]},s.rules.push(o)),s.keywords[t]=!0,!e)return;let a={keyword:t,definition:{...e,type:(0,Zl.getJSONTypes)(e.type),schemaType:(0,Zl.getJSONTypes)(e.schemaType)}};e.before?hL.call(this,o,a,e.before):o.rules.push(a),s.all[t]=a,(n=e.implements)===null||n===void 0||n.forEach(u=>this.addKeyword(u))}function hL(t,e,r){let n=t.rules.findIndex(i=>i.keyword===r);n>=0?t.rules.splice(n,0,e):(t.rules.push(e),this.logger.warn(`rule ${r} is not defined`))}function pL(t){let{metaSchema:e}=t;e!==void 0&&(t.$data&&this.opts.$data&&(e=CE(e)),t.validateSchema=this.compile(e,!0))}var yL={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function CE(t){return{anyOf:[t,yL]}}});var xE=de(Op=>{"use strict";x();Object.defineProperty(Op,"__esModule",{value:!0});var mL={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Op.default=mL});var jE=de(us=>{"use strict";x();Object.defineProperty(us,"__esModule",{value:!0});us.callRef=us.getValidate=void 0;var gL=Ru(),ME=Nn(),an=rt(),sa=xi(),LE=Yl(),Ql=Et(),bL={keyword:"$ref",schemaType:"string",code(t){let{gen:e,schema:r,it:n}=t,{baseId:i,schemaEnv:s,validateName:o,opts:a,self:u}=n,{root:c}=s;if((r==="#"||r==="#/")&&i===c.baseId)return p();let l=LE.resolveRef.call(u,c,i,r);if(l===void 0)throw new gL.default(n.opts.uriResolver,i,r);if(l instanceof LE.SchemaEnv)return h(l);return y(l);function p(){if(s===c)return ec(t,o,s,s.$async);let b=e.scopeValue("root",{ref:c});return ec(t,(0,an._)`${b}.validate`,c,c.$async)}function h(b){let w=BE(t,b);ec(t,w,b,b.$async)}function y(b){let w=e.scopeValue("schema",a.code.source===!0?{ref:b,code:(0,an.stringify)(b)}:{ref:b}),m=e.name("valid"),E=t.subschema({schema:b,dataTypes:[],schemaPath:an.nil,topSchemaRef:w,errSchemaPath:r},m);t.mergeEvaluated(E),t.ok(m)}}};function BE(t,e){let{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,an._)`${r.scopeValue("wrapper",{ref:e})}.validate`}us.getValidate=BE;function ec(t,e,r,n){let{gen:i,it:s}=t,{allErrors:o,schemaEnv:a,opts:u}=s,c=u.passContext?sa.default.this:an.nil;n?l():p();function l(){if(!a.$async)throw new Error("async schema referenced by sync schema");let b=i.let("valid");i.try(()=>{i.code((0,an._)`await ${(0,ME.callValidateCode)(t,e,c)}`),y(e),o||i.assign(b,!0)},w=>{i.if((0,an._)`!(${w} instanceof ${s.ValidationError})`,()=>i.throw(w)),h(w),o||i.assign(b,!1)}),t.ok(b)}function p(){t.result((0,ME.callValidateCode)(t,e,c),()=>y(e),()=>h(e))}function h(b){let w=(0,an._)`${b}.errors`;i.assign(sa.default.vErrors,(0,an._)`${sa.default.vErrors} === null ? ${w} : ${sa.default.vErrors}.concat(${w})`),i.assign(sa.default.errors,(0,an._)`${sa.default.vErrors}.length`)}function y(b){var w;if(!s.opts.unevaluated)return;let m=(w=r?.validate)===null||w===void 0?void 0:w.evaluated;if(s.props!==!0)if(m&&!m.dynamicProps)m.props!==void 0&&(s.props=Ql.mergeEvaluated.props(i,m.props,s.props));else{let E=i.var("props",(0,an._)`${b}.evaluated.props`);s.props=Ql.mergeEvaluated.props(i,E,s.props,an.Name)}if(s.items!==!0)if(m&&!m.dynamicItems)m.items!==void 0&&(s.items=Ql.mergeEvaluated.items(i,m.items,s.items));else{let E=i.var("items",(0,an._)`${b}.evaluated.items`);s.items=Ql.mergeEvaluated.items(i,E,s.items,an.Name)}}}us.callRef=ec;us.default=bL});var UE=de(Pp=>{"use strict";x();Object.defineProperty(Pp,"__esModule",{value:!0});var _L=xE(),wL=jE(),vL=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",_L.default,wL.default];Pp.default=vL});var kE=de(Ip=>{"use strict";x();Object.defineProperty(Ip,"__esModule",{value:!0});var tc=rt(),Ao=tc.operators,rc={maximum:{okStr:"<=",ok:Ao.LTE,fail:Ao.GT},minimum:{okStr:">=",ok:Ao.GTE,fail:Ao.LT},exclusiveMaximum:{okStr:"<",ok:Ao.LT,fail:Ao.GTE},exclusiveMinimum:{okStr:">",ok:Ao.GT,fail:Ao.LTE}},EL={message:({keyword:t,schemaCode:e})=>(0,tc.str)`must be ${rc[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,tc._)`{comparison: ${rc[t].okStr}, limit: ${e}}`},SL={keyword:Object.keys(rc),type:"number",schemaType:"number",$data:!0,error:EL,code(t){let{keyword:e,data:r,schemaCode:n}=t;t.fail$data((0,tc._)`${r} ${rc[e].fail} ${n} || isNaN(${r})`)}};Ip.default=SL});var DE=de(Cp=>{"use strict";x();Object.defineProperty(Cp,"__esModule",{value:!0});var Nu=rt(),TL={message:({schemaCode:t})=>(0,Nu.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,Nu._)`{multipleOf: ${t}}`},AL={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:TL,code(t){let{gen:e,data:r,schemaCode:n,it:i}=t,s=i.opts.multipleOfPrecision,o=e.let("res"),a=s?(0,Nu._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,Nu._)`${o} !== parseInt(${o})`;t.fail$data((0,Nu._)`(${n} === 0 || (${o} = ${r}/${n}, ${a}))`)}};Cp.default=AL});var qE=de(Np=>{"use strict";x();Object.defineProperty(Np,"__esModule",{value:!0});function FE(t){let e=t.length,r=0,n=0,i;for(;n<e;)r++,i=t.charCodeAt(n++),i>=55296&&i<=56319&&n<e&&(i=t.charCodeAt(n),(i&64512)===56320&&n++);return r}Np.default=FE;FE.code='require("ajv/dist/runtime/ucs2length").default'});var WE=de(xp=>{"use strict";x();Object.defineProperty(xp,"__esModule",{value:!0});var fs=rt(),$L=Et(),RL=qE(),OL={message({keyword:t,schemaCode:e}){let r=t==="maxLength"?"more":"fewer";return(0,fs.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,fs._)`{limit: ${t}}`},PL={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:OL,code(t){let{keyword:e,data:r,schemaCode:n,it:i}=t,s=e==="maxLength"?fs.operators.GT:fs.operators.LT,o=i.opts.unicode===!1?(0,fs._)`${r}.length`:(0,fs._)`${(0,$L.useFunc)(t.gen,RL.default)}(${r})`;t.fail$data((0,fs._)`${o} ${s} ${n}`)}};xp.default=PL});var HE=de(Mp=>{"use strict";x();Object.defineProperty(Mp,"__esModule",{value:!0});var IL=Nn(),nc=rt(),CL={message:({schemaCode:t})=>(0,nc.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,nc._)`{pattern: ${t}}`},NL={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:CL,code(t){let{data:e,$data:r,schema:n,schemaCode:i,it:s}=t,o=s.opts.unicodeRegExp?"u":"",a=r?(0,nc._)`(new RegExp(${i}, ${o}))`:(0,IL.usePattern)(t,n);t.fail$data((0,nc._)`!${a}.test(${e})`)}};Mp.default=NL});var zE=de(Lp=>{"use strict";x();Object.defineProperty(Lp,"__esModule",{value:!0});var xu=rt(),xL={message({keyword:t,schemaCode:e}){let r=t==="maxProperties"?"more":"fewer";return(0,xu.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,xu._)`{limit: ${t}}`},ML={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:xL,code(t){let{keyword:e,data:r,schemaCode:n}=t,i=e==="maxProperties"?xu.operators.GT:xu.operators.LT;t.fail$data((0,xu._)`Object.keys(${r}).length ${i} ${n}`)}};Lp.default=ML});var VE=de(Bp=>{"use strict";x();Object.defineProperty(Bp,"__esModule",{value:!0});var Mu=Nn(),Lu=rt(),LL=Et(),BL={message:({params:{missingProperty:t}})=>(0,Lu.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,Lu._)`{missingProperty: ${t}}`},jL={keyword:"required",type:"object",schemaType:"array",$data:!0,error:BL,code(t){let{gen:e,schema:r,schemaCode:n,data:i,$data:s,it:o}=t,{opts:a}=o;if(!s&&r.length===0)return;let u=r.length>=a.loopRequired;if(o.allErrors?c():l(),a.strictRequired){let y=t.parentSchema.properties,{definedProperties:b}=t.it;for(let w of r)if(y?.[w]===void 0&&!b.has(w)){let m=o.schemaEnv.baseId+o.errSchemaPath,E=`required property "${w}" is not defined at "${m}" (strictRequired)`;(0,LL.checkStrictMode)(o,E,o.opts.strictRequired)}}function c(){if(u||s)t.block$data(Lu.nil,p);else for(let y of r)(0,Mu.checkReportMissingProp)(t,y)}function l(){let y=e.let("missing");if(u||s){let b=e.let("valid",!0);t.block$data(b,()=>h(y,b)),t.ok(b)}else e.if((0,Mu.checkMissingProp)(t,r,y)),(0,Mu.reportMissingProp)(t,y),e.else()}function p(){e.forOf("prop",n,y=>{t.setParams({missingProperty:y}),e.if((0,Mu.noPropertyInData)(e,i,y,a.ownProperties),()=>t.error())})}function h(y,b){t.setParams({missingProperty:y}),e.forOf(y,n,()=>{e.assign(b,(0,Mu.propertyInData)(e,i,y,a.ownProperties)),e.if((0,Lu.not)(b),()=>{t.error(),e.break()})},Lu.nil)}}};Bp.default=jL});var GE=de(jp=>{"use strict";x();Object.defineProperty(jp,"__esModule",{value:!0});var Bu=rt(),UL={message({keyword:t,schemaCode:e}){let r=t==="maxItems"?"more":"fewer";return(0,Bu.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,Bu._)`{limit: ${t}}`},kL={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:UL,code(t){let{keyword:e,data:r,schemaCode:n}=t,i=e==="maxItems"?Bu.operators.GT:Bu.operators.LT;t.fail$data((0,Bu._)`${r}.length ${i} ${n}`)}};jp.default=kL});var ic=de(Up=>{"use strict";x();Object.defineProperty(Up,"__esModule",{value:!0});var YE=fp();YE.code='require("ajv/dist/runtime/equal").default';Up.default=YE});var KE=de(Dp=>{"use strict";x();Object.defineProperty(Dp,"__esModule",{value:!0});var kp=Eu(),vr=rt(),DL=Et(),FL=ic(),qL={message:({params:{i:t,j:e}})=>(0,vr.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,vr._)`{i: ${t}, j: ${e}}`},WL={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:qL,code(t){let{gen:e,data:r,$data:n,schema:i,parentSchema:s,schemaCode:o,it:a}=t;if(!n&&!i)return;let u=e.let("valid"),c=s.items?(0,kp.getSchemaTypes)(s.items):[];t.block$data(u,l,(0,vr._)`${o} === false`),t.ok(u);function l(){let b=e.let("i",(0,vr._)`${r}.length`),w=e.let("j");t.setParams({i:b,j:w}),e.assign(u,!0),e.if((0,vr._)`${b} > 1`,()=>(p()?h:y)(b,w))}function p(){return c.length>0&&!c.some(b=>b==="object"||b==="array")}function h(b,w){let m=e.name("item"),E=(0,kp.checkDataTypes)(c,m,a.opts.strictNumbers,kp.DataType.Wrong),T=e.const("indices",(0,vr._)`{}`);e.for((0,vr._)`;${b}--;`,()=>{e.let(m,(0,vr._)`${r}[${b}]`),e.if(E,(0,vr._)`continue`),c.length>1&&e.if((0,vr._)`typeof ${m} == "string"`,(0,vr._)`${m} += "_"`),e.if((0,vr._)`typeof ${T}[${m}] == "number"`,()=>{e.assign(w,(0,vr._)`${T}[${m}]`),t.error(),e.assign(u,!1).break()}).code((0,vr._)`${T}[${m}] = ${b}`)})}function y(b,w){let m=(0,DL.useFunc)(e,FL.default),E=e.name("outer");e.label(E).for((0,vr._)`;${b}--;`,()=>e.for((0,vr._)`${w} = ${b}; ${w}--;`,()=>e.if((0,vr._)`${m}(${r}[${b}], ${r}[${w}])`,()=>{t.error(),e.assign(u,!1).break(E)})))}}};Dp.default=WL});var JE=de(qp=>{"use strict";x();Object.defineProperty(qp,"__esModule",{value:!0});var Fp=rt(),HL=Et(),zL=ic(),VL={message:"must be equal to constant",params:({schemaCode:t})=>(0,Fp._)`{allowedValue: ${t}}`},GL={keyword:"const",$data:!0,error:VL,code(t){let{gen:e,data:r,$data:n,schemaCode:i,schema:s}=t;n||s&&typeof s=="object"?t.fail$data((0,Fp._)`!${(0,HL.useFunc)(e,zL.default)}(${r}, ${i})`):t.fail((0,Fp._)`${s} !== ${r}`)}};qp.default=GL});var XE=de(Wp=>{"use strict";x();Object.defineProperty(Wp,"__esModule",{value:!0});var ju=rt(),YL=Et(),KL=ic(),JL={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,ju._)`{allowedValues: ${t}}`},XL={keyword:"enum",schemaType:"array",$data:!0,error:JL,code(t){let{gen:e,data:r,$data:n,schema:i,schemaCode:s,it:o}=t;if(!n&&i.length===0)throw new Error("enum must have non-empty array");let a=i.length>=o.opts.loopEnum,u,c=()=>u??(u=(0,YL.useFunc)(e,KL.default)),l;if(a||n)l=e.let("valid"),t.block$data(l,p);else{if(!Array.isArray(i))throw new Error("ajv implementation error");let y=e.const("vSchema",s);l=(0,ju.or)(...i.map((b,w)=>h(y,w)))}t.pass(l);function p(){e.assign(l,!1),e.forOf("v",s,y=>e.if((0,ju._)`${c()}(${r}, ${y})`,()=>e.assign(l,!0).break()))}function h(y,b){let w=i[b];return typeof w=="object"&&w!==null?(0,ju._)`${c()}(${r}, ${y}[${b}])`:(0,ju._)`${r} === ${w}`}}};Wp.default=XL});var ZE=de(Hp=>{"use strict";x();Object.defineProperty(Hp,"__esModule",{value:!0});var ZL=kE(),QL=DE(),eB=WE(),tB=HE(),rB=zE(),nB=VE(),iB=GE(),oB=KE(),sB=JE(),aB=XE(),uB=[ZL.default,QL.default,eB.default,tB.default,rB.default,nB.default,iB.default,oB.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},sB.default,aB.default];Hp.default=uB});var Vp=de(Uu=>{"use strict";x();Object.defineProperty(Uu,"__esModule",{value:!0});Uu.validateAdditionalItems=void 0;var ls=rt(),zp=Et(),fB={message:({params:{len:t}})=>(0,ls.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,ls._)`{limit: ${t}}`},lB={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:fB,code(t){let{parentSchema:e,it:r}=t,{items:n}=e;if(!Array.isArray(n)){(0,zp.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}QE(t,n)}};function QE(t,e){let{gen:r,schema:n,data:i,keyword:s,it:o}=t;o.items=!0;let a=r.const("len",(0,ls._)`${i}.length`);if(n===!1)t.setParams({len:e.length}),t.pass((0,ls._)`${a} <= ${e.length}`);else if(typeof n=="object"&&!(0,zp.alwaysValidSchema)(o,n)){let c=r.var("valid",(0,ls._)`${a} <= ${e.length}`);r.if((0,ls.not)(c),()=>u(c)),t.ok(c)}function u(c){r.forRange("i",e.length,a,l=>{t.subschema({keyword:s,dataProp:l,dataPropType:zp.Type.Num},c),o.allErrors||r.if((0,ls.not)(c),()=>r.break())})}}Uu.validateAdditionalItems=QE;Uu.default=lB});var Gp=de(ku=>{"use strict";x();Object.defineProperty(ku,"__esModule",{value:!0});ku.validateTuple=void 0;var e1=rt(),oc=Et(),cB=Nn(),dB={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){let{schema:e,it:r}=t;if(Array.isArray(e))return t1(t,"additionalItems",e);r.items=!0,!(0,oc.alwaysValidSchema)(r,e)&&t.ok((0,cB.validateArray)(t))}};function t1(t,e,r=t.schema){let{gen:n,parentSchema:i,data:s,keyword:o,it:a}=t;l(i),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=oc.mergeEvaluated.items(n,r.length,a.items));let u=n.name("valid"),c=n.const("len",(0,e1._)`${s}.length`);r.forEach((p,h)=>{(0,oc.alwaysValidSchema)(a,p)||(n.if((0,e1._)`${c} > ${h}`,()=>t.subschema({keyword:o,schemaProp:h,dataProp:h},u)),t.ok(u))});function l(p){let{opts:h,errSchemaPath:y}=a,b=r.length,w=b===p.minItems&&(b===p.maxItems||p[e]===!1);if(h.strictTuples&&!w){let m=`"${o}" is ${b}-tuple, but minItems or maxItems/${e} are not specified or different at path "${y}"`;(0,oc.checkStrictMode)(a,m,h.strictTuples)}}}ku.validateTuple=t1;ku.default=dB});var r1=de(Yp=>{"use strict";x();Object.defineProperty(Yp,"__esModule",{value:!0});var hB=Gp(),pB={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,hB.validateTuple)(t,"items")};Yp.default=pB});var i1=de(Kp=>{"use strict";x();Object.defineProperty(Kp,"__esModule",{value:!0});var n1=rt(),yB=Et(),mB=Nn(),gB=Vp(),bB={message:({params:{len:t}})=>(0,n1.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,n1._)`{limit: ${t}}`},_B={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:bB,code(t){let{schema:e,parentSchema:r,it:n}=t,{prefixItems:i}=r;n.items=!0,!(0,yB.alwaysValidSchema)(n,e)&&(i?(0,gB.validateAdditionalItems)(t,i):t.ok((0,mB.validateArray)(t)))}};Kp.default=_B});var o1=de(Jp=>{"use strict";x();Object.defineProperty(Jp,"__esModule",{value:!0});var Mn=rt(),sc=Et(),wB={message:({params:{min:t,max:e}})=>e===void 0?(0,Mn.str)`must contain at least ${t} valid item(s)`:(0,Mn.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,Mn._)`{minContains: ${t}}`:(0,Mn._)`{minContains: ${t}, maxContains: ${e}}`},vB={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:wB,code(t){let{gen:e,schema:r,parentSchema:n,data:i,it:s}=t,o,a,{minContains:u,maxContains:c}=n;s.opts.next?(o=u===void 0?1:u,a=c):o=1;let l=e.const("len",(0,Mn._)`${i}.length`);if(t.setParams({min:o,max:a}),a===void 0&&o===0){(0,sc.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,sc.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,sc.alwaysValidSchema)(s,r)){let w=(0,Mn._)`${l} >= ${o}`;a!==void 0&&(w=(0,Mn._)`${w} && ${l} <= ${a}`),t.pass(w);return}s.items=!0;let p=e.name("valid");a===void 0&&o===1?y(p,()=>e.if(p,()=>e.break())):o===0?(e.let(p,!0),a!==void 0&&e.if((0,Mn._)`${i}.length > 0`,h)):(e.let(p,!1),h()),t.result(p,()=>t.reset());function h(){let w=e.name("_valid"),m=e.let("count",0);y(w,()=>e.if(w,()=>b(m)))}function y(w,m){e.forRange("i",0,l,E=>{t.subschema({keyword:"contains",dataProp:E,dataPropType:sc.Type.Num,compositeRule:!0},w),m()})}function b(w){e.code((0,Mn._)`${w}++`),a===void 0?e.if((0,Mn._)`${w} >= ${o}`,()=>e.assign(p,!0).break()):(e.if((0,Mn._)`${w} > ${a}`,()=>e.assign(p,!1).break()),o===1?e.assign(p,!0):e.if((0,Mn._)`${w} >= ${o}`,()=>e.assign(p,!0)))}}};Jp.default=vB});var u1=de(fi=>{"use strict";x();Object.defineProperty(fi,"__esModule",{value:!0});fi.validateSchemaDeps=fi.validatePropertyDeps=fi.error=void 0;var Xp=rt(),EB=Et(),Du=Nn();fi.error={message:({params:{property:t,depsCount:e,deps:r}})=>{let n=e===1?"property":"properties";return(0,Xp.str)`must have ${n} ${r} when property ${t} is present`},params:({params:{property:t,depsCount:e,deps:r,missingProperty:n}})=>(0,Xp._)`{property: ${t},
    missingProperty: ${n},
    depsCount: ${e},
    deps: ${r}}`};var SB={keyword:"dependencies",type:"object",schemaType:"object",error:fi.error,code(t){let[e,r]=TB(t);s1(t,e),a1(t,r)}};function TB({schema:t}){let e={},r={};for(let n in t){if(n==="__proto__")continue;let i=Array.isArray(t[n])?e:r;i[n]=t[n]}return[e,r]}function s1(t,e=t.schema){let{gen:r,data:n,it:i}=t;if(Object.keys(e).length===0)return;let s=r.let("missing");for(let o in e){let a=e[o];if(a.length===0)continue;let u=(0,Du.propertyInData)(r,n,o,i.opts.ownProperties);t.setParams({property:o,depsCount:a.length,deps:a.join(", ")}),i.allErrors?r.if(u,()=>{for(let c of a)(0,Du.checkReportMissingProp)(t,c)}):(r.if((0,Xp._)`${u} && (${(0,Du.checkMissingProp)(t,a,s)})`),(0,Du.reportMissingProp)(t,s),r.else())}}fi.validatePropertyDeps=s1;function a1(t,e=t.schema){let{gen:r,data:n,keyword:i,it:s}=t,o=r.name("valid");for(let a in e)(0,EB.alwaysValidSchema)(s,e[a])||(r.if((0,Du.propertyInData)(r,n,a,s.opts.ownProperties),()=>{let u=t.subschema({keyword:i,schemaProp:a},o);t.mergeValidEvaluated(u,o)},()=>r.var(o,!0)),t.ok(o))}fi.validateSchemaDeps=a1;fi.default=SB});var l1=de(Zp=>{"use strict";x();Object.defineProperty(Zp,"__esModule",{value:!0});var f1=rt(),AB=Et(),$B={message:"property name must be valid",params:({params:t})=>(0,f1._)`{propertyName: ${t.propertyName}}`},RB={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:$B,code(t){let{gen:e,schema:r,data:n,it:i}=t;if((0,AB.alwaysValidSchema)(i,r))return;let s=e.name("valid");e.forIn("key",n,o=>{t.setParams({propertyName:o}),t.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),e.if((0,f1.not)(s),()=>{t.error(!0),i.allErrors||e.break()})}),t.ok(s)}};Zp.default=RB});var ey=de(Qp=>{"use strict";x();Object.defineProperty(Qp,"__esModule",{value:!0});var ac=Nn(),Gn=rt(),OB=xi(),uc=Et(),PB={message:"must NOT have additional properties",params:({params:t})=>(0,Gn._)`{additionalProperty: ${t.additionalProperty}}`},IB={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:PB,code(t){let{gen:e,schema:r,parentSchema:n,data:i,errsCount:s,it:o}=t;if(!s)throw new Error("ajv implementation error");let{allErrors:a,opts:u}=o;if(o.props=!0,u.removeAdditional!=="all"&&(0,uc.alwaysValidSchema)(o,r))return;let c=(0,ac.allSchemaProperties)(n.properties),l=(0,ac.allSchemaProperties)(n.patternProperties);p(),t.ok((0,Gn._)`${s} === ${OB.default.errors}`);function p(){e.forIn("key",i,m=>{!c.length&&!l.length?b(m):e.if(h(m),()=>b(m))})}function h(m){let E;if(c.length>8){let T=(0,uc.schemaRefOrVal)(o,n.properties,"properties");E=(0,ac.isOwnProperty)(e,T,m)}else c.length?E=(0,Gn.or)(...c.map(T=>(0,Gn._)`${m} === ${T}`)):E=Gn.nil;return l.length&&(E=(0,Gn.or)(E,...l.map(T=>(0,Gn._)`${(0,ac.usePattern)(t,T)}.test(${m})`))),(0,Gn.not)(E)}function y(m){e.code((0,Gn._)`delete ${i}[${m}]`)}function b(m){if(u.removeAdditional==="all"||u.removeAdditional&&r===!1){y(m);return}if(r===!1){t.setParams({additionalProperty:m}),t.error(),a||e.break();return}if(typeof r=="object"&&!(0,uc.alwaysValidSchema)(o,r)){let E=e.name("valid");u.removeAdditional==="failing"?(w(m,E,!1),e.if((0,Gn.not)(E),()=>{t.reset(),y(m)})):(w(m,E),a||e.if((0,Gn.not)(E),()=>e.break()))}}function w(m,E,T){let S={keyword:"additionalProperties",dataProp:m,dataPropType:uc.Type.Str};T===!1&&Object.assign(S,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(S,E)}}};Qp.default=IB});var h1=de(ry=>{"use strict";x();Object.defineProperty(ry,"__esModule",{value:!0});var CB=$u(),c1=Nn(),ty=Et(),d1=ey(),NB={keyword:"properties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,parentSchema:n,data:i,it:s}=t;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&d1.default.code(new CB.KeywordCxt(s,d1.default,"additionalProperties"));let o=(0,c1.allSchemaProperties)(r);for(let p of o)s.definedProperties.add(p);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=ty.mergeEvaluated.props(e,(0,ty.toHash)(o),s.props));let a=o.filter(p=>!(0,ty.alwaysValidSchema)(s,r[p]));if(a.length===0)return;let u=e.name("valid");for(let p of a)c(p)?l(p):(e.if((0,c1.propertyInData)(e,i,p,s.opts.ownProperties)),l(p),s.allErrors||e.else().var(u,!0),e.endIf()),t.it.definedProperties.add(p),t.ok(u);function c(p){return s.opts.useDefaults&&!s.compositeRule&&r[p].default!==void 0}function l(p){t.subschema({keyword:"properties",schemaProp:p,dataProp:p},u)}}};ry.default=NB});var g1=de(ny=>{"use strict";x();Object.defineProperty(ny,"__esModule",{value:!0});var p1=Nn(),fc=rt(),y1=Et(),m1=Et(),xB={keyword:"patternProperties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,data:n,parentSchema:i,it:s}=t,{opts:o}=s,a=(0,p1.allSchemaProperties)(r),u=a.filter(w=>(0,y1.alwaysValidSchema)(s,r[w]));if(a.length===0||u.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;let c=o.strictSchema&&!o.allowMatchingProperties&&i.properties,l=e.name("valid");s.props!==!0&&!(s.props instanceof fc.Name)&&(s.props=(0,m1.evaluatedPropsToName)(e,s.props));let{props:p}=s;h();function h(){for(let w of a)c&&y(w),s.allErrors?b(w):(e.var(l,!0),b(w),e.if(l))}function y(w){for(let m in c)new RegExp(w).test(m)&&(0,y1.checkStrictMode)(s,`property ${m} matches pattern ${w} (use allowMatchingProperties)`)}function b(w){e.forIn("key",n,m=>{e.if((0,fc._)`${(0,p1.usePattern)(t,w)}.test(${m})`,()=>{let E=u.includes(w);E||t.subschema({keyword:"patternProperties",schemaProp:w,dataProp:m,dataPropType:m1.Type.Str},l),s.opts.unevaluated&&p!==!0?e.assign((0,fc._)`${p}[${m}]`,!0):!E&&!s.allErrors&&e.if((0,fc.not)(l),()=>e.break())})})}}};ny.default=xB});var b1=de(iy=>{"use strict";x();Object.defineProperty(iy,"__esModule",{value:!0});var MB=Et(),LB={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){let{gen:e,schema:r,it:n}=t;if((0,MB.alwaysValidSchema)(n,r)){t.fail();return}let i=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),t.failResult(i,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};iy.default=LB});var _1=de(oy=>{"use strict";x();Object.defineProperty(oy,"__esModule",{value:!0});var BB=Nn(),jB={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:BB.validateUnion,error:{message:"must match a schema in anyOf"}};oy.default=jB});var w1=de(sy=>{"use strict";x();Object.defineProperty(sy,"__esModule",{value:!0});var lc=rt(),UB=Et(),kB={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,lc._)`{passingSchemas: ${t.passing}}`},DB={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:kB,code(t){let{gen:e,schema:r,parentSchema:n,it:i}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;let s=r,o=e.let("valid",!1),a=e.let("passing",null),u=e.name("_valid");t.setParams({passing:a}),e.block(c),t.result(o,()=>t.reset(),()=>t.error(!0));function c(){s.forEach((l,p)=>{let h;(0,UB.alwaysValidSchema)(i,l)?e.var(u,!0):h=t.subschema({keyword:"oneOf",schemaProp:p,compositeRule:!0},u),p>0&&e.if((0,lc._)`${u} && ${o}`).assign(o,!1).assign(a,(0,lc._)`[${a}, ${p}]`).else(),e.if(u,()=>{e.assign(o,!0),e.assign(a,p),h&&t.mergeEvaluated(h,lc.Name)})})}}};sy.default=DB});var v1=de(ay=>{"use strict";x();Object.defineProperty(ay,"__esModule",{value:!0});var FB=Et(),qB={keyword:"allOf",schemaType:"array",code(t){let{gen:e,schema:r,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");let i=e.name("valid");r.forEach((s,o)=>{if((0,FB.alwaysValidSchema)(n,s))return;let a=t.subschema({keyword:"allOf",schemaProp:o},i);t.ok(i),t.mergeEvaluated(a)})}};ay.default=qB});var T1=de(uy=>{"use strict";x();Object.defineProperty(uy,"__esModule",{value:!0});var cc=rt(),S1=Et(),WB={message:({params:t})=>(0,cc.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,cc._)`{failingKeyword: ${t.ifClause}}`},HB={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:WB,code(t){let{gen:e,parentSchema:r,it:n}=t;r.then===void 0&&r.else===void 0&&(0,S1.checkStrictMode)(n,'"if" without "then" and "else" is ignored');let i=E1(n,"then"),s=E1(n,"else");if(!i&&!s)return;let o=e.let("valid",!0),a=e.name("_valid");if(u(),t.reset(),i&&s){let l=e.let("ifClause");t.setParams({ifClause:l}),e.if(a,c("then",l),c("else",l))}else i?e.if(a,c("then")):e.if((0,cc.not)(a),c("else"));t.pass(o,()=>t.error(!0));function u(){let l=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);t.mergeEvaluated(l)}function c(l,p){return()=>{let h=t.subschema({keyword:l},a);e.assign(o,a),t.mergeValidEvaluated(h,o),p?e.assign(p,(0,cc._)`${l}`):t.setParams({ifClause:l})}}}};function E1(t,e){let r=t.schema[e];return r!==void 0&&!(0,S1.alwaysValidSchema)(t,r)}uy.default=HB});var A1=de(fy=>{"use strict";x();Object.defineProperty(fy,"__esModule",{value:!0});var zB=Et(),VB={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,zB.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};fy.default=VB});var $1=de(ly=>{"use strict";x();Object.defineProperty(ly,"__esModule",{value:!0});var GB=Vp(),YB=r1(),KB=Gp(),JB=i1(),XB=o1(),ZB=u1(),QB=l1(),ej=ey(),tj=h1(),rj=g1(),nj=b1(),ij=_1(),oj=w1(),sj=v1(),aj=T1(),uj=A1();function fj(t=!1){let e=[nj.default,ij.default,oj.default,sj.default,aj.default,uj.default,QB.default,ej.default,ZB.default,tj.default,rj.default];return t?e.push(YB.default,JB.default):e.push(GB.default,KB.default),e.push(XB.default),e}ly.default=fj});var R1=de(cy=>{"use strict";x();Object.defineProperty(cy,"__esModule",{value:!0});var nr=rt(),lj={message:({schemaCode:t})=>(0,nr.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,nr._)`{format: ${t}}`},cj={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:lj,code(t,e){let{gen:r,data:n,$data:i,schema:s,schemaCode:o,it:a}=t,{opts:u,errSchemaPath:c,schemaEnv:l,self:p}=a;if(!u.validateFormats)return;i?h():y();function h(){let b=r.scopeValue("formats",{ref:p.formats,code:u.code.formats}),w=r.const("fDef",(0,nr._)`${b}[${o}]`),m=r.let("fType"),E=r.let("format");r.if((0,nr._)`typeof ${w} == "object" && !(${w} instanceof RegExp)`,()=>r.assign(m,(0,nr._)`${w}.type || "string"`).assign(E,(0,nr._)`${w}.validate`),()=>r.assign(m,(0,nr._)`"string"`).assign(E,w)),t.fail$data((0,nr.or)(T(),S()));function T(){return u.strictSchema===!1?nr.nil:(0,nr._)`${o} && !${E}`}function S(){let P=l.$async?(0,nr._)`(${w}.async ? await ${E}(${n}) : ${E}(${n}))`:(0,nr._)`${E}(${n})`,A=(0,nr._)`(typeof ${E} == "function" ? ${P} : ${E}.test(${n}))`;return(0,nr._)`${E} && ${E} !== true && ${m} === ${e} && !${A}`}}function y(){let b=p.formats[s];if(!b){T();return}if(b===!0)return;let[w,m,E]=S(b);w===e&&t.pass(P());function T(){if(u.strictSchema===!1){p.logger.warn(A());return}throw new Error(A());function A(){return`unknown format "${s}" ignored in schema at path "${c}"`}}function S(A){let N=A instanceof RegExp?(0,nr.regexpCode)(A):u.code.formats?(0,nr._)`${u.code.formats}${(0,nr.getProperty)(s)}`:void 0,C=r.scopeValue("formats",{key:s,ref:A,code:N});return typeof A=="object"&&!(A instanceof RegExp)?[A.type||"string",A.validate,(0,nr._)`${C}.validate`]:["string",A,C]}function P(){if(typeof b=="object"&&!(b instanceof RegExp)&&b.async){if(!l.$async)throw new Error("async format in sync schema");return(0,nr._)`await ${E}(${n})`}return typeof m=="function"?(0,nr._)`${E}(${n})`:(0,nr._)`${E}.test(${n})`}}}};cy.default=cj});var O1=de(dy=>{"use strict";x();Object.defineProperty(dy,"__esModule",{value:!0});var dj=R1(),hj=[dj.default];dy.default=hj});var P1=de(aa=>{"use strict";x();Object.defineProperty(aa,"__esModule",{value:!0});aa.contentVocabulary=aa.metadataVocabulary=void 0;aa.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];aa.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var C1=de(hy=>{"use strict";x();Object.defineProperty(hy,"__esModule",{value:!0});var pj=UE(),yj=ZE(),mj=$1(),gj=O1(),I1=P1(),bj=[pj.default,yj.default,(0,mj.default)(),gj.default,I1.metadataVocabulary,I1.contentVocabulary];hy.default=bj});var x1=de(dc=>{"use strict";x();Object.defineProperty(dc,"__esModule",{value:!0});dc.DiscrError=void 0;var N1;(function(t){t.Tag="tag",t.Mapping="mapping"})(N1||(dc.DiscrError=N1={}))});var L1=de(yy=>{"use strict";x();Object.defineProperty(yy,"__esModule",{value:!0});var ua=rt(),py=x1(),M1=Yl(),_j=Ru(),wj=Et(),vj={message:({params:{discrError:t,tagName:e}})=>t===py.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,ua._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},Ej={keyword:"discriminator",type:"object",schemaType:"object",error:vj,code(t){let{gen:e,data:r,schema:n,parentSchema:i,it:s}=t,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");let a=n.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");let u=e.let("valid",!1),c=e.const("tag",(0,ua._)`${r}${(0,ua.getProperty)(a)}`);e.if((0,ua._)`typeof ${c} == "string"`,()=>l(),()=>t.error(!1,{discrError:py.DiscrError.Tag,tag:c,tagName:a})),t.ok(u);function l(){let y=h();e.if(!1);for(let b in y)e.elseIf((0,ua._)`${c} === ${b}`),e.assign(u,p(y[b]));e.else(),t.error(!1,{discrError:py.DiscrError.Mapping,tag:c,tagName:a}),e.endIf()}function p(y){let b=e.name("valid"),w=t.subschema({keyword:"oneOf",schemaProp:y},b);return t.mergeEvaluated(w,ua.Name),b}function h(){var y;let b={},w=E(i),m=!0;for(let P=0;P<o.length;P++){let A=o[P];if(A?.$ref&&!(0,wj.schemaHasRulesButRef)(A,s.self.RULES)){let C=A.$ref;if(A=M1.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,C),A instanceof M1.SchemaEnv&&(A=A.schema),A===void 0)throw new _j.default(s.opts.uriResolver,s.baseId,C)}let N=(y=A?.properties)===null||y===void 0?void 0:y[a];if(typeof N!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);m=m&&(w||E(A)),T(N,P)}if(!m)throw new Error(`discriminator: "${a}" must be required`);return b;function E({required:P}){return Array.isArray(P)&&P.includes(a)}function T(P,A){if(P.const)S(P.const,A);else if(P.enum)for(let N of P.enum)S(N,A);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function S(P,A){if(typeof P!="string"||P in b)throw new Error(`discriminator: "${a}" values must be unique strings`);b[P]=A}}}};yy.default=Ej});var B1=de((R7,Sj)=>{Sj.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var ca=de((Dt,my)=>{"use strict";x();Object.defineProperty(Dt,"__esModule",{value:!0});Dt.MissingRefError=Dt.ValidationError=Dt.CodeGen=Dt.Name=Dt.nil=Dt.stringify=Dt.str=Dt._=Dt.KeywordCxt=Dt.Ajv=void 0;var Tj=NE(),Aj=C1(),$j=L1(),j1=B1(),Rj=["/properties"],hc="http://json-schema.org/draft-07/schema",fa=class extends Tj.default{_addVocabularies(){super._addVocabularies(),Aj.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword($j.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(j1,Rj):j1;this.addMetaSchema(e,hc,!1),this.refs["http://json-schema.org/schema"]=hc}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(hc)?hc:void 0)}};Dt.Ajv=fa;my.exports=Dt=fa;my.exports.Ajv=fa;Object.defineProperty(Dt,"__esModule",{value:!0});Dt.default=fa;var Oj=$u();Object.defineProperty(Dt,"KeywordCxt",{enumerable:!0,get:function(){return Oj.KeywordCxt}});var la=rt();Object.defineProperty(Dt,"_",{enumerable:!0,get:function(){return la._}});Object.defineProperty(Dt,"str",{enumerable:!0,get:function(){return la.str}});Object.defineProperty(Dt,"stringify",{enumerable:!0,get:function(){return la.stringify}});Object.defineProperty(Dt,"nil",{enumerable:!0,get:function(){return la.nil}});Object.defineProperty(Dt,"Name",{enumerable:!0,get:function(){return la.Name}});Object.defineProperty(Dt,"CodeGen",{enumerable:!0,get:function(){return la.CodeGen}});var Pj=Vl();Object.defineProperty(Dt,"ValidationError",{enumerable:!0,get:function(){return Pj.default}});var Ij=Ru();Object.defineProperty(Dt,"MissingRefError",{enumerable:!0,get:function(){return Ij.default}})});var z1=de(ci=>{"use strict";x();Object.defineProperty(ci,"__esModule",{value:!0});ci.formatNames=ci.fastFormats=ci.fullFormats=void 0;function li(t,e){return{validate:t,compare:e}}ci.fullFormats={date:li(F1,wy),time:li(by(!0),vy),"date-time":li(U1(!0),W1),"iso-time":li(by(),q1),"iso-date-time":li(U1(),H1),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:Bj,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:Wj,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:jj,int32:{type:"number",validate:Dj},int64:{type:"number",validate:Fj},float:{type:"number",validate:D1},double:{type:"number",validate:D1},password:!0,binary:!0};ci.fastFormats={...ci.fullFormats,date:li(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,wy),time:li(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,vy),"date-time":li(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,W1),"iso-time":li(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,q1),"iso-date-time":li(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,H1),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i};ci.formatNames=Object.keys(ci.fullFormats);function Cj(t){return t%4===0&&(t%100!==0||t%400===0)}var Nj=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,xj=[0,31,28,31,30,31,30,31,31,30,31,30,31];function F1(t){let e=Nj.exec(t);if(!e)return!1;let r=+e[1],n=+e[2],i=+e[3];return n>=1&&n<=12&&i>=1&&i<=(n===2&&Cj(r)?29:xj[n])}function wy(t,e){if(t&&e)return t>e?1:t<e?-1:0}var gy=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function by(t){return function(r){let n=gy.exec(r);if(!n)return!1;let i=+n[1],s=+n[2],o=+n[3],a=n[4],u=n[5]==="-"?-1:1,c=+(n[6]||0),l=+(n[7]||0);if(c>23||l>59||t&&!a)return!1;if(i<=23&&s<=59&&o<60)return!0;let p=s-l*u,h=i-c*u-(p<0?1:0);return(h===23||h===-1)&&(p===59||p===-1)&&o<61}}function vy(t,e){if(!(t&&e))return;let r=new Date("2020-01-01T"+t).valueOf(),n=new Date("2020-01-01T"+e).valueOf();if(r&&n)return r-n}function q1(t,e){if(!(t&&e))return;let r=gy.exec(t),n=gy.exec(e);if(r&&n)return t=r[1]+r[2]+r[3],e=n[1]+n[2]+n[3],t>e?1:t<e?-1:0}var _y=/t|\s/i;function U1(t){let e=by(t);return function(n){let i=n.split(_y);return i.length===2&&F1(i[0])&&e(i[1])}}function W1(t,e){if(!(t&&e))return;let r=new Date(t).valueOf(),n=new Date(e).valueOf();if(r&&n)return r-n}function H1(t,e){if(!(t&&e))return;let[r,n]=t.split(_y),[i,s]=e.split(_y),o=wy(r,i);if(o!==void 0)return o||vy(n,s)}var Mj=/\/|:/,Lj=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function Bj(t){return Mj.test(t)&&Lj.test(t)}var k1=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function jj(t){return k1.lastIndex=0,k1.test(t)}var Uj=-(2**31),kj=2**31-1;function Dj(t){return Number.isInteger(t)&&t<=kj&&t>=Uj}function Fj(t){return Number.isInteger(t)}function D1(){return!0}var qj=/[^\\]\\Z/;function Wj(t){if(qj.test(t))return!1;try{return new RegExp(t),!0}catch{return!1}}});var V1=de(da=>{"use strict";x();Object.defineProperty(da,"__esModule",{value:!0});da.formatLimitDefinition=void 0;var Hj=ca(),Yn=rt(),$o=Yn.operators,pc={formatMaximum:{okStr:"<=",ok:$o.LTE,fail:$o.GT},formatMinimum:{okStr:">=",ok:$o.GTE,fail:$o.LT},formatExclusiveMaximum:{okStr:"<",ok:$o.LT,fail:$o.GTE},formatExclusiveMinimum:{okStr:">",ok:$o.GT,fail:$o.LTE}},zj={message:({keyword:t,schemaCode:e})=>(0,Yn.str)`should be ${pc[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,Yn._)`{comparison: ${pc[t].okStr}, limit: ${e}}`};da.formatLimitDefinition={keyword:Object.keys(pc),type:"string",schemaType:"string",$data:!0,error:zj,code(t){let{gen:e,data:r,schemaCode:n,keyword:i,it:s}=t,{opts:o,self:a}=s;if(!o.validateFormats)return;let u=new Hj.KeywordCxt(s,a.RULES.all.format.definition,"format");u.$data?c():l();function c(){let h=e.scopeValue("formats",{ref:a.formats,code:o.code.formats}),y=e.const("fmt",(0,Yn._)`${h}[${u.schemaCode}]`);t.fail$data((0,Yn.or)((0,Yn._)`typeof ${y} != "object"`,(0,Yn._)`${y} instanceof RegExp`,(0,Yn._)`typeof ${y}.compare != "function"`,p(y)))}function l(){let h=u.schema,y=a.formats[h];if(!y||y===!0)return;if(typeof y!="object"||y instanceof RegExp||typeof y.compare!="function")throw new Error(`"${i}": format "${h}" does not define "compare" function`);let b=e.scopeValue("formats",{key:h,ref:y,code:o.code.formats?(0,Yn._)`${o.code.formats}${(0,Yn.getProperty)(h)}`:void 0});t.fail$data(p(b))}function p(h){return(0,Yn._)`${h}.compare(${r}, ${n}) ${pc[i].fail} 0`}},dependencies:["format"]};var Vj=t=>(t.addKeyword(da.formatLimitDefinition),t);da.default=Vj});var J1=de((Fu,K1)=>{"use strict";x();Object.defineProperty(Fu,"__esModule",{value:!0});var ha=z1(),Gj=V1(),Ey=rt(),G1=new Ey.Name("fullFormats"),Yj=new Ey.Name("fastFormats"),Sy=(t,e={keywords:!0})=>{if(Array.isArray(e))return Y1(t,e,ha.fullFormats,G1),t;let[r,n]=e.mode==="fast"?[ha.fastFormats,Yj]:[ha.fullFormats,G1],i=e.formats||ha.formatNames;return Y1(t,i,r,n),e.keywords&&(0,Gj.default)(t),t};Sy.get=(t,e="full")=>{let n=(e==="fast"?ha.fastFormats:ha.fullFormats)[t];if(!n)throw new Error(`Unknown format "${t}"`);return n};function Y1(t,e,r,n){var i,s;(i=(s=t.opts.code).formats)!==null&&i!==void 0||(s.formats=(0,Ey._)`require("ajv-formats/dist/formats").${n}`);for(let o of e)t.addFormat(o,r[o])}K1.exports=Fu=Sy;Object.defineProperty(Fu,"__esModule",{value:!0});Fu.default=Sy});function di(){return X1||(X1=!0,typeof Object.create=="function"?yc=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:yc=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),yc}var yc,X1,mc=Rt(()=>{x();yc={},X1=!1});function Pt(){Pt.init.call(this)}function gc(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function aS(t){return t._maxListeners===void 0?Pt.defaultMaxListeners:t._maxListeners}function tS(t,e,r,n){var i,s,o,a;if(gc(r),(s=t._events)===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=aS(t))>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=o.length,a=u,console&&console.warn&&console.warn(a)}return t}function Kj(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function rS(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=Kj.bind(n);return i.listener=r,n.wrapFn=i,i}function nS(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?function(s){for(var o=new Array(s.length),a=0;a<o.length;++a)o[a]=s[a].listener||s[a];return o}(i):uS(i,i.length)}function iS(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}function uS(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}var oS,sS,pa,Z1,Q1,eS,Er,qu=Rt(()=>{x();pa=typeof Reflect=="object"?Reflect:null,Z1=pa&&typeof pa.apply=="function"?pa.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};sS=pa&&typeof pa.ownKeys=="function"?pa.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};Q1=Number.isNaN||function(t){return t!=t};oS=Pt,Pt.EventEmitter=Pt,Pt.prototype._events=void 0,Pt.prototype._eventsCount=0,Pt.prototype._maxListeners=void 0;eS=10;Object.defineProperty(Pt,"defaultMaxListeners",{enumerable:!0,get:function(){return eS},set:function(t){if(typeof t!="number"||t<0||Q1(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");eS=t}}),Pt.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Pt.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Q1(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},Pt.prototype.getMaxListeners=function(){return aS(this)},Pt.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n=t==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var a=i[t];if(a===void 0)return!1;if(typeof a=="function")Z1(a,this,e);else{var u=a.length,c=uS(a,u);for(r=0;r<u;++r)Z1(c[r],this,e)}return!0},Pt.prototype.addListener=function(t,e){return tS(this,t,e,!1)},Pt.prototype.on=Pt.prototype.addListener,Pt.prototype.prependListener=function(t,e){return tS(this,t,e,!0)},Pt.prototype.once=function(t,e){return gc(e),this.on(t,rS(this,t,e)),this},Pt.prototype.prependOnceListener=function(t,e){return gc(e),this.prependListener(t,rS(this,t,e)),this},Pt.prototype.removeListener=function(t,e){var r,n,i,s,o;if(gc(e),(n=this._events)===void 0)return this;if((r=n[t])===void 0)return this;if(r===e||r.listener===e)--this._eventsCount==0?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if(typeof r!="function"){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===e||r[s].listener===e){o=r[s].listener,i=s;break}if(i<0)return this;i===0?r.shift():function(a,u){for(;u+1<a.length;u++)a[u]=a[u+1];a.pop()}(r,i),r.length===1&&(n[t]=r[0]),n.removeListener!==void 0&&this.emit("removeListener",t,o||e)}return this},Pt.prototype.off=Pt.prototype.removeListener,Pt.prototype.removeAllListeners=function(t){var e,r,n;if((r=this._events)===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var i,s=Object.keys(r);for(n=0;n<s.length;++n)(i=s[n])!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(e=r[t])=="function")this.removeListener(t,e);else if(e!==void 0)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},Pt.prototype.listeners=function(t){return nS(this,t,!0)},Pt.prototype.rawListeners=function(t){return nS(this,t,!1)},Pt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):iS.call(t,e)},Pt.prototype.listenerCount=iS,Pt.prototype.eventNames=function(){return this._eventsCount>0?sS(this._events):[]};Er=oS;Er.EventEmitter;Er.defaultMaxListeners;Er.init;Er.listenerCount;Er.EventEmitter;Er.defaultMaxListeners;Er.init;Er.listenerCount});var fS=Rt(()=>{x();qu();Er.once=function(t,e){return new Promise((r,n)=>{function i(...o){s!==void 0&&t.removeListener("error",s),r(o)}let s;e!=="error"&&(s=o=>{t.removeListener(name,i),n(o)},t.once("error",s)),t.once(e,i)})};Er.on=function(t,e){let r=[],n=[],i=null,s=!1,o={async next(){let c=r.shift();if(c)return createIterResult(c,!1);if(i){let l=Promise.reject(i);return i=null,l}return s?createIterResult(void 0,!0):new Promise((l,p)=>n.push({resolve:l,reject:p}))},async return(){t.removeListener(e,a),t.removeListener("error",u),s=!0;for(let c of n)c.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(c){i=c,t.removeListener(e,a),t.removeListener("error",u)},[Symbol.asyncIterator](){return this}};return t.on(e,a),t.on("error",u),o;function a(...c){let l=n.shift();l?l.resolve(createIterResult(c,!1)):r.push(c)}function u(c){s=!0;let l=n.shift();l?l.reject(c):i=c,o.return()}}});function Oy(){throw new Error("setTimeout has not been defined")}function Py(){throw new Error("clearTimeout has not been defined")}function SS(t){if(ji===setTimeout)return setTimeout(t,0);if((ji===Oy||!ji)&&setTimeout)return ji=setTimeout,setTimeout(t,0);try{return ji(t,0)}catch{try{return ji.call(null,t,0)}catch{return ji.call(this||ma,t,0)}}}function Jj(){ya&&ds&&(ya=!1,ds.length?ki=ds.concat(ki):Sc=-1,ki.length&&TS())}function TS(){if(!ya){var t=SS(Jj);ya=!0;for(var e=ki.length;e;){for(ds=ki,ki=[];++Sc<e;)ds&&ds[Sc].run();Sc=-1,e=ki.length}ds=null,ya=!1,function(r){if(Ui===clearTimeout)return clearTimeout(r);if((Ui===Py||!Ui)&&clearTimeout)return Ui=clearTimeout,clearTimeout(r);try{Ui(r)}catch{try{return Ui.call(null,r)}catch{return Ui.call(this||ma,r)}}}(t)}}function lS(t,e){(this||ma).fun=t,(this||ma).array=e}function Bi(){}function ps(t){return t.call.bind(t)}function Vu(t,e){if(typeof t!="object")return!1;try{return e(t),!0}catch{return!1}}function dS(t){return un&&vn?Ln(t)!==void 0:IS(t)||CS(t)||NS(t)||xS(t)||MS(t)||LS(t)||BS(t)||jS(t)||US(t)||kS(t)||DS(t)}function IS(t){return un&&vn?Ln(t)==="Uint8Array":Yt(t)==="[object Uint8Array]"||sU(t)&&t.buffer!==void 0}function CS(t){return un&&vn?Ln(t)==="Uint8ClampedArray":Yt(t)==="[object Uint8ClampedArray]"}function NS(t){return un&&vn?Ln(t)==="Uint16Array":Yt(t)==="[object Uint16Array]"}function xS(t){return un&&vn?Ln(t)==="Uint32Array":Yt(t)==="[object Uint32Array]"}function MS(t){return un&&vn?Ln(t)==="Int8Array":Yt(t)==="[object Int8Array]"}function LS(t){return un&&vn?Ln(t)==="Int16Array":Yt(t)==="[object Int16Array]"}function BS(t){return un&&vn?Ln(t)==="Int32Array":Yt(t)==="[object Int32Array]"}function jS(t){return un&&vn?Ln(t)==="Float32Array":Yt(t)==="[object Float32Array]"}function US(t){return un&&vn?Ln(t)==="Float64Array":Yt(t)==="[object Float64Array]"}function kS(t){return un&&vn?Ln(t)==="BigInt64Array":Yt(t)==="[object BigInt64Array]"}function DS(t){return un&&vn?Ln(t)==="BigUint64Array":Yt(t)==="[object BigUint64Array]"}function bc(t){return Yt(t)==="[object Map]"}function _c(t){return Yt(t)==="[object Set]"}function wc(t){return Yt(t)==="[object WeakMap]"}function Ty(t){return Yt(t)==="[object WeakSet]"}function Ac(t){return Yt(t)==="[object ArrayBuffer]"}function hS(t){return typeof ArrayBuffer<"u"&&(Ac.working?Ac(t):t instanceof ArrayBuffer)}function $c(t){return Yt(t)==="[object DataView]"}function pS(t){return typeof DataView<"u"&&($c.working?$c(t):t instanceof DataView)}function Rc(t){return Yt(t)==="[object SharedArrayBuffer]"}function yS(t){return typeof SharedArrayBuffer<"u"&&(Rc.working?Rc(t):t instanceof SharedArrayBuffer)}function mS(t){return Vu(t,cU)}function gS(t){return Vu(t,dU)}function bS(t){return Vu(t,hU)}function _S(t){return PS&&Vu(t,pU)}function wS(t){return Cy&&Vu(t,yU)}function Ro(t,e){var r={seen:[],stylize:bU};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),Ny(e)?r.showHidden=e:e&&Oe._extend(r,e),hs(r.showHidden)&&(r.showHidden=!1),hs(r.depth)&&(r.depth=2),hs(r.colors)&&(r.colors=!1),hs(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=gU),Oc(r,t,r.depth)}function gU(t,e){var r=Ro.styles[e];return r?"\x1B["+Ro.colors[r][0]+"m"+t+"\x1B["+Ro.colors[r][1]+"m":t}function bU(t,e){return t}function Oc(t,e,r){if(t.customInspect&&e&&Tc(e.inspect)&&e.inspect!==Oe.inspect&&(!e.constructor||e.constructor.prototype!==e)){var n=e.inspect(r,t);return Pc(n)||(n=Oc(t,n,r)),n}var i=function(h,y){if(hs(y))return h.stylize("undefined","undefined");if(Pc(y)){var b="'"+JSON.stringify(y).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return h.stylize(b,"string")}if(WS(y))return h.stylize(""+y,"number");if(Ny(y))return h.stylize(""+y,"boolean");if(Nc(y))return h.stylize("null","null")}(t,e);if(i)return i;var s=Object.keys(e),o=function(h){var y={};return h.forEach(function(b,w){y[b]=!0}),y}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),zu(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return Ay(e);if(s.length===0){if(Tc(e)){var a=e.name?": "+e.name:"";return t.stylize("[Function"+a+"]","special")}if(Hu(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(Ic(e))return t.stylize(Date.prototype.toString.call(e),"date");if(zu(e))return Ay(e)}var u,c="",l=!1,p=["{","}"];return qS(e)&&(l=!0,p=["[","]"]),Tc(e)&&(c=" [Function"+(e.name?": "+e.name:"")+"]"),Hu(e)&&(c=" "+RegExp.prototype.toString.call(e)),Ic(e)&&(c=" "+Date.prototype.toUTCString.call(e)),zu(e)&&(c=" "+Ay(e)),s.length!==0||l&&e.length!=0?r<0?Hu(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),u=l?function(h,y,b,w,m){for(var E=[],T=0,S=y.length;T<S;++T)HS(y,String(T))?E.push($y(h,y,b,w,String(T),!0)):E.push("");return m.forEach(function(P){P.match(/^\d+$/)||E.push($y(h,y,b,w,P,!0))}),E}(t,e,r,o,s):s.map(function(h){return $y(t,e,r,o,h,l)}),t.seen.pop(),function(h,y,b){var w=0;return h.reduce(function(m,E){return w++,E.indexOf(`
`)>=0&&w++,m+E.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?b[0]+(y===""?"":y+`
 `)+" "+h.join(`,
  `)+" "+b[1]:b[0]+y+" "+h.join(", ")+" "+b[1]}(u,c,p)):p[0]+c+p[1]}function Ay(t){return"["+Error.prototype.toString.call(t)+"]"}function $y(t,e,r,n,i,s){var o,a,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),HS(n,i)||(o="["+i+"]"),a||(t.seen.indexOf(u.value)<0?(a=Nc(r)?Oc(t,u.value,null):Oc(t,u.value,r-1)).indexOf(`
`)>-1&&(a=s?a.split(`
`).map(function(c){return"  "+c}).join(`
`).substr(2):`
`+a.split(`
`).map(function(c){return"   "+c}).join(`
`)):a=t.stylize("[Circular]","special")),hs(o)){if(s&&i.match(/^\d+$/))return a;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+a}function qS(t){return Array.isArray(t)}function Ny(t){return typeof t=="boolean"}function Nc(t){return t===null}function WS(t){return typeof t=="number"}function Pc(t){return typeof t=="string"}function hs(t){return t===void 0}function Hu(t){return ga(t)&&xy(t)==="[object RegExp]"}function ga(t){return typeof t=="object"&&t!==null}function Ic(t){return ga(t)&&xy(t)==="[object Date]"}function zu(t){return ga(t)&&(xy(t)==="[object Error]"||t instanceof Error)}function Tc(t){return typeof t=="function"}function xy(t){return Object.prototype.toString.call(t)}function Ry(t){return t<10?"0"+t.toString(10):t.toString(10)}function wU(){var t=new Date,e=[Ry(t.getHours()),Ry(t.getMinutes()),Ry(t.getSeconds())].join(":");return[t.getDate(),_U[t.getMonth()],e].join(" ")}function HS(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function vU(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}var ES,ji,Ui,ma,ir,ds,ki,ya,Sc,Wt,Xj,Iy,Cc,AS,Zj,Qj,eU,tU,rU,$S,RS,cS,nU,iU,oU,OS,dt,sU,aU,uU,PS,Cy,vn,un,fU,Yt,cU,dU,hU,Wu,Oe,hi,vS,mU,vc,FS,Ec,_U,cs,G7,ba=Rt(()=>{x();ma=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,ir=ES={};(function(){try{ji=typeof setTimeout=="function"?setTimeout:Oy}catch{ji=Oy}try{Ui=typeof clearTimeout=="function"?clearTimeout:Py}catch{Ui=Py}})();ki=[],ya=!1,Sc=-1;ir.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];ki.push(new lS(t,e)),ki.length!==1||ya||SS(TS)},lS.prototype.run=function(){(this||ma).fun.apply(null,(this||ma).array)},ir.title="browser",ir.browser=!0,ir.env={},ir.argv=[],ir.version="",ir.versions={},ir.on=Bi,ir.addListener=Bi,ir.once=Bi,ir.off=Bi,ir.removeListener=Bi,ir.removeAllListeners=Bi,ir.emit=Bi,ir.prependListener=Bi,ir.prependOnceListener=Bi,ir.listeners=function(t){return[]},ir.binding=function(t){throw new Error("process.binding is not supported")},ir.cwd=function(){return"/"},ir.chdir=function(t){throw new Error("process.chdir is not supported")},ir.umask=function(){return 0};Wt=ES;Wt.addListener;Wt.argv;Wt.binding;Wt.browser;Wt.chdir;Wt.cwd;Wt.emit;Wt.env;Wt.listeners;Wt.nextTick;Wt.off;Wt.on;Wt.once;Wt.prependListener;Wt.prependOnceListener;Wt.removeAllListeners;Wt.removeListener;Wt.title;Wt.umask;Wt.version;Wt.versions;Xj=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Iy=Object.prototype.toString,Cc=function(t){return!(Xj&&t&&typeof t=="object"&&Symbol.toStringTag in t)&&Iy.call(t)==="[object Arguments]"},AS=function(t){return!!Cc(t)||t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&Iy.call(t)!=="[object Array]"&&Iy.call(t.callee)==="[object Function]"},Zj=function(){return Cc(arguments)}();Cc.isLegacyArguments=AS;Qj=Zj?Cc:AS,eU=Object.prototype.toString,tU=Function.prototype.toString,rU=/^\s*(?:function)?\*/,$S=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",RS=Object.getPrototypeOf,cS=function(){if(!$S)return!1;try{return Function("return function*() {}")()}catch{}}(),nU=cS?RS(cS):{},iU=function(t){return typeof t=="function"&&(!!rU.test(tU.call(t))||($S?RS(t)===nU:eU.call(t)==="[object GeneratorFunction]"))},oU=typeof Object.create=="function"?function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},OS=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"},dt={},sU=OS,aU=Qj,uU=iU;PS=typeof BigInt<"u",Cy=typeof Symbol<"u",vn=Cy&&Symbol.toStringTag!==void 0,un=typeof Uint8Array<"u",fU=typeof ArrayBuffer<"u";if(un&&vn)var lU=Object.getPrototypeOf(Uint8Array.prototype),Ln=ps(Object.getOwnPropertyDescriptor(lU,Symbol.toStringTag).get);Yt=ps(Object.prototype.toString),cU=ps(Number.prototype.valueOf),dU=ps(String.prototype.valueOf),hU=ps(Boolean.prototype.valueOf);if(PS)var pU=ps(BigInt.prototype.valueOf);if(Cy)var yU=ps(Symbol.prototype.valueOf);dt.isArgumentsObject=aU,dt.isGeneratorFunction=uU,dt.isPromise=function(t){return typeof Promise<"u"&&t instanceof Promise||t!==null&&typeof t=="object"&&typeof t.then=="function"&&typeof t.catch=="function"},dt.isArrayBufferView=function(t){return fU&&ArrayBuffer.isView?ArrayBuffer.isView(t):dS(t)||pS(t)},dt.isTypedArray=dS,dt.isUint8Array=IS,dt.isUint8ClampedArray=CS,dt.isUint16Array=NS,dt.isUint32Array=xS,dt.isInt8Array=MS,dt.isInt16Array=LS,dt.isInt32Array=BS,dt.isFloat32Array=jS,dt.isFloat64Array=US,dt.isBigInt64Array=kS,dt.isBigUint64Array=DS,bc.working=typeof Map<"u"&&bc(new Map),dt.isMap=function(t){return typeof Map<"u"&&(bc.working?bc(t):t instanceof Map)},_c.working=typeof Set<"u"&&_c(new Set),dt.isSet=function(t){return typeof Set<"u"&&(_c.working?_c(t):t instanceof Set)},wc.working=typeof WeakMap<"u"&&wc(new WeakMap),dt.isWeakMap=function(t){return typeof WeakMap<"u"&&(wc.working?wc(t):t instanceof WeakMap)},Ty.working=typeof WeakSet<"u"&&Ty(new WeakSet),dt.isWeakSet=function(t){return Ty(t)},Ac.working=typeof ArrayBuffer<"u"&&Ac(new ArrayBuffer),dt.isArrayBuffer=hS,$c.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&$c(new DataView(new ArrayBuffer(1),0,1)),dt.isDataView=pS,Rc.working=typeof SharedArrayBuffer<"u"&&Rc(new SharedArrayBuffer),dt.isSharedArrayBuffer=yS,dt.isAsyncFunction=function(t){return Yt(t)==="[object AsyncFunction]"},dt.isMapIterator=function(t){return Yt(t)==="[object Map Iterator]"},dt.isSetIterator=function(t){return Yt(t)==="[object Set Iterator]"},dt.isGeneratorObject=function(t){return Yt(t)==="[object Generator]"},dt.isWebAssemblyCompiledModule=function(t){return Yt(t)==="[object WebAssembly.Module]"},dt.isNumberObject=mS,dt.isStringObject=gS,dt.isBooleanObject=bS,dt.isBigIntObject=_S,dt.isSymbolObject=wS,dt.isBoxedPrimitive=function(t){return mS(t)||gS(t)||bS(t)||_S(t)||wS(t)},dt.isAnyArrayBuffer=function(t){return un&&(hS(t)||yS(t))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(t){Object.defineProperty(dt,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})});Wu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Oe={},hi=Wt,vS=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++)r[e[n]]=Object.getOwnPropertyDescriptor(t,e[n]);return r},mU=/%[sdj%]/g;Oe.format=function(t){if(!Pc(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(Ro(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,i=n.length,s=String(t).replace(mU,function(a){if(a==="%%")return"%";if(r>=i)return a;switch(a){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}default:return a}}),o=n[r];r<i;o=n[++r])Nc(o)||!ga(o)?s+=" "+o:s+=" "+Ro(o);return s},Oe.deprecate=function(t,e){if(hi!==void 0&&hi.noDeprecation===!0)return t;if(hi===void 0)return function(){return Oe.deprecate(t,e).apply(this||Wu,arguments)};var r=!1;return function(){if(!r){if(hi.throwDeprecation)throw new Error(e);hi.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this||Wu,arguments)}};vc={},FS=/^$/;hi.env.NODE_DEBUG&&(Ec=hi.env.NODE_DEBUG,Ec=Ec.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),FS=new RegExp("^"+Ec+"$","i"));Oe.debuglog=function(t){if(t=t.toUpperCase(),!vc[t])if(FS.test(t)){var e=hi.pid;vc[t]=function(){var r=Oe.format.apply(Oe,arguments);console.error("%s %d: %s",t,e,r)}}else vc[t]=function(){};return vc[t]},Oe.inspect=Ro,Ro.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Ro.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},Oe.types=dt,Oe.isArray=qS,Oe.isBoolean=Ny,Oe.isNull=Nc,Oe.isNullOrUndefined=function(t){return t==null},Oe.isNumber=WS,Oe.isString=Pc,Oe.isSymbol=function(t){return typeof t=="symbol"},Oe.isUndefined=hs,Oe.isRegExp=Hu,Oe.types.isRegExp=Hu,Oe.isObject=ga,Oe.isDate=Ic,Oe.types.isDate=Ic,Oe.isError=zu,Oe.types.isNativeError=zu,Oe.isFunction=Tc,Oe.isPrimitive=function(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||t===void 0},Oe.isBuffer=OS;_U=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Oe.log=function(){console.log("%s - %s",wU(),Oe.format.apply(Oe,arguments))},Oe.inherits=oU,Oe._extend=function(t,e){if(!e||!ga(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};cs=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;Oe.promisify=function(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');if(cs&&t[cs]){var e;if(typeof(e=t[cs])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,cs,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var r,n,i=new Promise(function(a,u){r=a,n=u}),s=[],o=0;o<arguments.length;o++)s.push(arguments[o]);s.push(function(a,u){a?n(a):r(u)});try{t.apply(this||Wu,s)}catch(a){n(a)}return i}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),cs&&Object.defineProperty(e,cs,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,vS(t))},Oe.promisify.custom=cs,Oe.callbackify=function(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var s=this||Wu,o=function(){return i.apply(s,arguments)};t.apply(this||Wu,r).then(function(a){hi.nextTick(o.bind(null,null,a))},function(a){hi.nextTick(vU.bind(null,a,o))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,vS(t)),e};Oe._extend;Oe.callbackify;Oe.debuglog;Oe.deprecate;Oe.format;Oe.inherits;Oe.inspect;Oe.isArray;Oe.isBoolean;Oe.isBuffer;Oe.isDate;Oe.isError;Oe.isFunction;Oe.isNull;Oe.isNullOrUndefined;Oe.isNumber;Oe.isObject;Oe.isPrimitive;Oe.isRegExp;Oe.isString;Oe.isSymbol;Oe.isUndefined;Oe.log;Oe.promisify;Oe._extend;Oe.callbackify;Oe.debuglog;Oe.deprecate;Oe.format;Oe.inherits;Oe.inspect;Oe.isArray;Oe.isBoolean;Oe.isBuffer;Oe.isDate;Oe.isError;Oe.isFunction;Oe.isNull;Oe.isNullOrUndefined;Oe.isNumber;Oe.isObject;Oe.isPrimitive;Oe.isRegExp;Oe.isString;Oe.isSymbol;Oe.isUndefined;Oe.log;G7=Oe.promisify;Oe.types});var Z7,zS=Rt(()=>{x();ba();Oe._extend;Oe.callbackify;Oe.debuglog;Oe.deprecate;Oe.format;Oe.inherits;Oe.inspect;Oe.isArray;Oe.isBoolean;Oe.isBuffer;Oe.isDate;Oe.isError;Oe.isFunction;Oe.isNull;Oe.isNullOrUndefined;Oe.isNumber;Oe.isObject;Oe.isPrimitive;Oe.isRegExp;Oe.isString;Oe.isSymbol;Oe.isUndefined;Oe.log;Z7=Oe.promisify;Oe.types;Oe.TextEncoder=globalThis.TextEncoder;Oe.TextDecoder=globalThis.TextDecoder});function jy(t){throw new Error("Node.js process "+t+" is not supported by JSPM core outside of Node.js")}function EU(){!_a||!ys||(_a=!1,ys.length?Di=ys.concat(Di):xc=-1,Di.length&&VS())}function VS(){if(!_a){var t=setTimeout(EU,0);_a=!0;for(var e=Di.length;e;){for(ys=Di,Di=[];++xc<e;)ys&&ys[xc].run();xc=-1,e=Di.length}ys=null,_a=!1,clearTimeout(t)}}function SU(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Di.push(new GS(t,e)),Di.length===1&&!_a&&setTimeout(VS,0)}function GS(t,e){this.fun=t,this.array=e}function xr(){}function DU(t){jy("_linkedBinding")}function HU(t){jy("dlopen")}function zU(){return[]}function VU(){return[]}function tk(t,e){if(!t)throw new Error(e||"assertion error")}function ok(){return!1}function Ek(){return Oo.now()/1e3}function By(t){var e=Math.floor((Date.now()-Oo.now())*.001),r=Oo.now()*.001,n=Math.floor(r)+e,i=Math.floor(r%1*1e9);return t&&(n=n-t[0],i=i-t[1],i<0&&(n--,i+=Ly)),[n,i]}function Po(){return or}function Mk(t){return[]}var Di,_a,ys,xc,TU,AU,$U,RU,OU,PU,IU,CU,NU,xU,MU,LU,BU,jU,UU,kU,FU,qU,WU,GU,YU,Uy,KU,JU,XU,ZU,QU,ek,rk,nk,ik,sk,ak,uk,fk,lk,ck,dk,hk,pk,yk,mk,gk,bk,_k,wk,vk,Oo,My,Ly,Sk,Tk,Ak,$k,Rk,Ok,Pk,Ik,Ck,Nk,xk,or,wa=Rt(()=>{x();Di=[],_a=!1,xc=-1;GS.prototype.run=function(){this.fun.apply(null,this.array)};TU="browser",AU="x64",$U="browser",RU={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},OU=["/usr/bin/node"],PU=[],IU="v16.8.0",CU={},NU=function(t,e){console.warn((e?e+": ":"")+t)},xU=function(t){jy("binding")},MU=function(t){return 0},LU=function(){return"/"},BU=function(t){},jU={name:"node",sourceUrl:"",headersUrl:"",libUrl:""};UU=xr,kU=[];FU={},qU=!1,WU={};GU=xr,YU=xr,Uy=function(){return{}},KU=Uy,JU=Uy,XU=xr,ZU=xr,QU=xr,ek={};rk={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},nk=xr,ik=xr;sk=xr,ak=xr,uk=xr,fk=xr,lk=xr,ck=void 0,dk=void 0,hk=void 0,pk=xr,yk=2,mk=1,gk="/bin/usr/node",bk=9229,_k="node",wk=[],vk=xr,Oo={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0};Oo.now===void 0&&(My=Date.now(),Oo.timing&&Oo.timing.navigationStart&&(My=Oo.timing.navigationStart),Oo.now=()=>Date.now()-My);Ly=1e9;By.bigint=function(t){var e=By(t);return typeof BigInt>"u"?e[0]*Ly+e[1]:BigInt(e[0]*Ly)+BigInt(e[1])};Sk=10,Tk={},Ak=0;$k=Po,Rk=Po,Ok=Po,Pk=Po,Ik=Po,Ck=xr,Nk=Po,xk=Po;or={version:IU,versions:CU,arch:AU,platform:$U,release:jU,_rawDebug:UU,moduleLoadList:kU,binding:xU,_linkedBinding:DU,_events:Tk,_eventsCount:Ak,_maxListeners:Sk,on:Po,addListener:$k,once:Rk,off:Ok,removeListener:Pk,removeAllListeners:Ik,emit:Ck,prependListener:Nk,prependOnceListener:xk,listeners:Mk,domain:FU,_exiting:qU,config:WU,dlopen:HU,uptime:Ek,_getActiveRequests:zU,_getActiveHandles:VU,reallyExit:GU,_kill:YU,cpuUsage:Uy,resourceUsage:KU,memoryUsage:JU,kill:XU,exit:ZU,openStdin:QU,allowedNodeEnvironmentFlags:ek,assert:tk,features:rk,_fatalExceptions:nk,setUncaughtExceptionCaptureCallback:ik,hasUncaughtExceptionCaptureCallback:ok,emitWarning:NU,nextTick:SU,_tickCallback:sk,_debugProcess:ak,_debugEnd:uk,_startProfilerIdleNotifier:fk,_stopProfilerIdleNotifier:lk,stdout:ck,stdin:hk,stderr:dk,abort:pk,umask:MU,chdir:BU,cwd:LU,env:RU,title:TU,argv:OU,execArgv:PU,pid:yk,ppid:mk,execPath:gk,debugPort:bk,hrtime:By,argv0:_k,_preload_modules:wk,setSourceMapsEnabled:vk}});function KS(){if(YS)return ky;YS=!0,ky=t;function t(r,n){if(e("noDeprecation"))return r;var i=!1;function s(){if(!i){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this||Dy,arguments)}return s}function e(r){try{if(!Dy.localStorage)return!1}catch{return!1}var n=Dy.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return ky}var ky,YS,Dy,JS=Rt(()=>{x();ky={},YS=!1,Dy=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global});function Lk(){if(XS)return Gu;XS=!0;var t=hr(),e=t.Buffer;function r(i,s){for(var o in i)s[o]=i[o]}e.from&&e.alloc&&e.allocUnsafe&&e.allocUnsafeSlow?Gu=t:(r(t,Gu),Gu.Buffer=n);function n(i,s,o){return e(i,s,o)}return n.prototype=Object.create(e.prototype),r(e,n),n.from=function(i,s,o){if(typeof i=="number")throw new TypeError("Argument must not be a number");return e(i,s,o)},n.alloc=function(i,s,o){if(typeof i!="number")throw new TypeError("Argument must be a number");var a=e(i);return s!==void 0?typeof o=="string"?a.fill(s,o):a.fill(s):a.fill(0),a},n.allocUnsafe=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return e(i)},n.allocUnsafeSlow=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(i)},Gu}function Bk(){if(ZS)return Fy;ZS=!0;var t=Lk().Buffer,e=t.isEncoding||function(E){switch(E=""+E,E&&E.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(E){if(!E)return"utf8";for(var T;;)switch(E){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return E;default:if(T)return;E=(""+E).toLowerCase(),T=!0}}function n(E){var T=r(E);if(typeof T!="string"&&(t.isEncoding===e||!e(E)))throw new Error("Unknown encoding: "+E);return T||E}Fy.StringDecoder=i;function i(E){this.encoding=n(E);var T;switch(this.encoding){case"utf16le":this.text=p,this.end=h,T=4;break;case"utf8":this.fillLast=u,T=4;break;case"base64":this.text=y,this.end=b,T=3;break;default:this.write=w,this.end=m;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(T)}i.prototype.write=function(E){if(E.length===0)return"";var T,S;if(this.lastNeed){if(T=this.fillLast(E),T===void 0)return"";S=this.lastNeed,this.lastNeed=0}else S=0;return S<E.length?T?T+this.text(E,S):this.text(E,S):T||""},i.prototype.end=l,i.prototype.text=c,i.prototype.fillLast=function(E){if(this.lastNeed<=E.length)return E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,E.length),this.lastNeed-=E.length};function s(E){return E<=127?0:E>>5===6?2:E>>4===14?3:E>>3===30?4:E>>6===2?-1:-2}function o(E,T,S){var P=T.length-1;if(P<S)return 0;var A=s(T[P]);return A>=0?(A>0&&(E.lastNeed=A-1),A):--P<S||A===-2?0:(A=s(T[P]),A>=0?(A>0&&(E.lastNeed=A-2),A):--P<S||A===-2?0:(A=s(T[P]),A>=0?(A>0&&(A===2?A=0:E.lastNeed=A-3),A):0))}function a(E,T,S){if((T[0]&192)!==128)return E.lastNeed=0,"\uFFFD";if(E.lastNeed>1&&T.length>1){if((T[1]&192)!==128)return E.lastNeed=1,"\uFFFD";if(E.lastNeed>2&&T.length>2&&(T[2]&192)!==128)return E.lastNeed=2,"\uFFFD"}}function u(E){var T=this.lastTotal-this.lastNeed,S=a(this,E);if(S!==void 0)return S;if(this.lastNeed<=E.length)return E.copy(this.lastChar,T,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,T,0,E.length),this.lastNeed-=E.length}function c(E,T){var S=o(this,E,T);if(!this.lastNeed)return E.toString("utf8",T);this.lastTotal=S;var P=E.length-(S-this.lastNeed);return E.copy(this.lastChar,0,P),E.toString("utf8",T,P)}function l(E){var T=E&&E.length?this.write(E):"";return this.lastNeed?T+"\uFFFD":T}function p(E,T){if((E.length-T)%2===0){var S=E.toString("utf16le",T);if(S){var P=S.charCodeAt(S.length-1);if(P>=55296&&P<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1],S.slice(0,-1)}return S}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=E[E.length-1],E.toString("utf16le",T,E.length-1)}function h(E){var T=E&&E.length?this.write(E):"";if(this.lastNeed){var S=this.lastTotal-this.lastNeed;return T+this.lastChar.toString("utf16le",0,S)}return T}function y(E,T){var S=(E.length-T)%3;return S===0?E.toString("base64",T):(this.lastNeed=3-S,this.lastTotal=3,S===1?this.lastChar[0]=E[E.length-1]:(this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1]),E.toString("base64",T,E.length-S))}function b(E){var T=E&&E.length?this.write(E):"";return this.lastNeed?T+this.lastChar.toString("base64",0,3-this.lastNeed):T}function w(E){return E.toString(this.encoding)}function m(E){return E&&E.length?this.write(E):""}return Fy}var Gu,XS,Fy,ZS,ms,fY,qy=Rt(()=>{x();cu();Gu={},XS=!1;Fy={},ZS=!1;ms=Bk();ms.StringDecoder;fY=ms.StringDecoder});function jk(){if(QS)return Wy;QS=!0;var t=Wy={},e,r;function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=n}catch{e=n}try{typeof clearTimeout=="function"?r=clearTimeout:r=i}catch{r=i}})();function s(w){if(e===setTimeout)return setTimeout(w,0);if((e===n||!e)&&setTimeout)return e=setTimeout,setTimeout(w,0);try{return e(w,0)}catch{try{return e.call(null,w,0)}catch{return e.call(this||va,w,0)}}}function o(w){if(r===clearTimeout)return clearTimeout(w);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(w);try{return r(w)}catch{try{return r.call(null,w)}catch{return r.call(this||va,w)}}}var a=[],u=!1,c,l=-1;function p(){!u||!c||(u=!1,c.length?a=c.concat(a):l=-1,a.length&&h())}function h(){if(!u){var w=s(p);u=!0;for(var m=a.length;m;){for(c=a,a=[];++l<m;)c&&c[l].run();l=-1,m=a.length}c=null,u=!1,o(w)}}t.nextTick=function(w){var m=new Array(arguments.length-1);if(arguments.length>1)for(var E=1;E<arguments.length;E++)m[E-1]=arguments[E];a.push(new y(w,m)),a.length===1&&!u&&s(h)};function y(w,m){(this||va).fun=w,(this||va).array=m}y.prototype.run=function(){(this||va).fun.apply(null,(this||va).array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function b(){}return t.on=b,t.addListener=b,t.once=b,t.off=b,t.removeListener=b,t.removeAllListeners=b,t.emit=b,t.prependListener=b,t.prependOnceListener=b,t.listeners=function(w){return[]},t.binding=function(w){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(w){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},Wy}var Wy,QS,va,St,Yu=Rt(()=>{x();Wy={},QS=!1,va=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;St=jk();St.platform="browser";St.addListener;St.argv;St.binding;St.browser;St.chdir;St.cwd;St.emit;St.env;St.listeners;St.nextTick;St.off;St.on;St.once;St.prependListener;St.prependOnceListener;St.removeAllListeners;St.removeListener;St.title;St.umask;St.version;St.versions});function Uk(){if(eT)return Hy;eT=!0;var t=St;function e(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}function r(s,o){for(var a="",u=0,c=-1,l=0,p,h=0;h<=s.length;++h){if(h<s.length)p=s.charCodeAt(h);else{if(p===47)break;p=47}if(p===47){if(!(c===h-1||l===1))if(c!==h-1&&l===2){if(a.length<2||u!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var y=a.lastIndexOf("/");if(y!==a.length-1){y===-1?(a="",u=0):(a=a.slice(0,y),u=a.length-1-a.lastIndexOf("/")),c=h,l=0;continue}}else if(a.length===2||a.length===1){a="",u=0,c=h,l=0;continue}}o&&(a.length>0?a+="/..":a="..",u=2)}else a.length>0?a+="/"+s.slice(c+1,h):a=s.slice(c+1,h),u=h-c-1;c=h,l=0}else p===46&&l!==-1?++l:l=-1}return a}function n(s,o){var a=o.dir||o.root,u=o.base||(o.name||"")+(o.ext||"");return a?a===o.root?a+u:a+s+u:u}var i={resolve:function(){for(var o="",a=!1,u,c=arguments.length-1;c>=-1&&!a;c--){var l;c>=0?l=arguments[c]:(u===void 0&&(u=t.cwd()),l=u),e(l),l.length!==0&&(o=l+"/"+o,a=l.charCodeAt(0)===47)}return o=r(o,!a),a?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(o){if(e(o),o.length===0)return".";var a=o.charCodeAt(0)===47,u=o.charCodeAt(o.length-1)===47;return o=r(o,!a),o.length===0&&!a&&(o="."),o.length>0&&u&&(o+="/"),a?"/"+o:o},isAbsolute:function(o){return e(o),o.length>0&&o.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var o,a=0;a<arguments.length;++a){var u=arguments[a];e(u),u.length>0&&(o===void 0?o=u:o+="/"+u)}return o===void 0?".":i.normalize(o)},relative:function(o,a){if(e(o),e(a),o===a||(o=i.resolve(o),a=i.resolve(a),o===a))return"";for(var u=1;u<o.length&&o.charCodeAt(u)===47;++u);for(var c=o.length,l=c-u,p=1;p<a.length&&a.charCodeAt(p)===47;++p);for(var h=a.length,y=h-p,b=l<y?l:y,w=-1,m=0;m<=b;++m){if(m===b){if(y>b){if(a.charCodeAt(p+m)===47)return a.slice(p+m+1);if(m===0)return a.slice(p+m)}else l>b&&(o.charCodeAt(u+m)===47?w=m:m===0&&(w=0));break}var E=o.charCodeAt(u+m),T=a.charCodeAt(p+m);if(E!==T)break;E===47&&(w=m)}var S="";for(m=u+w+1;m<=c;++m)(m===c||o.charCodeAt(m)===47)&&(S.length===0?S+="..":S+="/..");return S.length>0?S+a.slice(p+w):(p+=w,a.charCodeAt(p)===47&&++p,a.slice(p))},_makeLong:function(o){return o},dirname:function(o){if(e(o),o.length===0)return".";for(var a=o.charCodeAt(0),u=a===47,c=-1,l=!0,p=o.length-1;p>=1;--p)if(a=o.charCodeAt(p),a===47){if(!l){c=p;break}}else l=!1;return c===-1?u?"/":".":u&&c===1?"//":o.slice(0,c)},basename:function(o,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');e(o);var u=0,c=-1,l=!0,p;if(a!==void 0&&a.length>0&&a.length<=o.length){if(a.length===o.length&&a===o)return"";var h=a.length-1,y=-1;for(p=o.length-1;p>=0;--p){var b=o.charCodeAt(p);if(b===47){if(!l){u=p+1;break}}else y===-1&&(l=!1,y=p+1),h>=0&&(b===a.charCodeAt(h)?--h===-1&&(c=p):(h=-1,c=y))}return u===c?c=y:c===-1&&(c=o.length),o.slice(u,c)}else{for(p=o.length-1;p>=0;--p)if(o.charCodeAt(p)===47){if(!l){u=p+1;break}}else c===-1&&(l=!1,c=p+1);return c===-1?"":o.slice(u,c)}},extname:function(o){e(o);for(var a=-1,u=0,c=-1,l=!0,p=0,h=o.length-1;h>=0;--h){var y=o.charCodeAt(h);if(y===47){if(!l){u=h+1;break}continue}c===-1&&(l=!1,c=h+1),y===46?a===-1?a=h:p!==1&&(p=1):a!==-1&&(p=-1)}return a===-1||c===-1||p===0||p===1&&a===c-1&&a===u+1?"":o.slice(a,c)},format:function(o){if(o===null||typeof o!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof o);return n("/",o)},parse:function(o){e(o);var a={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return a;var u=o.charCodeAt(0),c=u===47,l;c?(a.root="/",l=1):l=0;for(var p=-1,h=0,y=-1,b=!0,w=o.length-1,m=0;w>=l;--w){if(u=o.charCodeAt(w),u===47){if(!b){h=w+1;break}continue}y===-1&&(b=!1,y=w+1),u===46?p===-1?p=w:m!==1&&(m=1):p!==-1&&(m=-1)}return p===-1||y===-1||m===0||m===1&&p===y-1&&p===h+1?y!==-1&&(h===0&&c?a.base=a.name=o.slice(1,y):a.base=a.name=o.slice(h,y)):(h===0&&c?(a.name=o.slice(1,p),a.base=o.slice(1,y)):(a.name=o.slice(h,p),a.base=o.slice(h,y)),a.ext=o.slice(p,y)),h>0?a.dir=o.slice(0,h-1):c&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,Hy=i,Hy}function gs(t){throw new RangeError(qk[t])}function rT(t,e){let r=t.split("@"),n="";r.length>1&&(n=r[0]+"@",t=r[1]);let i=function(s,o){let a=[],u=s.length;for(;u--;)a[u]=o(s[u]);return a}((t=t.replace(Fk,".")).split("."),e).join(".");return n+i}function cT(t){let e=[],r=0,n=t.length;for(;r<n;){let i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){let s=t.charCodeAt(r++);(64512&s)==56320?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),r--)}else e.push(i)}return e}function Hk(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Bn(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function Ju(t,e,r){if(t&&pi.isObject(t)&&t instanceof Bn)return t;var n=new Bn;return n.parse(t,e,r),n}function eD(){if(fT)return Yy;fT=!0;var t=Wt;function e(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}function r(s,o){for(var a="",u=0,c=-1,l=0,p,h=0;h<=s.length;++h){if(h<s.length)p=s.charCodeAt(h);else{if(p===47)break;p=47}if(p===47){if(!(c===h-1||l===1))if(c!==h-1&&l===2){if(a.length<2||u!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var y=a.lastIndexOf("/");if(y!==a.length-1){y===-1?(a="",u=0):(a=a.slice(0,y),u=a.length-1-a.lastIndexOf("/")),c=h,l=0;continue}}else if(a.length===2||a.length===1){a="",u=0,c=h,l=0;continue}}o&&(a.length>0?a+="/..":a="..",u=2)}else a.length>0?a+="/"+s.slice(c+1,h):a=s.slice(c+1,h),u=h-c-1;c=h,l=0}else p===46&&l!==-1?++l:l=-1}return a}function n(s,o){var a=o.dir||o.root,u=o.base||(o.name||"")+(o.ext||"");return a?a===o.root?a+u:a+s+u:u}var i={resolve:function(){for(var o="",a=!1,u,c=arguments.length-1;c>=-1&&!a;c--){var l;c>=0?l=arguments[c]:(u===void 0&&(u=t.cwd()),l=u),e(l),l.length!==0&&(o=l+"/"+o,a=l.charCodeAt(0)===47)}return o=r(o,!a),a?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(o){if(e(o),o.length===0)return".";var a=o.charCodeAt(0)===47,u=o.charCodeAt(o.length-1)===47;return o=r(o,!a),o.length===0&&!a&&(o="."),o.length>0&&u&&(o+="/"),a?"/"+o:o},isAbsolute:function(o){return e(o),o.length>0&&o.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var o,a=0;a<arguments.length;++a){var u=arguments[a];e(u),u.length>0&&(o===void 0?o=u:o+="/"+u)}return o===void 0?".":i.normalize(o)},relative:function(o,a){if(e(o),e(a),o===a||(o=i.resolve(o),a=i.resolve(a),o===a))return"";for(var u=1;u<o.length&&o.charCodeAt(u)===47;++u);for(var c=o.length,l=c-u,p=1;p<a.length&&a.charCodeAt(p)===47;++p);for(var h=a.length,y=h-p,b=l<y?l:y,w=-1,m=0;m<=b;++m){if(m===b){if(y>b){if(a.charCodeAt(p+m)===47)return a.slice(p+m+1);if(m===0)return a.slice(p+m)}else l>b&&(o.charCodeAt(u+m)===47?w=m:m===0&&(w=0));break}var E=o.charCodeAt(u+m),T=a.charCodeAt(p+m);if(E!==T)break;E===47&&(w=m)}var S="";for(m=u+w+1;m<=c;++m)(m===c||o.charCodeAt(m)===47)&&(S.length===0?S+="..":S+="/..");return S.length>0?S+a.slice(p+w):(p+=w,a.charCodeAt(p)===47&&++p,a.slice(p))},_makeLong:function(o){return o},dirname:function(o){if(e(o),o.length===0)return".";for(var a=o.charCodeAt(0),u=a===47,c=-1,l=!0,p=o.length-1;p>=1;--p)if(a=o.charCodeAt(p),a===47){if(!l){c=p;break}}else l=!1;return c===-1?u?"/":".":u&&c===1?"//":o.slice(0,c)},basename:function(o,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');e(o);var u=0,c=-1,l=!0,p;if(a!==void 0&&a.length>0&&a.length<=o.length){if(a.length===o.length&&a===o)return"";var h=a.length-1,y=-1;for(p=o.length-1;p>=0;--p){var b=o.charCodeAt(p);if(b===47){if(!l){u=p+1;break}}else y===-1&&(l=!1,y=p+1),h>=0&&(b===a.charCodeAt(h)?--h===-1&&(c=p):(h=-1,c=y))}return u===c?c=y:c===-1&&(c=o.length),o.slice(u,c)}else{for(p=o.length-1;p>=0;--p)if(o.charCodeAt(p)===47){if(!l){u=p+1;break}}else c===-1&&(l=!1,c=p+1);return c===-1?"":o.slice(u,c)}},extname:function(o){e(o);for(var a=-1,u=0,c=-1,l=!0,p=0,h=o.length-1;h>=0;--h){var y=o.charCodeAt(h);if(y===47){if(!l){u=h+1;break}continue}c===-1&&(l=!1,c=h+1),y===46?a===-1?a=h:p!==1&&(p=1):a!==-1&&(p=-1)}return a===-1||c===-1||p===0||p===1&&a===c-1&&a===u+1?"":o.slice(a,c)},format:function(o){if(o===null||typeof o!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof o);return n("/",o)},parse:function(o){e(o);var a={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return a;var u=o.charCodeAt(0),c=u===47,l;c?(a.root="/",l=1):l=0;for(var p=-1,h=0,y=-1,b=!0,w=o.length-1,m=0;w>=l;--w){if(u=o.charCodeAt(w),u===47){if(!b){h=w+1;break}continue}y===-1&&(b=!1,y=w+1),u===46?p===-1?p=w:m!==1&&(m=1):p!==-1&&(m=-1)}return p===-1||y===-1||m===0||m===1&&p===y-1&&p===h+1?y!==-1&&(h===0&&c?a.base=a.name=o.slice(1,y):a.base=a.name=o.slice(h,y)):(h===0&&c?(a.name=o.slice(1,p),a.base=o.slice(1,y)):(a.name=o.slice(h,p),a.base=o.slice(h,y)),a.ext=o.slice(p,y)),h>0?a.dir=o.slice(0,h-1):c&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,Yy=i,Yy}function dD(t){if(typeof t=="string")t=new URL(t);else if(!(t instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(t.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Jy?hD(t):pD(t)}function hD(t){let e=t.hostname,r=t.pathname;for(let n=0;n<r.length;n++)if(r[n]==="%"){let i=r.codePointAt(n+2)||32;if(r[n+1]==="2"&&i===102||r[n+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(sD,"\\"),r=decodeURIComponent(r),e!=="")return`\\\\${e}${r}`;{let n=r.codePointAt(1)|32,i=r[2];if(n<iD||n>oD||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function pD(t){if(t.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let e=t.pathname;for(let r=0;r<e.length;r++)if(e[r]==="%"){let n=e.codePointAt(r+2)||32;if(e[r+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(e)}function yD(t){let e=lT.resolve(t),r=t.charCodeAt(t.length-1);(r===nD||Jy&&r===rD)&&e[e.length-1]!==lT.sep&&(e+="/");let n=new URL("file://");return e.includes("%")&&(e=e.replace(aD,"%25")),!Jy&&e.includes("\\")&&(e=e.replace(uD,"%5C")),e.includes(`
`)&&(e=e.replace(fD,"%0A")),e.includes("\r")&&(e=e.replace(lD,"%0D")),e.includes("	")&&(e=e.replace(cD,"%09")),n.pathname=e,n}function RD(t){if(typeof t=="string")t=new URL(t);else if(!(t instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(t.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Xy?OD(t):PD(t)}function OD(t){let e=t.hostname,r=t.pathname;for(let n=0;n<r.length;n++)if(r[n]==="%"){let i=r.codePointAt(n+2)||32;if(r[n+1]==="2"&&i===102||r[n+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(vD,"\\"),r=decodeURIComponent(r),e!=="")return`\\\\${e}${r}`;{let n=r.codePointAt(1)|32,i=r[2];if(n<_D||n>wD||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function PD(t){if(t.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let e=t.pathname;for(let r=0;r<e.length;r++)if(e[r]==="%"){let n=e.codePointAt(r+2)||32;if(e[r+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(e)}function ID(t){let e=tT.resolve(t),r=t.charCodeAt(t.length-1);(r===bD||Xy&&r===gD)&&e[e.length-1]!==tT.sep&&(e+="/");let n=new URL("file://");return e.includes("%")&&(e=e.replace(ED,"%25")),!Xy&&e.includes("\\")&&(e=e.replace(SD,"%5C")),e.includes(`
`)&&(e=e.replace(TD,"%0A")),e.includes("\r")&&(e=e.replace(AD,"%0D")),e.includes("	")&&(e=e.replace($D,"%09")),n.pathname=e,n}var Hy,eT,tT,Sa,kk,Dk,Fk,qk,yi,zy,nT,dT,iT,oT,Wk,zk,Ku,Vk,Fi,Tt,Gk,pi,Yk,Kk,Jk,Xk,Ky,sT,aT,uT,Zk,Qk,Vy,Ea,Gy,Yy,fT,lT,tD,rD,nD,iD,oD,Jy,sD,aD,uD,fD,lD,cD,mD,gD,bD,_D,wD,Xy,vD,ED,SD,TD,AD,$D,Zy=Rt(()=>{x();ba();Yu();Hy={},eT=!1;tT=Uk(),Sa=2147483647,kk=/^xn--/,Dk=/[^\0-\x7E]/,Fk=/[\x2E\u3002\uFF0E\uFF61]/g,qk={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},yi=Math.floor,zy=String.fromCharCode;nT=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},dT=function(t,e,r){let n=0;for(t=r?yi(t/700):t>>1,t+=yi(t/e);t>455;n+=36)t=yi(t/35);return yi(n+36*t/(t+38))},iT=function(t){let e=[],r=t.length,n=0,i=128,s=72,o=t.lastIndexOf("-");o<0&&(o=0);for(let u=0;u<o;++u)t.charCodeAt(u)>=128&&gs("not-basic"),e.push(t.charCodeAt(u));for(let u=o>0?o+1:0;u<r;){let c=n;for(let p=1,h=36;;h+=36){u>=r&&gs("invalid-input");let y=(a=t.charCodeAt(u++))-48<10?a-22:a-65<26?a-65:a-97<26?a-97:36;(y>=36||y>yi((Sa-n)/p))&&gs("overflow"),n+=y*p;let b=h<=s?1:h>=s+26?26:h-s;if(y<b)break;let w=36-b;p>yi(Sa/w)&&gs("overflow"),p*=w}let l=e.length+1;s=dT(n-c,l,c==0),yi(n/l)>Sa-i&&gs("overflow"),i+=yi(n/l),n%=l,e.splice(n++,0,i)}var a;return String.fromCodePoint(...e)},oT=function(t){let e=[],r=(t=cT(t)).length,n=128,i=0,s=72;for(let u of t)u<128&&e.push(zy(u));let o=e.length,a=o;for(o&&e.push("-");a<r;){let u=Sa;for(let l of t)l>=n&&l<u&&(u=l);let c=a+1;u-n>yi((Sa-i)/c)&&gs("overflow"),i+=(u-n)*c,n=u;for(let l of t)if(l<n&&++i>Sa&&gs("overflow"),l==n){let p=i;for(let h=36;;h+=36){let y=h<=s?1:h>=s+26?26:h-s;if(p<y)break;let b=p-y,w=36-y;e.push(zy(nT(y+b%w,0))),p=yi(b/w)}e.push(zy(nT(p,0))),s=dT(i,c,a==o),i=0,++a}++i,++n}return e.join("")},Wk={version:"2.1.0",ucs2:{decode:cT,encode:t=>String.fromCodePoint(...t)},decode:iT,encode:oT,toASCII:function(t){return rT(t,function(e){return Dk.test(e)?"xn--"+oT(e):e})},toUnicode:function(t){return rT(t,function(e){return kk.test(e)?iT(e.slice(4).toLowerCase()):e})}};zk=function(t,e,r,n){e=e||"&",r=r||"=";var i={};if(typeof t!="string"||t.length===0)return i;var s=/\+/g;t=t.split(e);var o=1e3;n&&typeof n.maxKeys=="number"&&(o=n.maxKeys);var a=t.length;o>0&&a>o&&(a=o);for(var u=0;u<a;++u){var c,l,p,h,y=t[u].replace(s,"%20"),b=y.indexOf(r);b>=0?(c=y.substr(0,b),l=y.substr(b+1)):(c=y,l=""),p=decodeURIComponent(c),h=decodeURIComponent(l),Hk(i,p)?Array.isArray(i[p])?i[p].push(h):i[p]=[i[p],h]:i[p]=h}return i},Ku=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},Vk=function(t,e,r,n){return e=e||"&",r=r||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(i){var s=encodeURIComponent(Ku(i))+r;return Array.isArray(t[i])?t[i].map(function(o){return s+encodeURIComponent(Ku(o))}).join(e):s+encodeURIComponent(Ku(t[i]))}).join(e):n?encodeURIComponent(Ku(n))+r+encodeURIComponent(Ku(t)):""},Fi={};Fi.decode=Fi.parse=zk,Fi.encode=Fi.stringify=Vk;Fi.decode;Fi.encode;Fi.parse;Fi.stringify;Tt={},Gk=Wk,pi={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}};Tt.parse=Ju,Tt.resolve=function(t,e){return Ju(t,!1,!0).resolve(e)},Tt.resolveObject=function(t,e){return t?Ju(t,!1,!0).resolveObject(e):e},Tt.format=function(t){return pi.isString(t)&&(t=Ju(t)),t instanceof Bn?t.format():Bn.prototype.format.call(t)},Tt.Url=Bn;Yk=/^([a-z0-9.+-]+:)/i,Kk=/:[0-9]*$/,Jk=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Xk=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),Ky=["'"].concat(Xk),sT=["%","/","?",";","#"].concat(Ky),aT=["/","?","#"],uT=/^[+a-z0-9A-Z_-]{0,63}$/,Zk=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Qk={javascript:!0,"javascript:":!0},Vy={javascript:!0,"javascript:":!0},Ea={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Gy=Fi;Bn.prototype.parse=function(t,e,r){if(!pi.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i);s[0]=s[0].replace(/\\/g,"/");var o=t=s.join(i);if(o=o.trim(),!r&&t.split("#").length===1){var a=Jk.exec(o);if(a)return this.path=o,this.href=o,this.pathname=a[1],a[2]?(this.search=a[2],this.query=e?Gy.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var u=Yk.exec(o);if(u){var c=(u=u[0]).toLowerCase();this.protocol=c,o=o.substr(u.length)}if(r||u||o.match(/^\/\/[^@\/]+@[^@\/]+/)){var l=o.substr(0,2)==="//";!l||u&&Vy[u]||(o=o.substr(2),this.slashes=!0)}if(!Vy[u]&&(l||u&&!Ea[u])){for(var p,h,y=-1,b=0;b<aT.length;b++)(w=o.indexOf(aT[b]))!==-1&&(y===-1||w<y)&&(y=w);for((h=y===-1?o.lastIndexOf("@"):o.lastIndexOf("@",y))!==-1&&(p=o.slice(0,h),o=o.slice(h+1),this.auth=decodeURIComponent(p)),y=-1,b=0;b<sT.length;b++){var w;(w=o.indexOf(sT[b]))!==-1&&(y===-1||w<y)&&(y=w)}y===-1&&(y=o.length),this.host=o.slice(0,y),o=o.slice(y),this.parseHost(),this.hostname=this.hostname||"";var m=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!m)for(var E=this.hostname.split(/\./),T=(b=0,E.length);b<T;b++){var S=E[b];if(S&&!S.match(uT)){for(var P="",A=0,N=S.length;A<N;A++)S.charCodeAt(A)>127?P+="x":P+=S[A];if(!P.match(uT)){var C=E.slice(0,b),W=E.slice(b+1),z=S.match(Zk);z&&(C.push(z[1]),W.unshift(z[2])),W.length&&(o="/"+W.join(".")+o),this.hostname=C.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),m||(this.hostname=Gk.toASCII(this.hostname));var j=this.port?":"+this.port:"",ne=this.hostname||"";this.host=ne+j,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),o[0]!=="/"&&(o="/"+o))}if(!Qk[c])for(b=0,T=Ky.length;b<T;b++){var Q=Ky[b];if(o.indexOf(Q)!==-1){var H=encodeURIComponent(Q);H===Q&&(H=escape(Q)),o=o.split(Q).join(H)}}var fe=o.indexOf("#");fe!==-1&&(this.hash=o.substr(fe),o=o.slice(0,fe));var me=o.indexOf("?");if(me!==-1?(this.search=o.substr(me),this.query=o.substr(me+1),e&&(this.query=Gy.parse(this.query)),o=o.slice(0,me)):e&&(this.search="",this.query={}),o&&(this.pathname=o),Ea[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){j=this.pathname||"";var Te=this.search||"";this.path=j+Te}return this.href=this.format(),this},Bn.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&pi.isObject(this.query)&&Object.keys(this.query).length&&(s=Gy.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Ea[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),e+i+(r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}))+(o=o.replace("#","%23"))+n},Bn.prototype.resolve=function(t){return this.resolveObject(Ju(t,!1,!0)).format()},Bn.prototype.resolveObject=function(t){if(pi.isString(t)){var e=new Bn;e.parse(t,!1,!0),t=e}for(var r=new Bn,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var u=o[a];u!=="protocol"&&(r[u]=t[u])}return Ea[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Ea[t.protocol]){for(var c=Object.keys(t),l=0;l<c.length;l++){var p=c[l];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||Vy[t.protocol])r.pathname=t.pathname;else{for(var h=(t.pathname||"").split("/");h.length&&!(t.host=h.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),h[0]!==""&&h.unshift(""),h.length<2&&h.unshift(""),r.pathname=h.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var y=r.pathname||"",b=r.search||"";r.path=y+b}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var w=r.pathname&&r.pathname.charAt(0)==="/",m=t.host||t.pathname&&t.pathname.charAt(0)==="/",E=m||w||r.host&&t.pathname,T=E,S=r.pathname&&r.pathname.split("/")||[],P=(h=t.pathname&&t.pathname.split("/")||[],r.protocol&&!Ea[r.protocol]);if(P&&(r.hostname="",r.port=null,r.host&&(S[0]===""?S[0]=r.host:S.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(h[0]===""?h[0]=t.host:h.unshift(t.host)),t.host=null),E=E&&(h[0]===""||S[0]==="")),m)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,S=h;else if(h.length)S||(S=[]),S.pop(),S=S.concat(h),r.search=t.search,r.query=t.query;else if(!pi.isNullOrUndefined(t.search))return P&&(r.hostname=r.host=S.shift(),(z=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=z.shift(),r.host=r.hostname=z.shift())),r.search=t.search,r.query=t.query,pi.isNull(r.pathname)&&pi.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!S.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var A=S.slice(-1)[0],N=(r.host||t.host||S.length>1)&&(A==="."||A==="..")||A==="",C=0,W=S.length;W>=0;W--)(A=S[W])==="."?S.splice(W,1):A===".."?(S.splice(W,1),C++):C&&(S.splice(W,1),C--);if(!E&&!T)for(;C--;C)S.unshift("..");!E||S[0]===""||S[0]&&S[0].charAt(0)==="/"||S.unshift(""),N&&S.join("/").substr(-1)!=="/"&&S.push("");var z,j=S[0]===""||S[0]&&S[0].charAt(0)==="/";return P&&(r.hostname=r.host=j?"":S.length?S.shift():"",(z=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=z.shift(),r.host=r.hostname=z.shift())),(E=E||r.host&&S.length)&&!j&&S.unshift(""),S.length?r.pathname=S.join("/"):(r.pathname=null,r.path=null),pi.isNull(r.pathname)&&pi.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},Bn.prototype.parseHost=function(){var t=this.host,e=Kk.exec(t);e&&((e=e[0])!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};Tt.Url;Tt.format;Tt.resolve;Tt.resolveObject;Yy={},fT=!1;lT=eD(),tD=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0;Tt.URL=typeof URL<"u"?URL:null;Tt.pathToFileURL=yD;Tt.fileURLToPath=dD;Tt.Url;Tt.format;Tt.resolve;Tt.resolveObject;Tt.URL;rD=92,nD=47,iD=97,oD=122,Jy=tD==="win32",sD=/\//g,aD=/%/g,uD=/\\/g,fD=/\n/g,lD=/\r/g,cD=/\t/g;mD=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0;Tt.URL=typeof URL<"u"?URL:null;Tt.pathToFileURL=ID;Tt.fileURLToPath=RD;Tt.Url;Tt.format;Tt.resolve;Tt.resolveObject;Tt.parse;Tt.URL;gD=92,bD=47,_D=97,wD=122,Xy=mD==="win32",vD=/\//g,ED=/%/g,SD=/\\/g,TD=/\n/g,AD=/\r/g,$D=/\t/g});var Bc={};qn(Bc,{Agent:()=>FD,ClientRequest:()=>qD,IncomingMessage:()=>WD,METHODS:()=>HD,STATUS_CODES:()=>zD,default:()=>qi,get:()=>VD,globalAgent:()=>GD,request:()=>YD});function BT(){if(hT)return En;hT=!0,En.fetch=n(bs.fetch)&&n(bs.ReadableStream),En.writableStream=n(bs.WritableStream),En.abortController=n(bs.AbortController);var t;function e(){if(t!==void 0)return t;if(bs.XMLHttpRequest){t=new bs.XMLHttpRequest;try{t.open("GET",bs.XDomainRequest?"/":"https://example.com")}catch{t=null}}else t=null;return t}function r(i){var s=e();if(!s)return!1;try{return s.responseType=i,s.responseType===i}catch{}return!1}En.arraybuffer=En.fetch||r("arraybuffer"),En.msstream=!En.fetch&&r("ms-stream"),En.mozchunkedarraybuffer=!En.fetch&&r("moz-chunked-arraybuffer"),En.overrideMimeType=En.fetch||(e()?n(e().overrideMimeType):!1);function n(i){return typeof i=="function"}return t=null,En}function jT(){return pT||(pT=!0,Qy=Er.EventEmitter),Qy}function CD(){if(yT)return em;yT=!0;function t(b,w){var m=Object.keys(b);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(b);w&&(E=E.filter(function(T){return Object.getOwnPropertyDescriptor(b,T).enumerable})),m.push.apply(m,E)}return m}function e(b){for(var w=1;w<arguments.length;w++){var m=arguments[w]!=null?arguments[w]:{};w%2?t(Object(m),!0).forEach(function(E){r(b,E,m[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(m)):t(Object(m)).forEach(function(E){Object.defineProperty(b,E,Object.getOwnPropertyDescriptor(m,E))})}return b}function r(b,w,m){return w=o(w),w in b?Object.defineProperty(b,w,{value:m,enumerable:!0,configurable:!0,writable:!0}):b[w]=m,b}function n(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function i(b,w){for(var m=0;m<w.length;m++){var E=w[m];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,o(E.key),E)}}function s(b,w,m){return w&&i(b.prototype,w),Object.defineProperty(b,"prototype",{writable:!1}),b}function o(b){var w=a(b,"string");return typeof w=="symbol"?w:String(w)}function a(b,w){if(typeof b!="object"||b===null)return b;var m=b[Symbol.toPrimitive];if(m!==void 0){var E=m.call(b,w||"default");if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(b)}var u=hr(),c=u.Buffer,l=Oe,p=l.inspect,h=p&&p.custom||"inspect";function y(b,w,m){c.prototype.copy.call(b,w,m)}return em=function(){function b(){n(this,b),this.head=null,this.tail=null,this.length=0}return s(b,[{key:"push",value:function(m){var E={data:m,next:null};this.length>0?this.tail.next=E:this.head=E,this.tail=E,++this.length}},{key:"unshift",value:function(m){var E={data:m,next:this.head};this.length===0&&(this.tail=E),this.head=E,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var E=this.head,T=""+E.data;E=E.next;)T+=m+E.data;return T}},{key:"concat",value:function(m){if(this.length===0)return c.alloc(0);for(var E=c.allocUnsafe(m>>>0),T=this.head,S=0;T;)y(T.data,E,S),S+=T.data.length,T=T.next;return E}},{key:"consume",value:function(m,E){var T;return m<this.head.data.length?(T=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):m===this.head.data.length?T=this.shift():T=E?this._getString(m):this._getBuffer(m),T}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var E=this.head,T=1,S=E.data;for(m-=S.length;E=E.next;){var P=E.data,A=m>P.length?P.length:m;if(A===P.length?S+=P:S+=P.slice(0,m),m-=A,m===0){A===P.length?(++T,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=P.slice(A));break}++T}return this.length-=T,S}},{key:"_getBuffer",value:function(m){var E=c.allocUnsafe(m),T=this.head,S=1;for(T.data.copy(E),m-=T.data.length;T=T.next;){var P=T.data,A=m>P.length?P.length:m;if(P.copy(E,E.length-m,0,A),m-=A,m===0){A===P.length?(++S,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=P.slice(A));break}++S}return this.length-=S,E}},{key:h,value:function(m,E){return p(this,e(e({},E),{},{depth:0,customInspect:!1}))}}]),b}(),em}function UT(){if(mT)return tm;mT=!0;var t=or;function e(a,u){var c=this,l=this._readableState&&this._readableState.destroyed,p=this._writableState&&this._writableState.destroyed;return l||p?(u?u(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(s,this,a)):t.nextTick(s,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(h){!u&&h?c._writableState?c._writableState.errorEmitted?t.nextTick(n,c):(c._writableState.errorEmitted=!0,t.nextTick(r,c,h)):t.nextTick(r,c,h):u?(t.nextTick(n,c),u(h)):t.nextTick(n,c)}),this)}function r(a,u){s(a,u),n(a)}function n(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(a,u){a.emit("error",u)}function o(a,u){var c=a._readableState,l=a._writableState;c&&c.autoDestroy||l&&l.autoDestroy?a.destroy(u):a.emit("error",u)}return tm={destroy:e,undestroy:i,errorOrDestroy:o},tm}function Aa(){if(gT)return rm;gT=!0;let t={};function e(o,a,u){u||(u=Error);function c(p,h,y){return typeof a=="string"?a:a(p,h,y)}class l extends u{constructor(h,y,b){super(c(h,y,b))}}l.prototype.name=u.name,l.prototype.code=o,t[o]=l}function r(o,a){if(Array.isArray(o)){let u=o.length;return o=o.map(c=>String(c)),u>2?`one of ${a} ${o.slice(0,u-1).join(", ")}, or `+o[u-1]:u===2?`one of ${a} ${o[0]} or ${o[1]}`:`of ${a} ${o[0]}`}else return`of ${a} ${String(o)}`}function n(o,a,u){return o.substr(0,a.length)===a}function i(o,a,u){return(u===void 0||u>o.length)&&(u=o.length),o.substring(u-a.length,u)===a}function s(o,a,u){return typeof u!="number"&&(u=0),u+a.length>o.length?!1:o.indexOf(a,u)!==-1}return e("ERR_INVALID_OPT_VALUE",function(o,a){return'The value "'+a+'" is invalid for option "'+o+'"'},TypeError),e("ERR_INVALID_ARG_TYPE",function(o,a,u){let c;typeof a=="string"&&n(a,"not ")?(c="must not be",a=a.replace(/^not /,"")):c="must be";let l;if(i(o," argument"))l=`The ${o} ${c} ${r(a,"type")}`;else{let p=s(o,".")?"property":"argument";l=`The "${o}" ${p} ${c} ${r(a,"type")}`}return l+=`. Received type ${typeof u}`,l},TypeError),e("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),e("ERR_METHOD_NOT_IMPLEMENTED",function(o){return"The "+o+" method is not implemented"}),e("ERR_STREAM_PREMATURE_CLOSE","Premature close"),e("ERR_STREAM_DESTROYED",function(o){return"Cannot call "+o+" after a stream was destroyed"}),e("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),e("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),e("ERR_STREAM_WRITE_AFTER_END","write after end"),e("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),e("ERR_UNKNOWN_ENCODING",function(o){return"Unknown encoding: "+o},TypeError),e("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),rm.codes=t,rm}function kT(){if(bT)return nm;bT=!0;var t=Aa().codes.ERR_INVALID_OPT_VALUE;function e(n,i,s){return n.highWaterMark!=null?n.highWaterMark:i?n[s]:null}function r(n,i,s,o){var a=e(i,o,s);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var u=o?s:"highWaterMark";throw new t(u,a)}return Math.floor(a)}return n.objectMode?16:16*1024}return nm={getHighWaterMark:r},nm}function DT(){if(_T)return im;_T=!0;var t=or;im=z;function e(M){var I=this;this.next=null,this.entry=null,this.finish=function(){Ie(I,M)}}var r;z.WritableState=C;var n={deprecate:KS()},i=jT(),s=hr().Buffer,o=(typeof wT<"u"?wT:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(M){return s.from(M)}function u(M){return s.isBuffer(M)||M instanceof o}var c=UT(),l=kT(),p=l.getHighWaterMark,h=Aa().codes,y=h.ERR_INVALID_ARG_TYPE,b=h.ERR_METHOD_NOT_IMPLEMENTED,w=h.ERR_MULTIPLE_CALLBACK,m=h.ERR_STREAM_CANNOT_PIPE,E=h.ERR_STREAM_DESTROYED,T=h.ERR_STREAM_NULL_VALUES,S=h.ERR_STREAM_WRITE_AFTER_END,P=h.ERR_UNKNOWN_ENCODING,A=c.errorOrDestroy;di()(z,i);function N(){}function C(M,I,k){r=r||Ta(),M=M||{},typeof k!="boolean"&&(k=I instanceof r),this.objectMode=!!M.objectMode,k&&(this.objectMode=this.objectMode||!!M.writableObjectMode),this.highWaterMark=p(this,M,"writableHighWaterMark",k),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ie=M.decodeStrings===!1;this.decodeStrings=!ie,this.defaultEncoding=M.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(he){Ae(I,he)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=M.emitClose!==!1,this.autoDestroy=!!M.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}C.prototype.getBuffer=function(){for(var I=this.bufferedRequest,k=[];I;)k.push(I),I=I.next;return k},function(){try{Object.defineProperty(C.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var W;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(W=Function.prototype[Symbol.hasInstance],Object.defineProperty(z,Symbol.hasInstance,{value:function(I){return W.call(this,I)?!0:this!==z?!1:I&&I._writableState instanceof C}})):W=function(I){return I instanceof this};function z(M){r=r||Ta();var I=this instanceof r;if(!I&&!W.call(z,this))return new z(M);this._writableState=new C(M,this,I),this.writable=!0,M&&(typeof M.write=="function"&&(this._write=M.write),typeof M.writev=="function"&&(this._writev=M.writev),typeof M.destroy=="function"&&(this._destroy=M.destroy),typeof M.final=="function"&&(this._final=M.final)),i.call(this)}z.prototype.pipe=function(){A(this,new m)};function j(M,I){var k=new S;A(M,k),t.nextTick(I,k)}function ne(M,I,k,ie){var he;return k===null?he=new T:typeof k!="string"&&!I.objectMode&&(he=new y("chunk",["string","Buffer"],k)),he?(A(M,he),t.nextTick(ie,he),!1):!0}z.prototype.write=function(M,I,k){var ie=this._writableState,he=!1,$=!ie.objectMode&&u(M);return $&&!s.isBuffer(M)&&(M=a(M)),typeof I=="function"&&(k=I,I=null),$?I="buffer":I||(I=ie.defaultEncoding),typeof k!="function"&&(k=N),ie.ending?j(this,k):($||ne(this,ie,M,k))&&(ie.pendingcb++,he=H(this,ie,$,M,I,k)),he},z.prototype.cork=function(){this._writableState.corked++},z.prototype.uncork=function(){var M=this._writableState;M.corked&&(M.corked--,!M.writing&&!M.corked&&!M.bufferProcessing&&M.bufferedRequest&&D(this,M))},z.prototype.setDefaultEncoding=function(I){if(typeof I=="string"&&(I=I.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((I+"").toLowerCase())>-1))throw new P(I);return this._writableState.defaultEncoding=I,this},Object.defineProperty(z.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Q(M,I,k){return!M.objectMode&&M.decodeStrings!==!1&&typeof I=="string"&&(I=s.from(I,k)),I}Object.defineProperty(z.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function H(M,I,k,ie,he,$){if(!k){var v=Q(I,ie,he);ie!==v&&(k=!0,he="buffer",ie=v)}var L=I.objectMode?1:ie.length;I.length+=L;var V=I.length<I.highWaterMark;if(V||(I.needDrain=!0),I.writing||I.corked){var ye=I.lastBufferedRequest;I.lastBufferedRequest={chunk:ie,encoding:he,isBuf:k,callback:$,next:null},ye?ye.next=I.lastBufferedRequest:I.bufferedRequest=I.lastBufferedRequest,I.bufferedRequestCount+=1}else fe(M,I,!1,L,ie,he,$);return V}function fe(M,I,k,ie,he,$,v){I.writelen=ie,I.writecb=v,I.writing=!0,I.sync=!0,I.destroyed?I.onwrite(new E("write")):k?M._writev(he,I.onwrite):M._write(he,$,I.onwrite),I.sync=!1}function me(M,I,k,ie,he){--I.pendingcb,k?(t.nextTick(he,ie),t.nextTick(te,M,I),M._writableState.errorEmitted=!0,A(M,ie)):(he(ie),M._writableState.errorEmitted=!0,A(M,ie),te(M,I))}function Te(M){M.writing=!1,M.writecb=null,M.length-=M.writelen,M.writelen=0}function Ae(M,I){var k=M._writableState,ie=k.sync,he=k.writecb;if(typeof he!="function")throw new w;if(Te(k),I)me(M,k,ie,I,he);else{var $=ae(k)||M.destroyed;!$&&!k.corked&&!k.bufferProcessing&&k.bufferedRequest&&D(M,k),ie?t.nextTick(Z,M,k,$,he):Z(M,k,$,he)}}function Z(M,I,k,ie){k||we(M,I),I.pendingcb--,ie(),te(M,I)}function we(M,I){I.length===0&&I.needDrain&&(I.needDrain=!1,M.emit("drain"))}function D(M,I){I.bufferProcessing=!0;var k=I.bufferedRequest;if(M._writev&&k&&k.next){var ie=I.bufferedRequestCount,he=new Array(ie),$=I.corkedRequestsFree;$.entry=k;for(var v=0,L=!0;k;)he[v]=k,k.isBuf||(L=!1),k=k.next,v+=1;he.allBuffers=L,fe(M,I,!0,I.length,he,"",$.finish),I.pendingcb++,I.lastBufferedRequest=null,$.next?(I.corkedRequestsFree=$.next,$.next=null):I.corkedRequestsFree=new e(I),I.bufferedRequestCount=0}else{for(;k;){var V=k.chunk,ye=k.encoding,le=k.callback,J=I.objectMode?1:V.length;if(fe(M,I,!1,J,V,ye,le),k=k.next,I.bufferedRequestCount--,I.writing)break}k===null&&(I.lastBufferedRequest=null)}I.bufferedRequest=k,I.bufferProcessing=!1}z.prototype._write=function(M,I,k){k(new b("_write()"))},z.prototype._writev=null,z.prototype.end=function(M,I,k){var ie=this._writableState;return typeof M=="function"?(k=M,M=null,I=null):typeof I=="function"&&(k=I,I=null),M!=null&&this.write(M,I),ie.corked&&(ie.corked=1,this.uncork()),ie.ending||pe(this,ie,k),this},Object.defineProperty(z.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ae(M){return M.ending&&M.length===0&&M.bufferedRequest===null&&!M.finished&&!M.writing}function Y(M,I){M._final(function(k){I.pendingcb--,k&&A(M,k),I.prefinished=!0,M.emit("prefinish"),te(M,I)})}function F(M,I){!I.prefinished&&!I.finalCalled&&(typeof M._final=="function"&&!I.destroyed?(I.pendingcb++,I.finalCalled=!0,t.nextTick(Y,M,I)):(I.prefinished=!0,M.emit("prefinish")))}function te(M,I){var k=ae(I);if(k&&(F(M,I),I.pendingcb===0&&(I.finished=!0,M.emit("finish"),I.autoDestroy))){var ie=M._readableState;(!ie||ie.autoDestroy&&ie.endEmitted)&&M.destroy()}return k}function pe(M,I,k){I.ending=!0,te(M,I),k&&(I.finished?t.nextTick(k):M.once("finish",k)),I.ended=!0,M.writable=!1}function Ie(M,I,k){var ie=M.entry;for(M.entry=null;ie;){var he=ie.callback;I.pendingcb--,he(k),ie=ie.next}I.corkedRequestsFree.next=M}return Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(I){this._writableState&&(this._writableState.destroyed=I)}}),z.prototype.destroy=c.destroy,z.prototype._undestroy=c.undestroy,z.prototype._destroy=function(M,I){I(M)},im}function Ta(){if(vT)return om;vT=!0;var t=or,e=Object.keys||function(l){var p=[];for(var h in l)p.push(h);return p};om=a;var r=FT(),n=DT();di()(a,r);for(var i=e(n.prototype),s=0;s<i.length;s++){var o=i[s];a.prototype[o]||(a.prototype[o]=n.prototype[o])}function a(l){if(!(this instanceof a))return new a(l);r.call(this,l),n.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",u)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function u(){this._writableState.ended||t.nextTick(c,this)}function c(l){l.end()}return Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),om}function gm(){if(ET)return sm;ET=!0;var t=Aa().codes.ERR_STREAM_PREMATURE_CLOSE;function e(s){var o=!1;return function(){if(!o){o=!0;for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];s.apply(this,u)}}}function r(){}function n(s){return s.setHeader&&typeof s.abort=="function"}function i(s,o,a){if(typeof o=="function")return i(s,null,o);o||(o={}),a=e(a||r);var u=o.readable||o.readable!==!1&&s.readable,c=o.writable||o.writable!==!1&&s.writable,l=function(){s.writable||h()},p=s._writableState&&s._writableState.finished,h=function(){c=!1,p=!0,u||a.call(s)},y=s._readableState&&s._readableState.endEmitted,b=function(){u=!1,y=!0,c||a.call(s)},w=function(S){a.call(s,S)},m=function(){var S;if(u&&!y)return(!s._readableState||!s._readableState.ended)&&(S=new t),a.call(s,S);if(c&&!p)return(!s._writableState||!s._writableState.ended)&&(S=new t),a.call(s,S)},E=function(){s.req.on("finish",h)};return n(s)?(s.on("complete",h),s.on("abort",m),s.req?E():s.on("request",E)):c&&!s._writableState&&(s.on("end",l),s.on("close",l)),s.on("end",b),s.on("finish",h),o.error!==!1&&s.on("error",w),s.on("close",m),function(){s.removeListener("complete",h),s.removeListener("abort",m),s.removeListener("request",E),s.req&&s.req.removeListener("finish",h),s.removeListener("end",l),s.removeListener("close",l),s.removeListener("finish",h),s.removeListener("end",b),s.removeListener("error",w),s.removeListener("close",m)}}return sm=i,sm}function ND(){if(ST)return am;ST=!0;var t=or,e;function r(P,A,N){return A=n(A),A in P?Object.defineProperty(P,A,{value:N,enumerable:!0,configurable:!0,writable:!0}):P[A]=N,P}function n(P){var A=i(P,"string");return typeof A=="symbol"?A:String(A)}function i(P,A){if(typeof P!="object"||P===null)return P;var N=P[Symbol.toPrimitive];if(N!==void 0){var C=N.call(P,A||"default");if(typeof C!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(P)}var s=gm(),o=Symbol("lastResolve"),a=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),p=Symbol("handlePromise"),h=Symbol("stream");function y(P,A){return{value:P,done:A}}function b(P){var A=P[o];if(A!==null){var N=P[h].read();N!==null&&(P[l]=null,P[o]=null,P[a]=null,A(y(N,!1)))}}function w(P){t.nextTick(b,P)}function m(P,A){return function(N,C){P.then(function(){if(A[c]){N(y(void 0,!0));return}A[p](N,C)},C)}}var E=Object.getPrototypeOf(function(){}),T=Object.setPrototypeOf((e={get stream(){return this[h]},next:function(){var A=this,N=this[u];if(N!==null)return Promise.reject(N);if(this[c])return Promise.resolve(y(void 0,!0));if(this[h].destroyed)return new Promise(function(j,ne){t.nextTick(function(){A[u]?ne(A[u]):j(y(void 0,!0))})});var C=this[l],W;if(C)W=new Promise(m(C,this));else{var z=this[h].read();if(z!==null)return Promise.resolve(y(z,!1));W=new Promise(this[p])}return this[l]=W,W}},r(e,Symbol.asyncIterator,function(){return this}),r(e,"return",function(){var A=this;return new Promise(function(N,C){A[h].destroy(null,function(W){if(W){C(W);return}N(y(void 0,!0))})})}),e),E),S=function(A){var N,C=Object.create(T,(N={},r(N,h,{value:A,writable:!0}),r(N,o,{value:null,writable:!0}),r(N,a,{value:null,writable:!0}),r(N,u,{value:null,writable:!0}),r(N,c,{value:A._readableState.endEmitted,writable:!0}),r(N,p,{value:function(z,j){var ne=C[h].read();ne?(C[l]=null,C[o]=null,C[a]=null,z(y(ne,!1))):(C[o]=z,C[a]=j)},writable:!0}),N));return C[l]=null,s(A,function(W){if(W&&W.code!=="ERR_STREAM_PREMATURE_CLOSE"){var z=C[a];z!==null&&(C[l]=null,C[o]=null,C[a]=null,z(W)),C[u]=W;return}var j=C[o];j!==null&&(C[l]=null,C[o]=null,C[a]=null,j(y(void 0,!0))),C[c]=!0}),A.on("readable",w.bind(null,C)),C};return am=S,am}function xD(){return TT||(TT=!0,um=function(){throw new Error("Readable.from is not available in the browser")}),um}function FT(){if(AT)return fm;AT=!0;var t=or;fm=j;var e;j.ReadableState=z,Er.EventEmitter;var r=function(v,L){return v.listeners(L).length},n=jT(),i=hr().Buffer,s=(typeof $T<"u"?$T:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o($){return i.from($)}function a($){return i.isBuffer($)||$ instanceof s}var u=Oe,c;u&&u.debuglog?c=u.debuglog("stream"):c=function(){};var l=CD(),p=UT(),h=kT(),y=h.getHighWaterMark,b=Aa().codes,w=b.ERR_INVALID_ARG_TYPE,m=b.ERR_STREAM_PUSH_AFTER_EOF,E=b.ERR_METHOD_NOT_IMPLEMENTED,T=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,S,P,A;di()(j,n);var N=p.errorOrDestroy,C=["error","close","destroy","pause","resume"];function W($,v,L){if(typeof $.prependListener=="function")return $.prependListener(v,L);!$._events||!$._events[v]?$.on(v,L):Array.isArray($._events[v])?$._events[v].unshift(L):$._events[v]=[L,$._events[v]]}function z($,v,L){e=e||Ta(),$=$||{},typeof L!="boolean"&&(L=v instanceof e),this.objectMode=!!$.objectMode,L&&(this.objectMode=this.objectMode||!!$.readableObjectMode),this.highWaterMark=y(this,$,"readableHighWaterMark",L),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=$.emitClose!==!1,this.autoDestroy=!!$.autoDestroy,this.destroyed=!1,this.defaultEncoding=$.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,$.encoding&&(S||(S=ms.StringDecoder),this.decoder=new S($.encoding),this.encoding=$.encoding)}function j($){if(e=e||Ta(),!(this instanceof j))return new j($);var v=this instanceof e;this._readableState=new z($,this,v),this.readable=!0,$&&(typeof $.read=="function"&&(this._read=$.read),typeof $.destroy=="function"&&(this._destroy=$.destroy)),n.call(this)}Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(v){this._readableState&&(this._readableState.destroyed=v)}}),j.prototype.destroy=p.destroy,j.prototype._undestroy=p.undestroy,j.prototype._destroy=function($,v){v($)},j.prototype.push=function($,v){var L=this._readableState,V;return L.objectMode?V=!0:typeof $=="string"&&(v=v||L.defaultEncoding,v!==L.encoding&&($=i.from($,v),v=""),V=!0),ne(this,$,v,!1,V)},j.prototype.unshift=function($){return ne(this,$,null,!0,!1)};function ne($,v,L,V,ye){c("readableAddChunk",v);var le=$._readableState;if(v===null)le.reading=!1,Ae($,le);else{var J;if(ye||(J=H(le,v)),J)N($,J);else if(le.objectMode||v&&v.length>0)if(typeof v!="string"&&!le.objectMode&&Object.getPrototypeOf(v)!==i.prototype&&(v=o(v)),V)le.endEmitted?N($,new T):Q($,le,v,!0);else if(le.ended)N($,new m);else{if(le.destroyed)return!1;le.reading=!1,le.decoder&&!L?(v=le.decoder.write(v),le.objectMode||v.length!==0?Q($,le,v,!1):D($,le)):Q($,le,v,!1)}else V||(le.reading=!1,D($,le))}return!le.ended&&(le.length<le.highWaterMark||le.length===0)}function Q($,v,L,V){v.flowing&&v.length===0&&!v.sync?(v.awaitDrain=0,$.emit("data",L)):(v.length+=v.objectMode?1:L.length,V?v.buffer.unshift(L):v.buffer.push(L),v.needReadable&&Z($)),D($,v)}function H($,v){var L;return!a(v)&&typeof v!="string"&&v!==void 0&&!$.objectMode&&(L=new w("chunk",["string","Buffer","Uint8Array"],v)),L}j.prototype.isPaused=function(){return this._readableState.flowing===!1},j.prototype.setEncoding=function($){S||(S=ms.StringDecoder);var v=new S($);this._readableState.decoder=v,this._readableState.encoding=this._readableState.decoder.encoding;for(var L=this._readableState.buffer.head,V="";L!==null;)V+=v.write(L.data),L=L.next;return this._readableState.buffer.clear(),V!==""&&this._readableState.buffer.push(V),this._readableState.length=V.length,this};var fe=1073741824;function me($){return $>=fe?$=fe:($--,$|=$>>>1,$|=$>>>2,$|=$>>>4,$|=$>>>8,$|=$>>>16,$++),$}function Te($,v){return $<=0||v.length===0&&v.ended?0:v.objectMode?1:$!==$?v.flowing&&v.length?v.buffer.head.data.length:v.length:($>v.highWaterMark&&(v.highWaterMark=me($)),$<=v.length?$:v.ended?v.length:(v.needReadable=!0,0))}j.prototype.read=function($){c("read",$),$=parseInt($,10);var v=this._readableState,L=$;if($!==0&&(v.emittedReadable=!1),$===0&&v.needReadable&&((v.highWaterMark!==0?v.length>=v.highWaterMark:v.length>0)||v.ended))return c("read: emitReadable",v.length,v.ended),v.length===0&&v.ended?k(this):Z(this),null;if($=Te($,v),$===0&&v.ended)return v.length===0&&k(this),null;var V=v.needReadable;c("need readable",V),(v.length===0||v.length-$<v.highWaterMark)&&(V=!0,c("length less than watermark",V)),v.ended||v.reading?(V=!1,c("reading or ended",V)):V&&(c("do read"),v.reading=!0,v.sync=!0,v.length===0&&(v.needReadable=!0),this._read(v.highWaterMark),v.sync=!1,v.reading||($=Te(L,v)));var ye;return $>0?ye=I($,v):ye=null,ye===null?(v.needReadable=v.length<=v.highWaterMark,$=0):(v.length-=$,v.awaitDrain=0),v.length===0&&(v.ended||(v.needReadable=!0),L!==$&&v.ended&&k(this)),ye!==null&&this.emit("data",ye),ye};function Ae($,v){if(c("onEofChunk"),!v.ended){if(v.decoder){var L=v.decoder.end();L&&L.length&&(v.buffer.push(L),v.length+=v.objectMode?1:L.length)}v.ended=!0,v.sync?Z($):(v.needReadable=!1,v.emittedReadable||(v.emittedReadable=!0,we($)))}}function Z($){var v=$._readableState;c("emitReadable",v.needReadable,v.emittedReadable),v.needReadable=!1,v.emittedReadable||(c("emitReadable",v.flowing),v.emittedReadable=!0,t.nextTick(we,$))}function we($){var v=$._readableState;c("emitReadable_",v.destroyed,v.length,v.ended),!v.destroyed&&(v.length||v.ended)&&($.emit("readable"),v.emittedReadable=!1),v.needReadable=!v.flowing&&!v.ended&&v.length<=v.highWaterMark,M($)}function D($,v){v.readingMore||(v.readingMore=!0,t.nextTick(ae,$,v))}function ae($,v){for(;!v.reading&&!v.ended&&(v.length<v.highWaterMark||v.flowing&&v.length===0);){var L=v.length;if(c("maybeReadMore read 0"),$.read(0),L===v.length)break}v.readingMore=!1}j.prototype._read=function($){N(this,new E("_read()"))},j.prototype.pipe=function($,v){var L=this,V=this._readableState;switch(V.pipesCount){case 0:V.pipes=$;break;case 1:V.pipes=[V.pipes,$];break;default:V.pipes.push($);break}V.pipesCount+=1,c("pipe count=%d opts=%j",V.pipesCount,v);var ye=(!v||v.end!==!1)&&$!==t.stdout&&$!==t.stderr,le=ye?se:f;V.endEmitted?t.nextTick(le):L.once("end",le),$.on("unpipe",J);function J(d,O){c("onunpipe"),d===L&&O&&O.hasUnpiped===!1&&(O.hasUnpiped=!0,Se())}function se(){c("onend"),$.end()}var Ee=Y(L);$.on("drain",Ee);var Re=!1;function Se(){c("cleanup"),$.removeListener("close",Ke),$.removeListener("finish",_),$.removeListener("drain",Ee),$.removeListener("error",Ve),$.removeListener("unpipe",J),L.removeListener("end",se),L.removeListener("end",f),L.removeListener("data",Ge),Re=!0,V.awaitDrain&&(!$._writableState||$._writableState.needDrain)&&Ee()}L.on("data",Ge);function Ge(d){c("ondata");var O=$.write(d);c("dest.write",O),O===!1&&((V.pipesCount===1&&V.pipes===$||V.pipesCount>1&&he(V.pipes,$)!==-1)&&!Re&&(c("false write response, pause",V.awaitDrain),V.awaitDrain++),L.pause())}function Ve(d){c("onerror",d),f(),$.removeListener("error",Ve),r($,"error")===0&&N($,d)}W($,"error",Ve);function Ke(){$.removeListener("finish",_),f()}$.once("close",Ke);function _(){c("onfinish"),$.removeListener("close",Ke),f()}$.once("finish",_);function f(){c("unpipe"),L.unpipe($)}return $.emit("pipe",L),V.flowing||(c("pipe resume"),L.resume()),$};function Y($){return function(){var L=$._readableState;c("pipeOnDrain",L.awaitDrain),L.awaitDrain&&L.awaitDrain--,L.awaitDrain===0&&r($,"data")&&(L.flowing=!0,M($))}}j.prototype.unpipe=function($){var v=this._readableState,L={hasUnpiped:!1};if(v.pipesCount===0)return this;if(v.pipesCount===1)return $&&$!==v.pipes?this:($||($=v.pipes),v.pipes=null,v.pipesCount=0,v.flowing=!1,$&&$.emit("unpipe",this,L),this);if(!$){var V=v.pipes,ye=v.pipesCount;v.pipes=null,v.pipesCount=0,v.flowing=!1;for(var le=0;le<ye;le++)V[le].emit("unpipe",this,{hasUnpiped:!1});return this}var J=he(v.pipes,$);return J===-1?this:(v.pipes.splice(J,1),v.pipesCount-=1,v.pipesCount===1&&(v.pipes=v.pipes[0]),$.emit("unpipe",this,L),this)},j.prototype.on=function($,v){var L=n.prototype.on.call(this,$,v),V=this._readableState;return $==="data"?(V.readableListening=this.listenerCount("readable")>0,V.flowing!==!1&&this.resume()):$==="readable"&&!V.endEmitted&&!V.readableListening&&(V.readableListening=V.needReadable=!0,V.flowing=!1,V.emittedReadable=!1,c("on readable",V.length,V.reading),V.length?Z(this):V.reading||t.nextTick(te,this)),L},j.prototype.addListener=j.prototype.on,j.prototype.removeListener=function($,v){var L=n.prototype.removeListener.call(this,$,v);return $==="readable"&&t.nextTick(F,this),L},j.prototype.removeAllListeners=function($){var v=n.prototype.removeAllListeners.apply(this,arguments);return($==="readable"||$===void 0)&&t.nextTick(F,this),v};function F($){var v=$._readableState;v.readableListening=$.listenerCount("readable")>0,v.resumeScheduled&&!v.paused?v.flowing=!0:$.listenerCount("data")>0&&$.resume()}function te($){c("readable nexttick read 0"),$.read(0)}j.prototype.resume=function(){var $=this._readableState;return $.flowing||(c("resume"),$.flowing=!$.readableListening,pe(this,$)),$.paused=!1,this};function pe($,v){v.resumeScheduled||(v.resumeScheduled=!0,t.nextTick(Ie,$,v))}function Ie($,v){c("resume",v.reading),v.reading||$.read(0),v.resumeScheduled=!1,$.emit("resume"),M($),v.flowing&&!v.reading&&$.read(0)}j.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function M($){var v=$._readableState;for(c("flow",v.flowing);v.flowing&&$.read()!==null;);}j.prototype.wrap=function($){var v=this,L=this._readableState,V=!1;$.on("end",function(){if(c("wrapped end"),L.decoder&&!L.ended){var J=L.decoder.end();J&&J.length&&v.push(J)}v.push(null)}),$.on("data",function(J){if(c("wrapped data"),L.decoder&&(J=L.decoder.write(J)),!(L.objectMode&&J==null)&&!(!L.objectMode&&(!J||!J.length))){var se=v.push(J);se||(V=!0,$.pause())}});for(var ye in $)this[ye]===void 0&&typeof $[ye]=="function"&&(this[ye]=function(se){return function(){return $[se].apply($,arguments)}}(ye));for(var le=0;le<C.length;le++)$.on(C[le],this.emit.bind(this,C[le]));return this._read=function(J){c("wrapped _read",J),V&&(V=!1,$.resume())},this},typeof Symbol=="function"&&(j.prototype[Symbol.asyncIterator]=function(){return P===void 0&&(P=ND()),P(this)}),Object.defineProperty(j.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(j.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(j.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(v){this._readableState&&(this._readableState.flowing=v)}}),j._fromList=I,Object.defineProperty(j.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function I($,v){if(v.length===0)return null;var L;return v.objectMode?L=v.buffer.shift():!$||$>=v.length?(v.decoder?L=v.buffer.join(""):v.buffer.length===1?L=v.buffer.first():L=v.buffer.concat(v.length),v.buffer.clear()):L=v.buffer.consume($,v.decoder),L}function k($){var v=$._readableState;c("endReadable",v.endEmitted),v.endEmitted||(v.ended=!0,t.nextTick(ie,v,$))}function ie($,v){if(c("endReadableNT",$.endEmitted,$.length),!$.endEmitted&&$.length===0&&($.endEmitted=!0,v.readable=!1,v.emit("end"),$.autoDestroy)){var L=v._writableState;(!L||L.autoDestroy&&L.finished)&&v.destroy()}}typeof Symbol=="function"&&(j.from=function($,v){return A===void 0&&(A=xD()),A(j,$,v)});function he($,v){for(var L=0,V=$.length;L<V;L++)if($[L]===v)return L;return-1}return fm}function qT(){if(RT)return lm;RT=!0,lm=a;var t=Aa().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,s=Ta();di()(a,s);function o(l,p){var h=this._transformState;h.transforming=!1;var y=h.writecb;if(y===null)return this.emit("error",new r);h.writechunk=null,h.writecb=null,p!=null&&this.push(p),y(l);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function a(l){if(!(this instanceof a))return new a(l);s.call(this,l),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",u)}function u(){var l=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(p,h){c(l,p,h)}):c(this,null,null)}a.prototype.push=function(l,p){return this._transformState.needTransform=!1,s.prototype.push.call(this,l,p)},a.prototype._transform=function(l,p,h){h(new e("_transform()"))},a.prototype._write=function(l,p,h){var y=this._transformState;if(y.writecb=h,y.writechunk=l,y.writeencoding=p,!y.transforming){var b=this._readableState;(y.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},a.prototype._read=function(l){var p=this._transformState;p.writechunk!==null&&!p.transforming?(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform)):p.needTransform=!0},a.prototype._destroy=function(l,p){s.prototype._destroy.call(this,l,function(h){p(h)})};function c(l,p,h){if(p)return l.emit("error",p);if(h!=null&&l.push(h),l._writableState.length)throw new i;if(l._transformState.transforming)throw new n;return l.push(null)}return lm}function MD(){if(OT)return cm;OT=!0,cm=e;var t=qT();di()(e,t);function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return e.prototype._transform=function(r,n,i){i(null,r)},cm}function LD(){if(PT)return dm;PT=!0;var t;function e(h){var y=!1;return function(){y||(y=!0,h.apply(void 0,arguments))}}var r=Aa().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function s(h){if(h)throw h}function o(h){return h.setHeader&&typeof h.abort=="function"}function a(h,y,b,w){w=e(w);var m=!1;h.on("close",function(){m=!0}),t===void 0&&(t=gm()),t(h,{readable:y,writable:b},function(T){if(T)return w(T);m=!0,w()});var E=!1;return function(T){if(!m&&!E){if(E=!0,o(h))return h.abort();if(typeof h.destroy=="function")return h.destroy();w(T||new i("pipe"))}}}function u(h){h()}function c(h,y){return h.pipe(y)}function l(h){return!h.length||typeof h[h.length-1]!="function"?s:h.pop()}function p(){for(var h=arguments.length,y=new Array(h),b=0;b<h;b++)y[b]=arguments[b];var w=l(y);if(Array.isArray(y[0])&&(y=y[0]),y.length<2)throw new n("streams");var m,E=y.map(function(T,S){var P=S<y.length-1,A=S>0;return a(T,P,A,function(N){m||(m=N),N&&E.forEach(u),!P&&(E.forEach(u),w(m))})});return y.reduce(c)}return dm=p,dm}function WT(){return IT||(IT=!0,fn=fn=FT(),fn.Stream=fn,fn.Readable=fn,fn.Writable=DT(),fn.Duplex=Ta(),fn.Transform=qT(),fn.PassThrough=MD(),fn.finished=gm(),fn.pipeline=LD()),fn}function HT(){if(CT)return Mc;CT=!0;var t=hr().Buffer,e=or,r=BT(),n=di(),i=WT(),s=Mc.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},o=Mc.IncomingMessage=function(a,u,c,l){var p=this||Lc;if(i.Readable.call(p),p._mode=c,p.headers={},p.rawHeaders=[],p.trailers={},p.rawTrailers=[],p.on("end",function(){e.nextTick(function(){p.emit("close")})}),c==="fetch"){let E=function(){y.read().then(function(T){if(!p._destroyed){if(l(T.done),T.done){p.push(null);return}p.push(t.from(T.value)),E()}}).catch(function(T){l(!0),p._destroyed||p.emit("error",T)})};if(p._fetchResponse=u,p.url=u.url,p.statusCode=u.status,p.statusMessage=u.statusText,u.headers.forEach(function(T,S){p.headers[S.toLowerCase()]=T,p.rawHeaders.push(S,T)}),r.writableStream){var h=new WritableStream({write:function(T){return l(!1),new Promise(function(S,P){p._destroyed?P():p.push(t.from(T))?S():p._resumeFetch=S})},close:function(){l(!0),p._destroyed||p.push(null)},abort:function(T){l(!0),p._destroyed||p.emit("error",T)}});try{u.body.pipeTo(h).catch(function(T){l(!0),p._destroyed||p.emit("error",T)});return}catch{}}var y=u.body.getReader();E()}else{p._xhr=a,p._pos=0,p.url=a.responseURL,p.statusCode=a.status,p.statusMessage=a.statusText;var b=a.getAllResponseHeaders().split(/\r?\n/);if(b.forEach(function(E){var T=E.match(/^([^:]+):\s*(.*)/);if(T){var S=T[1].toLowerCase();S==="set-cookie"?(p.headers[S]===void 0&&(p.headers[S]=[]),p.headers[S].push(T[2])):p.headers[S]!==void 0?p.headers[S]+=", "+T[2]:p.headers[S]=T[2],p.rawHeaders.push(T[1],T[2])}}),p._charset="x-user-defined",!r.overrideMimeType){var w=p.rawHeaders["mime-type"];if(w){var m=w.match(/;\s*charset=([^;])(;|$)/);m&&(p._charset=m[1].toLowerCase())}p._charset||(p._charset="utf-8")}}};return n(o,i.Readable),o.prototype._read=function(){var a=this||Lc,u=a._resumeFetch;u&&(a._resumeFetch=null,u())},o.prototype._onXHRProgress=function(a){var u=this||Lc,c=u._xhr,l=null;switch(u._mode){case"text":if(l=c.responseText,l.length>u._pos){var p=l.substr(u._pos);if(u._charset==="x-user-defined"){for(var h=t.alloc(p.length),y=0;y<p.length;y++)h[y]=p.charCodeAt(y)&255;u.push(h)}else u.push(p,u._charset);u._pos=l.length}break;case"arraybuffer":if(c.readyState!==s.DONE||!c.response)break;l=c.response,u.push(t.from(new Uint8Array(l)));break;case"moz-chunked-arraybuffer":if(l=c.response,c.readyState!==s.LOADING||!l)break;u.push(t.from(new Uint8Array(l)));break;case"ms-stream":if(l=c.response,c.readyState!==s.LOADING)break;var b=new Lc.MSStreamReader;b.onprogress=function(){b.result.byteLength>u._pos&&(u.push(t.from(new Uint8Array(b.result.slice(u._pos)))),u._pos=b.result.byteLength)},b.onload=function(){a(!0),u.push(null)},b.readAsArrayBuffer(l);break}u._xhr.readyState===s.DONE&&u._mode!=="ms-stream"&&(a(!0),u.push(null))},Mc}function BD(){if(NT)return hm;NT=!0;var t=hr().Buffer,e=or,r=BT(),n=di(),i=HT(),s=WT(),o=i.IncomingMessage,a=i.readyStates;function u(h,y){return r.fetch&&y?"fetch":r.mozchunkedarraybuffer?"moz-chunked-arraybuffer":r.msstream?"ms-stream":r.arraybuffer&&h?"arraybuffer":"text"}var c=hm=function(h){var y=this||pr;s.Writable.call(y),y._opts=h,y._body=[],y._headers={},h.auth&&y.setHeader("Authorization","Basic "+t.from(h.auth).toString("base64")),Object.keys(h.headers).forEach(function(m){y.setHeader(m,h.headers[m])});var b,w=!0;if(h.mode==="disable-fetch"||"requestTimeout"in h&&!r.abortController)w=!1,b=!0;else if(h.mode==="prefer-streaming")b=!1;else if(h.mode==="allow-wrong-content-type")b=!r.overrideMimeType;else if(!h.mode||h.mode==="default"||h.mode==="prefer-fast")b=!0;else throw new Error("Invalid value for opts.mode");y._mode=u(b,w),y._fetchTimer=null,y._socketTimeout=null,y._socketTimer=null,y.on("finish",function(){y._onFinish()})};n(c,s.Writable),c.prototype.setHeader=function(h,y){var b=this||pr,w=h.toLowerCase();p.indexOf(w)===-1&&(b._headers[w]={name:h,value:y})},c.prototype.getHeader=function(h){var y=(this||pr)._headers[h.toLowerCase()];return y?y.value:null},c.prototype.removeHeader=function(h){var y=this||pr;delete y._headers[h.toLowerCase()]},c.prototype._onFinish=function(){var h=this||pr;if(!h._destroyed){var y=h._opts;"timeout"in y&&y.timeout!==0&&h.setTimeout(y.timeout);var b=h._headers,w=null;y.method!=="GET"&&y.method!=="HEAD"&&(w=new Blob(h._body,{type:(b["content-type"]||{}).value||""}));var m=[];if(Object.keys(b).forEach(function(P){var A=b[P].name,N=b[P].value;Array.isArray(N)?N.forEach(function(C){m.push([A,C])}):m.push([A,N])}),h._mode==="fetch"){var E=null;if(r.abortController){var T=new AbortController;E=T.signal,h._fetchAbortController=T,"requestTimeout"in y&&y.requestTimeout!==0&&(h._fetchTimer=pr.setTimeout(function(){h.emit("requestTimeout"),h._fetchAbortController&&h._fetchAbortController.abort()},y.requestTimeout))}pr.fetch(h._opts.url,{method:h._opts.method,headers:m,body:w||void 0,mode:"cors",credentials:y.withCredentials?"include":"same-origin",signal:E}).then(function(P){h._fetchResponse=P,h._resetTimers(!1),h._connect()},function(P){h._resetTimers(!0),h._destroyed||h.emit("error",P)})}else{var S=h._xhr=new pr.XMLHttpRequest;try{S.open(h._opts.method,h._opts.url,!0)}catch(P){e.nextTick(function(){h.emit("error",P)});return}"responseType"in S&&(S.responseType=h._mode),"withCredentials"in S&&(S.withCredentials=!!y.withCredentials),h._mode==="text"&&"overrideMimeType"in S&&S.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in y&&(S.timeout=y.requestTimeout,S.ontimeout=function(){h.emit("requestTimeout")}),m.forEach(function(P){S.setRequestHeader(P[0],P[1])}),h._response=null,S.onreadystatechange=function(){switch(S.readyState){case a.LOADING:case a.DONE:h._onXHRProgress();break}},h._mode==="moz-chunked-arraybuffer"&&(S.onprogress=function(){h._onXHRProgress()}),S.onerror=function(){h._destroyed||(h._resetTimers(!0),h.emit("error",new Error("XHR error")))};try{S.send(w)}catch(P){e.nextTick(function(){h.emit("error",P)});return}}}};function l(h){try{var y=h.status;return y!==null&&y!==0}catch{return!1}}c.prototype._onXHRProgress=function(){var h=this||pr;h._resetTimers(!1),!(!l(h._xhr)||h._destroyed)&&(h._response||h._connect(),h._response._onXHRProgress(h._resetTimers.bind(h)))},c.prototype._connect=function(){var h=this||pr;h._destroyed||(h._response=new o(h._xhr,h._fetchResponse,h._mode,h._resetTimers.bind(h)),h._response.on("error",function(y){h.emit("error",y)}),h.emit("response",h._response))},c.prototype._write=function(h,y,b){var w=this||pr;w._body.push(h),b()},c.prototype._resetTimers=function(h){var y=this||pr;pr.clearTimeout(y._socketTimer),y._socketTimer=null,h?(pr.clearTimeout(y._fetchTimer),y._fetchTimer=null):y._socketTimeout&&(y._socketTimer=pr.setTimeout(function(){y.emit("timeout")},y._socketTimeout))},c.prototype.abort=c.prototype.destroy=function(h){var y=this||pr;y._destroyed=!0,y._resetTimers(!0),y._response&&(y._response._destroyed=!0),y._xhr?y._xhr.abort():y._fetchAbortController&&y._fetchAbortController.abort(),h&&y.emit("error",h)},c.prototype.end=function(h,y,b){var w=this||pr;typeof h=="function"&&(b=h,h=void 0),s.Writable.prototype.end.call(w,h,y,b)},c.prototype.setTimeout=function(h,y){var b=this||pr;y&&b.once("timeout",y),b._socketTimeout=h,b._resetTimers(!1)},c.prototype.flushHeaders=function(){},c.prototype.setNoDelay=function(){},c.prototype.setSocketKeepAlive=function(){};var p=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"];return hm}function jD(){if(xT)return pm;xT=!0,pm=e;var t=Object.prototype.hasOwnProperty;function e(){for(var r={},n=0;n<arguments.length;n++){var i=arguments[n];for(var s in i)t.call(i,s)&&(r[s]=i[s])}return r}return pm}function UD(){return MT||(MT=!0,ym={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}),ym}function DD(){if(LT)return mm;LT=!0;var t=BD(),e=HT(),r=jD(),n=UD(),i=Tt,s=mm;return s.request=function(o,a){typeof o=="string"?o=i.parse(o):o=r(o);var u=kD.location.protocol.search(/^https?:$/)===-1?"http:":"",c=o.protocol||u,l=o.hostname||o.host,p=o.port,h=o.path||"/";l&&l.indexOf(":")!==-1&&(l="["+l+"]"),o.url=(l?c+"//"+l:"")+(p?":"+p:"")+h,o.method=(o.method||"GET").toUpperCase(),o.headers=o.headers||{};var y=new t(o);return a&&y.on("response",a),y},s.get=function(a,u){var c=s.request(a,u);return c.end(),c},s.ClientRequest=t,s.IncomingMessage=e.IncomingMessage,s.Agent=function(){},s.Agent.defaultMaxSockets=4,s.globalAgent=new s.Agent,s.STATUS_CODES=n,s.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],mm}var En,hT,bs,Qy,pT,em,yT,tm,mT,rm,gT,nm,bT,im,_T,wT,om,vT,sm,ET,am,ST,um,TT,fm,AT,$T,lm,RT,cm,OT,dm,PT,fn,IT,Mc,CT,Lc,hm,NT,pr,pm,xT,ym,MT,mm,LT,kD,qi,FD,qD,WD,HD,zD,VD,GD,YD,jc=Rt(()=>{x();mc();fS();qu();cu();zS();ba();wa();JS();qy();Zy();Yu();En={},hT=!1,bs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;Qy={},pT=!1;em={},yT=!1;tm={},mT=!1;rm={},gT=!1;nm={},bT=!1;im={},_T=!1,wT=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;om={},vT=!1;sm={},ET=!1;am={},ST=!1;um={},TT=!1;fm={},AT=!1,$T=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;lm={},RT=!1;cm={},OT=!1;dm={},PT=!1;fn={},IT=!1;Mc={},CT=!1,Lc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;hm={},NT=!1,pr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;pm={},xT=!1;ym={},MT=!1;mm={},LT=!1,kD=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;qi=DD(),FD=qi.Agent,qD=qi.ClientRequest,WD=qi.IncomingMessage,HD=qi.METHODS,zD=qi.STATUS_CODES,VD=qi.get,GD=qi.globalAgent,YD=qi.request});function GT(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return r===-1&&(r=e),[r,r===e?0:4-r%4]}function KD(t,e,r){for(var n,i,s=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),s.push(Kn[(i=n)>>18&63]+Kn[i>>12&63]+Kn[i>>6&63]+Kn[63&i]);return s.join("")}function Wi(t){if(t>2147483647)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,Ce.prototype),e}function Ce(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return jm(t)}return EA(t,e,r)}function EA(t,e,r){if(typeof t=="string")return function(s,o){if(typeof o=="string"&&o!==""||(o="utf8"),!Ce.isEncoding(o))throw new TypeError("Unknown encoding: "+o);var a=0|TA(s,o),u=Wi(a),c=u.write(s,o);return c!==a&&(u=u.slice(0,c)),u}(t,e);if(ArrayBuffer.isView(t))return bm(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Hi(t,ArrayBuffer)||t&&Hi(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Hi(t,SharedArrayBuffer)||t&&Hi(t.buffer,SharedArrayBuffer)))return KT(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return Ce.from(n,e,r);var i=function(s){if(Ce.isBuffer(s)){var o=0|Fm(s.length),a=Wi(o);return a.length===0||s.copy(a,0,0,o),a}if(s.length!==void 0)return typeof s.length!="number"||qm(s.length)?Wi(0):bm(s);if(s.type==="Buffer"&&Array.isArray(s.data))return bm(s.data)}(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return Ce.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function SA(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function jm(t){return SA(t),Wi(t<0?0:0|Fm(t))}function bm(t){for(var e=t.length<0?0:0|Fm(t.length),r=Wi(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function KT(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=e===void 0&&r===void 0?new Uint8Array(t):r===void 0?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,Ce.prototype),n}function Fm(t){if(t>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|t}function TA(t,e){if(Ce.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Hi(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Um(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return OA(t).length;default:if(i)return n?-1:Um(t).length;e=(""+e).toLowerCase(),i=!0}}function XD(t,e,r){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return s6(this,e,r);case"utf8":case"utf-8":return $A(this,e,r);case"ascii":return i6(this,e,r);case"latin1":case"binary":return o6(this,e,r);case"base64":return n6(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a6(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function ws(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function JT(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),qm(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if(typeof e=="string"&&(e=Ce.from(e,n)),Ce.isBuffer(e))return e.length===0?-1:XT(t,e,r,n,i);if(typeof e=="number")return e&=255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):XT(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function XT(t,e,r,n,i){var s,o=1,a=t.length,u=e.length;if(n!==void 0&&((n=String(n).toLowerCase())==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,a/=2,u/=2,r/=2}function c(y,b){return o===1?y[b]:y.readUInt16BE(b*o)}if(i){var l=-1;for(s=r;s<a;s++)if(c(t,s)===c(e,l===-1?0:s-l)){if(l===-1&&(l=s),s-l+1===u)return l*o}else l!==-1&&(s-=s-l),l=-1}else for(r+u>a&&(r=a-u),s=r;s>=0;s--){for(var p=!0,h=0;h<u;h++)if(c(t,s+h)!==c(e,h)){p=!1;break}if(p)return s}return-1}function ZD(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var s=e.length;n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(e.substr(2*o,2),16);if(qm(a))return o;t[r+o]=a}return o}function QD(t,e,r,n){return Wc(Um(e,t.length-r),t,r,n)}function AA(t,e,r,n){return Wc(function(i){for(var s=[],o=0;o<i.length;++o)s.push(255&i.charCodeAt(o));return s}(e),t,r,n)}function e6(t,e,r,n){return AA(t,e,r,n)}function t6(t,e,r,n){return Wc(OA(e),t,r,n)}function r6(t,e,r,n){return Wc(function(i,s){for(var o,a,u,c=[],l=0;l<i.length&&!((s-=2)<0);++l)o=i.charCodeAt(l),a=o>>8,u=o%256,c.push(u),c.push(a);return c}(e,t.length-r),t,r,n)}function n6(t,e,r){return e===0&&r===t.length?Bm.fromByteArray(t):Bm.fromByteArray(t.slice(e,r))}function $A(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var s,o,a,u,c=t[i],l=null,p=c>239?4:c>223?3:c>191?2:1;if(i+p<=r)switch(p){case 1:c<128&&(l=c);break;case 2:(192&(s=t[i+1]))==128&&(u=(31&c)<<6|63&s)>127&&(l=u);break;case 3:s=t[i+1],o=t[i+2],(192&s)==128&&(192&o)==128&&(u=(15&c)<<12|(63&s)<<6|63&o)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:s=t[i+1],o=t[i+2],a=t[i+3],(192&s)==128&&(192&o)==128&&(192&a)==128&&(u=(15&c)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&u<1114112&&(l=u)}l===null?(l=65533,p=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=p}return function(h){var y=h.length;if(y<=4096)return String.fromCharCode.apply(String,h);for(var b="",w=0;w<y;)b+=String.fromCharCode.apply(String,h.slice(w,w+=4096));return b}(n)}function i6(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function o6(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function s6(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=e;s<r;++s)i+=f6[t[s]];return i}function a6(t,e,r){for(var n=t.slice(e,r),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function yr(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function ln(t,e,r,n,i,s){if(!Ce.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function RA(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function ZT(t,e,r,n,i){return e=+e,r>>>=0,i||RA(t,0,r,4),$a.write(t,e,r,n,23,4),r+4}function QT(t,e,r,n,i){return e=+e,r>>>=0,i||RA(t,0,r,8),$a.write(t,e,r,n,52,8),r+8}function Um(t,e){var r;e=e||1/0;for(var n=t.length,i=null,s=[],o=0;o<n;++o){if((r=t.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function OA(t){return Bm.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(u6,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(t))}function Wc(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Hi(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function qm(t){return t!=t}function eA(t,e){for(var r in t)e[r]=t[r]}function vs(t,e,r){return mi(t,e,r)}function Xu(t){var e;switch(this.encoding=function(r){var n=function(i){if(!i)return"utf8";for(var s;;)switch(i){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return i;default:if(s)return;i=(""+i).toLowerCase(),s=!0}}(r);if(typeof n!="string"&&(Dm.isEncoding===tA||!tA(r)))throw new Error("Unknown encoding: "+r);return n||r}(t),this.encoding){case"utf16le":this.text=d6,this.end=h6,e=4;break;case"utf8":this.fillLast=c6,e=4;break;case"base64":this.text=p6,this.end=y6,e=3;break;default:return this.write=m6,this.end=g6,void 0}this.lastNeed=0,this.lastTotal=0,this.lastChar=Dm.allocUnsafe(e)}function _m(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function c6(t){var e=this.lastTotal-this.lastNeed,r=function(n,i,s){if((192&i[0])!=128)return n.lastNeed=0,"\uFFFD";if(n.lastNeed>1&&i.length>1){if((192&i[1])!=128)return n.lastNeed=1,"\uFFFD";if(n.lastNeed>2&&i.length>2&&(192&i[2])!=128)return n.lastNeed=2,"\uFFFD"}}(this,t);return r!==void 0?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length,void 0)}function d6(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function h6(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function p6(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function y6(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function m6(t){return t.toString(this.encoding)}function g6(t){return t&&t.length?this.write(t):""}function b6(){if(rA)return Zu;rA=!0,Zu.byteLength=a,Zu.toByteArray=c,Zu.fromByteArray=h;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=n.length;i<s;++i)t[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function o(y){var b=y.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=y.indexOf("=");w===-1&&(w=b);var m=w===b?0:4-w%4;return[w,m]}function a(y){var b=o(y),w=b[0],m=b[1];return(w+m)*3/4-m}function u(y,b,w){return(b+w)*3/4-w}function c(y){var b,w=o(y),m=w[0],E=w[1],T=new r(u(y,m,E)),S=0,P=E>0?m-4:m,A;for(A=0;A<P;A+=4)b=e[y.charCodeAt(A)]<<18|e[y.charCodeAt(A+1)]<<12|e[y.charCodeAt(A+2)]<<6|e[y.charCodeAt(A+3)],T[S++]=b>>16&255,T[S++]=b>>8&255,T[S++]=b&255;return E===2&&(b=e[y.charCodeAt(A)]<<2|e[y.charCodeAt(A+1)]>>4,T[S++]=b&255),E===1&&(b=e[y.charCodeAt(A)]<<10|e[y.charCodeAt(A+1)]<<4|e[y.charCodeAt(A+2)]>>2,T[S++]=b>>8&255,T[S++]=b&255),T}function l(y){return t[y>>18&63]+t[y>>12&63]+t[y>>6&63]+t[y&63]}function p(y,b,w){for(var m,E=[],T=b;T<w;T+=3)m=(y[T]<<16&16711680)+(y[T+1]<<8&65280)+(y[T+2]&255),E.push(l(m));return E.join("")}function h(y){for(var b,w=y.length,m=w%3,E=[],T=16383,S=0,P=w-m;S<P;S+=T)E.push(p(y,S,S+T>P?P:S+T));return m===1?(b=y[w-1],E.push(t[b>>2]+t[b<<4&63]+"==")):m===2&&(b=(y[w-2]<<8)+y[w-1],E.push(t[b>>10]+t[b>>4&63]+t[b<<2&63]+"=")),E.join("")}return Zu}function _6(){if(nA)return kc;nA=!0;return kc.read=function(t,e,r,n,i){var s,o,a=i*8-n-1,u=(1<<a)-1,c=u>>1,l=-7,p=r?i-1:0,h=r?-1:1,y=t[e+p];for(p+=h,s=y&(1<<-l)-1,y>>=-l,l+=a;l>0;s=s*256+t[e+p],p+=h,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;l>0;o=o*256+t[e+p],p+=h,l-=8);if(s===0)s=1-c;else{if(s===u)return o?NaN:(y?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-c}return(y?-1:1)*o*Math.pow(2,s-n)},kc.write=function(t,e,r,n,i,s){var o,a,u,c=s*8-i-1,l=(1<<c)-1,p=l>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:s-1,b=n?1:-1,w=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+p>=1?e+=h/u:e+=h*Math.pow(2,1-p),e*u>=2&&(o++,u/=2),o+p>=l?(a=0,o=l):o+p>=1?(a=(e*u-1)*Math.pow(2,i),o=o+p):(a=e*Math.pow(2,p-1)*Math.pow(2,i),o=0));i>=8;t[r+y]=a&255,y+=b,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[r+y]=o&255,y+=b,o/=256,c-=8);t[r+y-b]|=w*128},kc}function w6(){if(iA)return Es;iA=!0;let t=b6(),e=_6(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Es.Buffer=o,Es.SlowBuffer=E,Es.INSPECT_MAX_BYTES=50;let n=2147483647;Es.kMaxLength=n,o.TYPED_ARRAY_SUPPORT=i(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{let _=new Uint8Array(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,Uint8Array.prototype),Object.setPrototypeOf(_,f),_.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function s(_){if(_>n)throw new RangeError('The value "'+_+'" is invalid for option "size"');let f=new Uint8Array(_);return Object.setPrototypeOf(f,o.prototype),f}function o(_,f,d){if(typeof _=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return l(_)}return a(_,f,d)}o.poolSize=8192;function a(_,f,d){if(typeof _=="string")return p(_,f);if(ArrayBuffer.isView(_))return y(_);if(_==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _);if(Re(_,ArrayBuffer)||_&&Re(_.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Re(_,SharedArrayBuffer)||_&&Re(_.buffer,SharedArrayBuffer)))return b(_,f,d);if(typeof _=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let O=_.valueOf&&_.valueOf();if(O!=null&&O!==_)return o.from(O,f,d);let B=w(_);if(B)return B;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof _[Symbol.toPrimitive]=="function")return o.from(_[Symbol.toPrimitive]("string"),f,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _)}o.from=function(_,f,d){return a(_,f,d)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function u(_){if(typeof _!="number")throw new TypeError('"size" argument must be of type number');if(_<0)throw new RangeError('The value "'+_+'" is invalid for option "size"')}function c(_,f,d){return u(_),_<=0?s(_):f!==void 0?typeof d=="string"?s(_).fill(f,d):s(_).fill(f):s(_)}o.alloc=function(_,f,d){return c(_,f,d)};function l(_){return u(_),s(_<0?0:m(_)|0)}o.allocUnsafe=function(_){return l(_)},o.allocUnsafeSlow=function(_){return l(_)};function p(_,f){if((typeof f!="string"||f==="")&&(f="utf8"),!o.isEncoding(f))throw new TypeError("Unknown encoding: "+f);let d=T(_,f)|0,O=s(d),B=O.write(_,f);return B!==d&&(O=O.slice(0,B)),O}function h(_){let f=_.length<0?0:m(_.length)|0,d=s(f);for(let O=0;O<f;O+=1)d[O]=_[O]&255;return d}function y(_){if(Re(_,Uint8Array)){let f=new Uint8Array(_);return b(f.buffer,f.byteOffset,f.byteLength)}return h(_)}function b(_,f,d){if(f<0||_.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(_.byteLength<f+(d||0))throw new RangeError('"length" is outside of buffer bounds');let O;return f===void 0&&d===void 0?O=new Uint8Array(_):d===void 0?O=new Uint8Array(_,f):O=new Uint8Array(_,f,d),Object.setPrototypeOf(O,o.prototype),O}function w(_){if(o.isBuffer(_)){let f=m(_.length)|0,d=s(f);return d.length===0||_.copy(d,0,0,f),d}if(_.length!==void 0)return typeof _.length!="number"||Se(_.length)?s(0):h(_);if(_.type==="Buffer"&&Array.isArray(_.data))return h(_.data)}function m(_){if(_>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return _|0}function E(_){return+_!=_&&(_=0),o.alloc(+_)}o.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==o.prototype},o.compare=function(f,d){if(Re(f,Uint8Array)&&(f=o.from(f,f.offset,f.byteLength)),Re(d,Uint8Array)&&(d=o.from(d,d.offset,d.byteLength)),!o.isBuffer(f)||!o.isBuffer(d))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===d)return 0;let O=f.length,B=d.length;for(let q=0,ee=Math.min(O,B);q<ee;++q)if(f[q]!==d[q]){O=f[q],B=d[q];break}return O<B?-1:B<O?1:0},o.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(f,d){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return o.alloc(0);let O;if(d===void 0)for(d=0,O=0;O<f.length;++O)d+=f[O].length;let B=o.allocUnsafe(d),q=0;for(O=0;O<f.length;++O){let ee=f[O];if(Re(ee,Uint8Array))q+ee.length>B.length?(o.isBuffer(ee)||(ee=o.from(ee)),ee.copy(B,q)):Uint8Array.prototype.set.call(B,ee,q);else if(o.isBuffer(ee))ee.copy(B,q);else throw new TypeError('"list" argument must be an Array of Buffers');q+=ee.length}return B};function T(_,f){if(o.isBuffer(_))return _.length;if(ArrayBuffer.isView(_)||Re(_,ArrayBuffer))return _.byteLength;if(typeof _!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof _);let d=_.length,O=arguments.length>2&&arguments[2]===!0;if(!O&&d===0)return 0;let B=!1;for(;;)switch(f){case"ascii":case"latin1":case"binary":return d;case"utf8":case"utf-8":return ye(_).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d*2;case"hex":return d>>>1;case"base64":return se(_).length;default:if(B)return O?-1:ye(_).length;f=(""+f).toLowerCase(),B=!0}}o.byteLength=T;function S(_,f,d){let O=!1;if((f===void 0||f<0)&&(f=0),f>this.length||((d===void 0||d>this.length)&&(d=this.length),d<=0)||(d>>>=0,f>>>=0,d<=f))return"";for(_||(_="utf8");;)switch(_){case"hex":return Z(this,f,d);case"utf8":case"utf-8":return H(this,f,d);case"ascii":return Te(this,f,d);case"latin1":case"binary":return Ae(this,f,d);case"base64":return Q(this,f,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return we(this,f,d);default:if(O)throw new TypeError("Unknown encoding: "+_);_=(_+"").toLowerCase(),O=!0}}o.prototype._isBuffer=!0;function P(_,f,d){let O=_[f];_[f]=_[d],_[d]=O}o.prototype.swap16=function(){let f=this.length;if(f%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let d=0;d<f;d+=2)P(this,d,d+1);return this},o.prototype.swap32=function(){let f=this.length;if(f%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let d=0;d<f;d+=4)P(this,d,d+3),P(this,d+1,d+2);return this},o.prototype.swap64=function(){let f=this.length;if(f%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let d=0;d<f;d+=8)P(this,d,d+7),P(this,d+1,d+6),P(this,d+2,d+5),P(this,d+3,d+4);return this},o.prototype.toString=function(){let f=this.length;return f===0?"":arguments.length===0?H(this,0,f):S.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(f){if(!o.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:o.compare(this,f)===0},o.prototype.inspect=function(){let f="",d=Es.INSPECT_MAX_BYTES;return f=this.toString("hex",0,d).replace(/(.{2})/g,"$1 ").trim(),this.length>d&&(f+=" ... "),"<Buffer "+f+">"},r&&(o.prototype[r]=o.prototype.inspect),o.prototype.compare=function(f,d,O,B,q){if(Re(f,Uint8Array)&&(f=o.from(f,f.offset,f.byteLength)),!o.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(d===void 0&&(d=0),O===void 0&&(O=f?f.length:0),B===void 0&&(B=0),q===void 0&&(q=this.length),d<0||O>f.length||B<0||q>this.length)throw new RangeError("out of range index");if(B>=q&&d>=O)return 0;if(B>=q)return-1;if(d>=O)return 1;if(d>>>=0,O>>>=0,B>>>=0,q>>>=0,this===f)return 0;let ee=q-B,re=O-d,ue=Math.min(ee,re),Le=this.slice(B,q),ke=f.slice(d,O);for(let je=0;je<ue;++je)if(Le[je]!==ke[je]){ee=Le[je],re=ke[je];break}return ee<re?-1:re<ee?1:0};function A(_,f,d,O,B){if(_.length===0)return-1;if(typeof d=="string"?(O=d,d=0):d>2147483647?d=2147483647:d<-2147483648&&(d=-2147483648),d=+d,Se(d)&&(d=B?0:_.length-1),d<0&&(d=_.length+d),d>=_.length){if(B)return-1;d=_.length-1}else if(d<0)if(B)d=0;else return-1;if(typeof f=="string"&&(f=o.from(f,O)),o.isBuffer(f))return f.length===0?-1:N(_,f,d,O,B);if(typeof f=="number")return f=f&255,typeof Uint8Array.prototype.indexOf=="function"?B?Uint8Array.prototype.indexOf.call(_,f,d):Uint8Array.prototype.lastIndexOf.call(_,f,d):N(_,[f],d,O,B);throw new TypeError("val must be string, number or Buffer")}function N(_,f,d,O,B){let q=1,ee=_.length,re=f.length;if(O!==void 0&&(O=String(O).toLowerCase(),O==="ucs2"||O==="ucs-2"||O==="utf16le"||O==="utf-16le")){if(_.length<2||f.length<2)return-1;q=2,ee/=2,re/=2,d/=2}function ue(ke,je){return q===1?ke[je]:ke.readUInt16BE(je*q)}let Le;if(B){let ke=-1;for(Le=d;Le<ee;Le++)if(ue(_,Le)===ue(f,ke===-1?0:Le-ke)){if(ke===-1&&(ke=Le),Le-ke+1===re)return ke*q}else ke!==-1&&(Le-=Le-ke),ke=-1}else for(d+re>ee&&(d=ee-re),Le=d;Le>=0;Le--){let ke=!0;for(let je=0;je<re;je++)if(ue(_,Le+je)!==ue(f,je)){ke=!1;break}if(ke)return Le}return-1}o.prototype.includes=function(f,d,O){return this.indexOf(f,d,O)!==-1},o.prototype.indexOf=function(f,d,O){return A(this,f,d,O,!0)},o.prototype.lastIndexOf=function(f,d,O){return A(this,f,d,O,!1)};function C(_,f,d,O){d=Number(d)||0;let B=_.length-d;O?(O=Number(O),O>B&&(O=B)):O=B;let q=f.length;O>q/2&&(O=q/2);let ee;for(ee=0;ee<O;++ee){let re=parseInt(f.substr(ee*2,2),16);if(Se(re))return ee;_[d+ee]=re}return ee}function W(_,f,d,O){return Ee(ye(f,_.length-d),_,d,O)}function z(_,f,d,O){return Ee(le(f),_,d,O)}function j(_,f,d,O){return Ee(se(f),_,d,O)}function ne(_,f,d,O){return Ee(J(f,_.length-d),_,d,O)}o.prototype.write=function(f,d,O,B){if(d===void 0)B="utf8",O=this.length,d=0;else if(O===void 0&&typeof d=="string")B=d,O=this.length,d=0;else if(isFinite(d))d=d>>>0,isFinite(O)?(O=O>>>0,B===void 0&&(B="utf8")):(B=O,O=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let q=this.length-d;if((O===void 0||O>q)&&(O=q),f.length>0&&(O<0||d<0)||d>this.length)throw new RangeError("Attempt to write outside buffer bounds");B||(B="utf8");let ee=!1;for(;;)switch(B){case"hex":return C(this,f,d,O);case"utf8":case"utf-8":return W(this,f,d,O);case"ascii":case"latin1":case"binary":return z(this,f,d,O);case"base64":return j(this,f,d,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne(this,f,d,O);default:if(ee)throw new TypeError("Unknown encoding: "+B);B=(""+B).toLowerCase(),ee=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Q(_,f,d){return f===0&&d===_.length?t.fromByteArray(_):t.fromByteArray(_.slice(f,d))}function H(_,f,d){d=Math.min(_.length,d);let O=[],B=f;for(;B<d;){let q=_[B],ee=null,re=q>239?4:q>223?3:q>191?2:1;if(B+re<=d){let ue,Le,ke,je;switch(re){case 1:q<128&&(ee=q);break;case 2:ue=_[B+1],(ue&192)===128&&(je=(q&31)<<6|ue&63,je>127&&(ee=je));break;case 3:ue=_[B+1],Le=_[B+2],(ue&192)===128&&(Le&192)===128&&(je=(q&15)<<12|(ue&63)<<6|Le&63,je>2047&&(je<55296||je>57343)&&(ee=je));break;case 4:ue=_[B+1],Le=_[B+2],ke=_[B+3],(ue&192)===128&&(Le&192)===128&&(ke&192)===128&&(je=(q&15)<<18|(ue&63)<<12|(Le&63)<<6|ke&63,je>65535&&je<1114112&&(ee=je))}}ee===null?(ee=65533,re=1):ee>65535&&(ee-=65536,O.push(ee>>>10&1023|55296),ee=56320|ee&1023),O.push(ee),B+=re}return me(O)}let fe=4096;function me(_){let f=_.length;if(f<=fe)return String.fromCharCode.apply(String,_);let d="",O=0;for(;O<f;)d+=String.fromCharCode.apply(String,_.slice(O,O+=fe));return d}function Te(_,f,d){let O="";d=Math.min(_.length,d);for(let B=f;B<d;++B)O+=String.fromCharCode(_[B]&127);return O}function Ae(_,f,d){let O="";d=Math.min(_.length,d);for(let B=f;B<d;++B)O+=String.fromCharCode(_[B]);return O}function Z(_,f,d){let O=_.length;(!f||f<0)&&(f=0),(!d||d<0||d>O)&&(d=O);let B="";for(let q=f;q<d;++q)B+=Ge[_[q]];return B}function we(_,f,d){let O=_.slice(f,d),B="";for(let q=0;q<O.length-1;q+=2)B+=String.fromCharCode(O[q]+O[q+1]*256);return B}o.prototype.slice=function(f,d){let O=this.length;f=~~f,d=d===void 0?O:~~d,f<0?(f+=O,f<0&&(f=0)):f>O&&(f=O),d<0?(d+=O,d<0&&(d=0)):d>O&&(d=O),d<f&&(d=f);let B=this.subarray(f,d);return Object.setPrototypeOf(B,o.prototype),B};function D(_,f,d){if(_%1!==0||_<0)throw new RangeError("offset is not uint");if(_+f>d)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(f,d,O){f=f>>>0,d=d>>>0,O||D(f,d,this.length);let B=this[f],q=1,ee=0;for(;++ee<d&&(q*=256);)B+=this[f+ee]*q;return B},o.prototype.readUintBE=o.prototype.readUIntBE=function(f,d,O){f=f>>>0,d=d>>>0,O||D(f,d,this.length);let B=this[f+--d],q=1;for(;d>0&&(q*=256);)B+=this[f+--d]*q;return B},o.prototype.readUint8=o.prototype.readUInt8=function(f,d){return f=f>>>0,d||D(f,1,this.length),this[f]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(f,d){return f=f>>>0,d||D(f,2,this.length),this[f]|this[f+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(f,d){return f=f>>>0,d||D(f,2,this.length),this[f]<<8|this[f+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(f,d){return f=f>>>0,d||D(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(f,d){return f=f>>>0,d||D(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},o.prototype.readBigUInt64LE=Ve(function(f){f=f>>>0,$(f,"offset");let d=this[f],O=this[f+7];(d===void 0||O===void 0)&&v(f,this.length-8);let B=d+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24,q=this[++f]+this[++f]*2**8+this[++f]*2**16+O*2**24;return BigInt(B)+(BigInt(q)<<BigInt(32))}),o.prototype.readBigUInt64BE=Ve(function(f){f=f>>>0,$(f,"offset");let d=this[f],O=this[f+7];(d===void 0||O===void 0)&&v(f,this.length-8);let B=d*2**24+this[++f]*2**16+this[++f]*2**8+this[++f],q=this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+O;return(BigInt(B)<<BigInt(32))+BigInt(q)}),o.prototype.readIntLE=function(f,d,O){f=f>>>0,d=d>>>0,O||D(f,d,this.length);let B=this[f],q=1,ee=0;for(;++ee<d&&(q*=256);)B+=this[f+ee]*q;return q*=128,B>=q&&(B-=Math.pow(2,8*d)),B},o.prototype.readIntBE=function(f,d,O){f=f>>>0,d=d>>>0,O||D(f,d,this.length);let B=d,q=1,ee=this[f+--B];for(;B>0&&(q*=256);)ee+=this[f+--B]*q;return q*=128,ee>=q&&(ee-=Math.pow(2,8*d)),ee},o.prototype.readInt8=function(f,d){return f=f>>>0,d||D(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},o.prototype.readInt16LE=function(f,d){f=f>>>0,d||D(f,2,this.length);let O=this[f]|this[f+1]<<8;return O&32768?O|4294901760:O},o.prototype.readInt16BE=function(f,d){f=f>>>0,d||D(f,2,this.length);let O=this[f+1]|this[f]<<8;return O&32768?O|4294901760:O},o.prototype.readInt32LE=function(f,d){return f=f>>>0,d||D(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},o.prototype.readInt32BE=function(f,d){return f=f>>>0,d||D(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},o.prototype.readBigInt64LE=Ve(function(f){f=f>>>0,$(f,"offset");let d=this[f],O=this[f+7];(d===void 0||O===void 0)&&v(f,this.length-8);let B=this[f+4]+this[f+5]*2**8+this[f+6]*2**16+(O<<24);return(BigInt(B)<<BigInt(32))+BigInt(d+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24)}),o.prototype.readBigInt64BE=Ve(function(f){f=f>>>0,$(f,"offset");let d=this[f],O=this[f+7];(d===void 0||O===void 0)&&v(f,this.length-8);let B=(d<<24)+this[++f]*2**16+this[++f]*2**8+this[++f];return(BigInt(B)<<BigInt(32))+BigInt(this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+O)}),o.prototype.readFloatLE=function(f,d){return f=f>>>0,d||D(f,4,this.length),e.read(this,f,!0,23,4)},o.prototype.readFloatBE=function(f,d){return f=f>>>0,d||D(f,4,this.length),e.read(this,f,!1,23,4)},o.prototype.readDoubleLE=function(f,d){return f=f>>>0,d||D(f,8,this.length),e.read(this,f,!0,52,8)},o.prototype.readDoubleBE=function(f,d){return f=f>>>0,d||D(f,8,this.length),e.read(this,f,!1,52,8)};function ae(_,f,d,O,B,q){if(!o.isBuffer(_))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>B||f<q)throw new RangeError('"value" argument is out of bounds');if(d+O>_.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(f,d,O,B){if(f=+f,d=d>>>0,O=O>>>0,!B){let re=Math.pow(2,8*O)-1;ae(this,f,d,O,re,0)}let q=1,ee=0;for(this[d]=f&255;++ee<O&&(q*=256);)this[d+ee]=f/q&255;return d+O},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(f,d,O,B){if(f=+f,d=d>>>0,O=O>>>0,!B){let re=Math.pow(2,8*O)-1;ae(this,f,d,O,re,0)}let q=O-1,ee=1;for(this[d+q]=f&255;--q>=0&&(ee*=256);)this[d+q]=f/ee&255;return d+O},o.prototype.writeUint8=o.prototype.writeUInt8=function(f,d,O){return f=+f,d=d>>>0,O||ae(this,f,d,1,255,0),this[d]=f&255,d+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(f,d,O){return f=+f,d=d>>>0,O||ae(this,f,d,2,65535,0),this[d]=f&255,this[d+1]=f>>>8,d+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(f,d,O){return f=+f,d=d>>>0,O||ae(this,f,d,2,65535,0),this[d]=f>>>8,this[d+1]=f&255,d+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(f,d,O){return f=+f,d=d>>>0,O||ae(this,f,d,4,4294967295,0),this[d+3]=f>>>24,this[d+2]=f>>>16,this[d+1]=f>>>8,this[d]=f&255,d+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(f,d,O){return f=+f,d=d>>>0,O||ae(this,f,d,4,4294967295,0),this[d]=f>>>24,this[d+1]=f>>>16,this[d+2]=f>>>8,this[d+3]=f&255,d+4};function Y(_,f,d,O,B){he(f,O,B,_,d,7);let q=Number(f&BigInt(4294967295));_[d++]=q,q=q>>8,_[d++]=q,q=q>>8,_[d++]=q,q=q>>8,_[d++]=q;let ee=Number(f>>BigInt(32)&BigInt(4294967295));return _[d++]=ee,ee=ee>>8,_[d++]=ee,ee=ee>>8,_[d++]=ee,ee=ee>>8,_[d++]=ee,d}function F(_,f,d,O,B){he(f,O,B,_,d,7);let q=Number(f&BigInt(4294967295));_[d+7]=q,q=q>>8,_[d+6]=q,q=q>>8,_[d+5]=q,q=q>>8,_[d+4]=q;let ee=Number(f>>BigInt(32)&BigInt(4294967295));return _[d+3]=ee,ee=ee>>8,_[d+2]=ee,ee=ee>>8,_[d+1]=ee,ee=ee>>8,_[d]=ee,d+8}o.prototype.writeBigUInt64LE=Ve(function(f,d=0){return Y(this,f,d,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Ve(function(f,d=0){return F(this,f,d,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(f,d,O,B){if(f=+f,d=d>>>0,!B){let ue=Math.pow(2,8*O-1);ae(this,f,d,O,ue-1,-ue)}let q=0,ee=1,re=0;for(this[d]=f&255;++q<O&&(ee*=256);)f<0&&re===0&&this[d+q-1]!==0&&(re=1),this[d+q]=(f/ee>>0)-re&255;return d+O},o.prototype.writeIntBE=function(f,d,O,B){if(f=+f,d=d>>>0,!B){let ue=Math.pow(2,8*O-1);ae(this,f,d,O,ue-1,-ue)}let q=O-1,ee=1,re=0;for(this[d+q]=f&255;--q>=0&&(ee*=256);)f<0&&re===0&&this[d+q+1]!==0&&(re=1),this[d+q]=(f/ee>>0)-re&255;return d+O},o.prototype.writeInt8=function(f,d,O){return f=+f,d=d>>>0,O||ae(this,f,d,1,127,-128),f<0&&(f=255+f+1),this[d]=f&255,d+1},o.prototype.writeInt16LE=function(f,d,O){return f=+f,d=d>>>0,O||ae(this,f,d,2,32767,-32768),this[d]=f&255,this[d+1]=f>>>8,d+2},o.prototype.writeInt16BE=function(f,d,O){return f=+f,d=d>>>0,O||ae(this,f,d,2,32767,-32768),this[d]=f>>>8,this[d+1]=f&255,d+2},o.prototype.writeInt32LE=function(f,d,O){return f=+f,d=d>>>0,O||ae(this,f,d,4,2147483647,-2147483648),this[d]=f&255,this[d+1]=f>>>8,this[d+2]=f>>>16,this[d+3]=f>>>24,d+4},o.prototype.writeInt32BE=function(f,d,O){return f=+f,d=d>>>0,O||ae(this,f,d,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[d]=f>>>24,this[d+1]=f>>>16,this[d+2]=f>>>8,this[d+3]=f&255,d+4},o.prototype.writeBigInt64LE=Ve(function(f,d=0){return Y(this,f,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Ve(function(f,d=0){return F(this,f,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function te(_,f,d,O,B,q){if(d+O>_.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("Index out of range")}function pe(_,f,d,O,B){return f=+f,d=d>>>0,B||te(_,f,d,4),e.write(_,f,d,O,23,4),d+4}o.prototype.writeFloatLE=function(f,d,O){return pe(this,f,d,!0,O)},o.prototype.writeFloatBE=function(f,d,O){return pe(this,f,d,!1,O)};function Ie(_,f,d,O,B){return f=+f,d=d>>>0,B||te(_,f,d,8),e.write(_,f,d,O,52,8),d+8}o.prototype.writeDoubleLE=function(f,d,O){return Ie(this,f,d,!0,O)},o.prototype.writeDoubleBE=function(f,d,O){return Ie(this,f,d,!1,O)},o.prototype.copy=function(f,d,O,B){if(!o.isBuffer(f))throw new TypeError("argument should be a Buffer");if(O||(O=0),!B&&B!==0&&(B=this.length),d>=f.length&&(d=f.length),d||(d=0),B>0&&B<O&&(B=O),B===O||f.length===0||this.length===0)return 0;if(d<0)throw new RangeError("targetStart out of bounds");if(O<0||O>=this.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("sourceEnd out of bounds");B>this.length&&(B=this.length),f.length-d<B-O&&(B=f.length-d+O);let q=B-O;return this===f&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(d,O,B):Uint8Array.prototype.set.call(f,this.subarray(O,B),d),q},o.prototype.fill=function(f,d,O,B){if(typeof f=="string"){if(typeof d=="string"?(B=d,d=0,O=this.length):typeof O=="string"&&(B=O,O=this.length),B!==void 0&&typeof B!="string")throw new TypeError("encoding must be a string");if(typeof B=="string"&&!o.isEncoding(B))throw new TypeError("Unknown encoding: "+B);if(f.length===1){let ee=f.charCodeAt(0);(B==="utf8"&&ee<128||B==="latin1")&&(f=ee)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(d<0||this.length<d||this.length<O)throw new RangeError("Out of range index");if(O<=d)return this;d=d>>>0,O=O===void 0?this.length:O>>>0,f||(f=0);let q;if(typeof f=="number")for(q=d;q<O;++q)this[q]=f;else{let ee=o.isBuffer(f)?f:o.from(f,B),re=ee.length;if(re===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(q=0;q<O-d;++q)this[q+d]=ee[q%re]}return this};let M={};function I(_,f,d){M[_]=class extends d{constructor(){super(),Object.defineProperty(this,"message",{value:f.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${_}]`,this.stack,delete this.name}get code(){return _}set code(B){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:B,writable:!0})}toString(){return`${this.name} [${_}]: ${this.message}`}}}I("ERR_BUFFER_OUT_OF_BOUNDS",function(_){return _?`${_} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),I("ERR_INVALID_ARG_TYPE",function(_,f){return`The "${_}" argument must be of type number. Received type ${typeof f}`},TypeError),I("ERR_OUT_OF_RANGE",function(_,f,d){let O=`The value of "${_}" is out of range.`,B=d;return Number.isInteger(d)&&Math.abs(d)>2**32?B=k(String(d)):typeof d=="bigint"&&(B=String(d),(d>BigInt(2)**BigInt(32)||d<-(BigInt(2)**BigInt(32)))&&(B=k(B)),B+="n"),O+=` It must be ${f}. Received ${B}`,O},RangeError);function k(_){let f="",d=_.length,O=_[0]==="-"?1:0;for(;d>=O+4;d-=3)f=`_${_.slice(d-3,d)}${f}`;return`${_.slice(0,d)}${f}`}function ie(_,f,d){$(f,"offset"),(_[f]===void 0||_[f+d]===void 0)&&v(f,_.length-(d+1))}function he(_,f,d,O,B,q){if(_>d||_<f){let ee=typeof f=="bigint"?"n":"",re;throw f===0||f===BigInt(0)?re=`>= 0${ee} and < 2${ee} ** ${(q+1)*8}${ee}`:re=`>= -(2${ee} ** ${(q+1)*8-1}${ee}) and < 2 ** ${(q+1)*8-1}${ee}`,new M.ERR_OUT_OF_RANGE("value",re,_)}ie(O,B,q)}function $(_,f){if(typeof _!="number")throw new M.ERR_INVALID_ARG_TYPE(f,"number",_)}function v(_,f,d){throw Math.floor(_)!==_?($(_,d),new M.ERR_OUT_OF_RANGE("offset","an integer",_)):f<0?new M.ERR_BUFFER_OUT_OF_BOUNDS:new M.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${f}`,_)}let L=/[^+/0-9A-Za-z-_]/g;function V(_){if(_=_.split("=")[0],_=_.trim().replace(L,""),_.length<2)return"";for(;_.length%4!==0;)_=_+"=";return _}function ye(_,f){f=f||1/0;let d,O=_.length,B=null,q=[];for(let ee=0;ee<O;++ee){if(d=_.charCodeAt(ee),d>55295&&d<57344){if(!B){if(d>56319){(f-=3)>-1&&q.push(239,191,189);continue}else if(ee+1===O){(f-=3)>-1&&q.push(239,191,189);continue}B=d;continue}if(d<56320){(f-=3)>-1&&q.push(239,191,189),B=d;continue}d=(B-55296<<10|d-56320)+65536}else B&&(f-=3)>-1&&q.push(239,191,189);if(B=null,d<128){if((f-=1)<0)break;q.push(d)}else if(d<2048){if((f-=2)<0)break;q.push(d>>6|192,d&63|128)}else if(d<65536){if((f-=3)<0)break;q.push(d>>12|224,d>>6&63|128,d&63|128)}else if(d<1114112){if((f-=4)<0)break;q.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw new Error("Invalid code point")}return q}function le(_){let f=[];for(let d=0;d<_.length;++d)f.push(_.charCodeAt(d)&255);return f}function J(_,f){let d,O,B,q=[];for(let ee=0;ee<_.length&&!((f-=2)<0);++ee)d=_.charCodeAt(ee),O=d>>8,B=d%256,q.push(B),q.push(O);return q}function se(_){return t.toByteArray(V(_))}function Ee(_,f,d,O){let B;for(B=0;B<O&&!(B+d>=f.length||B>=_.length);++B)f[B+d]=_[B];return B}function Re(_,f){return _ instanceof f||_!=null&&_.constructor!=null&&_.constructor.name!=null&&_.constructor.name===f.name}function Se(_){return _!==_}let Ge=function(){let _="0123456789abcdef",f=new Array(256);for(let d=0;d<16;++d){let O=d*16;for(let B=0;B<16;++B)f[O+B]=_[d]+_[B]}return f}();function Ve(_){return typeof BigInt>"u"?Ke:_}function Ke(){throw new Error("BigInt not supported")}return Es}function Io(){return oA||(oA=!0,typeof Object.create=="function"?Dc=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Dc=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),Dc}function PA(){return sA||(sA=!0,wm=Er.EventEmitter),wm}function v6(){if(aA)return vm;aA=!0;function t(h,y){var b=Object.keys(h);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(h);y&&(w=w.filter(function(m){return Object.getOwnPropertyDescriptor(h,m).enumerable})),b.push.apply(b,w)}return b}function e(h){for(var y=1;y<arguments.length;y++){var b=arguments[y]!=null?arguments[y]:{};y%2?t(Object(b),!0).forEach(function(w){r(h,w,b[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(b)):t(Object(b)).forEach(function(w){Object.defineProperty(h,w,Object.getOwnPropertyDescriptor(b,w))})}return h}function r(h,y,b){return y in h?Object.defineProperty(h,y,{value:b,enumerable:!0,configurable:!0,writable:!0}):h[y]=b,h}function n(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")}function i(h,y){for(var b=0;b<y.length;b++){var w=y[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}}function s(h,y,b){return y&&i(h.prototype,y),h}var o=Vi,a=o.Buffer,u=Oe,c=u.inspect,l=c&&c.custom||"inspect";function p(h,y,b){a.prototype.copy.call(h,y,b)}return vm=function(){function h(){n(this,h),this.head=null,this.tail=null,this.length=0}return s(h,[{key:"push",value:function(b){var w={data:b,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length}},{key:"unshift",value:function(b){var w={data:b,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length}},{key:"shift",value:function(){if(this.length!==0){var b=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,b}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(b){if(this.length===0)return"";for(var w=this.head,m=""+w.data;w=w.next;)m+=b+w.data;return m}},{key:"concat",value:function(b){if(this.length===0)return a.alloc(0);for(var w=a.allocUnsafe(b>>>0),m=this.head,E=0;m;)p(m.data,w,E),E+=m.data.length,m=m.next;return w}},{key:"consume",value:function(b,w){var m;return b<this.head.data.length?(m=this.head.data.slice(0,b),this.head.data=this.head.data.slice(b)):b===this.head.data.length?m=this.shift():m=w?this._getString(b):this._getBuffer(b),m}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(b){var w=this.head,m=1,E=w.data;for(b-=E.length;w=w.next;){var T=w.data,S=b>T.length?T.length:b;if(S===T.length?E+=T:E+=T.slice(0,b),b-=S,b===0){S===T.length?(++m,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=T.slice(S));break}++m}return this.length-=m,E}},{key:"_getBuffer",value:function(b){var w=a.allocUnsafe(b),m=this.head,E=1;for(m.data.copy(w),b-=m.data.length;m=m.next;){var T=m.data,S=b>T.length?T.length:b;if(T.copy(w,w.length-b,0,S),b-=S,b===0){S===T.length?(++E,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=T.slice(S));break}++E}return this.length-=E,w}},{key:l,value:function(b,w){return c(this,e({},w,{depth:0,customInspect:!1}))}}]),h}(),vm}function IA(){if(uA)return Em;uA=!0;var t=St;function e(a,u){var c=this,l=this._readableState&&this._readableState.destroyed,p=this._writableState&&this._writableState.destroyed;return l||p?(u?u(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(s,this,a)):t.nextTick(s,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(h){!u&&h?c._writableState?c._writableState.errorEmitted?t.nextTick(n,c):(c._writableState.errorEmitted=!0,t.nextTick(r,c,h)):t.nextTick(r,c,h):u?(t.nextTick(n,c),u(h)):t.nextTick(n,c)}),this)}function r(a,u){s(a,u),n(a)}function n(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(a,u){a.emit("error",u)}function o(a,u){var c=a._readableState,l=a._writableState;c&&c.autoDestroy||l&&l.autoDestroy?a.destroy(u):a.emit("error",u)}return Em={destroy:e,undestroy:i,errorOrDestroy:o},Em}function Ra(){if(fA)return Sm;fA=!0;let t={};function e(o,a,u){u||(u=Error);function c(p,h,y){return typeof a=="string"?a:a(p,h,y)}class l extends u{constructor(h,y,b){super(c(h,y,b))}}l.prototype.name=u.name,l.prototype.code=o,t[o]=l}function r(o,a){if(Array.isArray(o)){let u=o.length;return o=o.map(c=>String(c)),u>2?`one of ${a} ${o.slice(0,u-1).join(", ")}, or `+o[u-1]:u===2?`one of ${a} ${o[0]} or ${o[1]}`:`of ${a} ${o[0]}`}else return`of ${a} ${String(o)}`}function n(o,a,u){return o.substr(0,a.length)===a}function i(o,a,u){return(u===void 0||u>o.length)&&(u=o.length),o.substring(u-a.length,u)===a}function s(o,a,u){return typeof u!="number"&&(u=0),u+a.length>o.length?!1:o.indexOf(a,u)!==-1}return e("ERR_INVALID_OPT_VALUE",function(o,a){return'The value "'+a+'" is invalid for option "'+o+'"'},TypeError),e("ERR_INVALID_ARG_TYPE",function(o,a,u){let c;typeof a=="string"&&n(a,"not ")?(c="must not be",a=a.replace(/^not /,"")):c="must be";let l;if(i(o," argument"))l=`The ${o} ${c} ${r(a,"type")}`;else{let p=s(o,".")?"property":"argument";l=`The "${o}" ${p} ${c} ${r(a,"type")}`}return l+=`. Received type ${typeof u}`,l},TypeError),e("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),e("ERR_METHOD_NOT_IMPLEMENTED",function(o){return"The "+o+" method is not implemented"}),e("ERR_STREAM_PREMATURE_CLOSE","Premature close"),e("ERR_STREAM_DESTROYED",function(o){return"Cannot call "+o+" after a stream was destroyed"}),e("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),e("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),e("ERR_STREAM_WRITE_AFTER_END","write after end"),e("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),e("ERR_UNKNOWN_ENCODING",function(o){return"Unknown encoding: "+o},TypeError),e("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Sm.codes=t,Sm}function CA(){if(lA)return Tm;lA=!0;var t=Ra().codes.ERR_INVALID_OPT_VALUE;function e(n,i,s){return n.highWaterMark!=null?n.highWaterMark:i?n[s]:null}function r(n,i,s,o){var a=e(i,o,s);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var u=o?s:"highWaterMark";throw new t(u,a)}return Math.floor(a)}return n.objectMode?16:16*1024}return Tm={getHighWaterMark:r},Tm}function E6(){if(cA)return Am;cA=!0,Am=t;function t(r,n){if(e("noDeprecation"))return r;var i=!1;function s(){if(!i){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this||$m,arguments)}return s}function e(r){try{if(!$m.localStorage)return!1}catch{return!1}var n=$m.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return Am}function Wm(){if(dA)return Rm;dA=!0;var t=St;Rm=z;function e(M){var I=this;this.next=null,this.entry=null,this.finish=function(){Ie(I,M)}}var r;z.WritableState=C;var n={deprecate:E6()},i=PA(),s=Vi.Buffer,o=S6.Uint8Array||function(){};function a(M){return s.from(M)}function u(M){return s.isBuffer(M)||M instanceof o}var c=IA(),l=CA(),p=l.getHighWaterMark,h=Ra().codes,y=h.ERR_INVALID_ARG_TYPE,b=h.ERR_METHOD_NOT_IMPLEMENTED,w=h.ERR_MULTIPLE_CALLBACK,m=h.ERR_STREAM_CANNOT_PIPE,E=h.ERR_STREAM_DESTROYED,T=h.ERR_STREAM_NULL_VALUES,S=h.ERR_STREAM_WRITE_AFTER_END,P=h.ERR_UNKNOWN_ENCODING,A=c.errorOrDestroy;Io()(z,i);function N(){}function C(M,I,k){r=r||Ss(),M=M||{},typeof k!="boolean"&&(k=I instanceof r),this.objectMode=!!M.objectMode,k&&(this.objectMode=this.objectMode||!!M.writableObjectMode),this.highWaterMark=p(this,M,"writableHighWaterMark",k),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ie=M.decodeStrings===!1;this.decodeStrings=!ie,this.defaultEncoding=M.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(he){Ae(I,he)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=M.emitClose!==!1,this.autoDestroy=!!M.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}C.prototype.getBuffer=function(){for(var I=this.bufferedRequest,k=[];I;)k.push(I),I=I.next;return k},function(){try{Object.defineProperty(C.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var W;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(W=Function.prototype[Symbol.hasInstance],Object.defineProperty(z,Symbol.hasInstance,{value:function(I){return W.call(this,I)?!0:this!==z?!1:I&&I._writableState instanceof C}})):W=function(I){return I instanceof this};function z(M){r=r||Ss();var I=this instanceof r;if(!I&&!W.call(z,this))return new z(M);this._writableState=new C(M,this,I),this.writable=!0,M&&(typeof M.write=="function"&&(this._write=M.write),typeof M.writev=="function"&&(this._writev=M.writev),typeof M.destroy=="function"&&(this._destroy=M.destroy),typeof M.final=="function"&&(this._final=M.final)),i.call(this)}z.prototype.pipe=function(){A(this,new m)};function j(M,I){var k=new S;A(M,k),t.nextTick(I,k)}function ne(M,I,k,ie){var he;return k===null?he=new T:typeof k!="string"&&!I.objectMode&&(he=new y("chunk",["string","Buffer"],k)),he?(A(M,he),t.nextTick(ie,he),!1):!0}z.prototype.write=function(M,I,k){var ie=this._writableState,he=!1,$=!ie.objectMode&&u(M);return $&&!s.isBuffer(M)&&(M=a(M)),typeof I=="function"&&(k=I,I=null),$?I="buffer":I||(I=ie.defaultEncoding),typeof k!="function"&&(k=N),ie.ending?j(this,k):($||ne(this,ie,M,k))&&(ie.pendingcb++,he=H(this,ie,$,M,I,k)),he},z.prototype.cork=function(){this._writableState.corked++},z.prototype.uncork=function(){var M=this._writableState;M.corked&&(M.corked--,!M.writing&&!M.corked&&!M.bufferProcessing&&M.bufferedRequest&&D(this,M))},z.prototype.setDefaultEncoding=function(I){if(typeof I=="string"&&(I=I.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((I+"").toLowerCase())>-1))throw new P(I);return this._writableState.defaultEncoding=I,this},Object.defineProperty(z.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Q(M,I,k){return!M.objectMode&&M.decodeStrings!==!1&&typeof I=="string"&&(I=s.from(I,k)),I}Object.defineProperty(z.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function H(M,I,k,ie,he,$){if(!k){var v=Q(I,ie,he);ie!==v&&(k=!0,he="buffer",ie=v)}var L=I.objectMode?1:ie.length;I.length+=L;var V=I.length<I.highWaterMark;if(V||(I.needDrain=!0),I.writing||I.corked){var ye=I.lastBufferedRequest;I.lastBufferedRequest={chunk:ie,encoding:he,isBuf:k,callback:$,next:null},ye?ye.next=I.lastBufferedRequest:I.bufferedRequest=I.lastBufferedRequest,I.bufferedRequestCount+=1}else fe(M,I,!1,L,ie,he,$);return V}function fe(M,I,k,ie,he,$,v){I.writelen=ie,I.writecb=v,I.writing=!0,I.sync=!0,I.destroyed?I.onwrite(new E("write")):k?M._writev(he,I.onwrite):M._write(he,$,I.onwrite),I.sync=!1}function me(M,I,k,ie,he){--I.pendingcb,k?(t.nextTick(he,ie),t.nextTick(te,M,I),M._writableState.errorEmitted=!0,A(M,ie)):(he(ie),M._writableState.errorEmitted=!0,A(M,ie),te(M,I))}function Te(M){M.writing=!1,M.writecb=null,M.length-=M.writelen,M.writelen=0}function Ae(M,I){var k=M._writableState,ie=k.sync,he=k.writecb;if(typeof he!="function")throw new w;if(Te(k),I)me(M,k,ie,I,he);else{var $=ae(k)||M.destroyed;!$&&!k.corked&&!k.bufferProcessing&&k.bufferedRequest&&D(M,k),ie?t.nextTick(Z,M,k,$,he):Z(M,k,$,he)}}function Z(M,I,k,ie){k||we(M,I),I.pendingcb--,ie(),te(M,I)}function we(M,I){I.length===0&&I.needDrain&&(I.needDrain=!1,M.emit("drain"))}function D(M,I){I.bufferProcessing=!0;var k=I.bufferedRequest;if(M._writev&&k&&k.next){var ie=I.bufferedRequestCount,he=new Array(ie),$=I.corkedRequestsFree;$.entry=k;for(var v=0,L=!0;k;)he[v]=k,k.isBuf||(L=!1),k=k.next,v+=1;he.allBuffers=L,fe(M,I,!0,I.length,he,"",$.finish),I.pendingcb++,I.lastBufferedRequest=null,$.next?(I.corkedRequestsFree=$.next,$.next=null):I.corkedRequestsFree=new e(I),I.bufferedRequestCount=0}else{for(;k;){var V=k.chunk,ye=k.encoding,le=k.callback,J=I.objectMode?1:V.length;if(fe(M,I,!1,J,V,ye,le),k=k.next,I.bufferedRequestCount--,I.writing)break}k===null&&(I.lastBufferedRequest=null)}I.bufferedRequest=k,I.bufferProcessing=!1}z.prototype._write=function(M,I,k){k(new b("_write()"))},z.prototype._writev=null,z.prototype.end=function(M,I,k){var ie=this._writableState;return typeof M=="function"?(k=M,M=null,I=null):typeof I=="function"&&(k=I,I=null),M!=null&&this.write(M,I),ie.corked&&(ie.corked=1,this.uncork()),ie.ending||pe(this,ie,k),this},Object.defineProperty(z.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ae(M){return M.ending&&M.length===0&&M.bufferedRequest===null&&!M.finished&&!M.writing}function Y(M,I){M._final(function(k){I.pendingcb--,k&&A(M,k),I.prefinished=!0,M.emit("prefinish"),te(M,I)})}function F(M,I){!I.prefinished&&!I.finalCalled&&(typeof M._final=="function"&&!I.destroyed?(I.pendingcb++,I.finalCalled=!0,t.nextTick(Y,M,I)):(I.prefinished=!0,M.emit("prefinish")))}function te(M,I){var k=ae(I);if(k&&(F(M,I),I.pendingcb===0&&(I.finished=!0,M.emit("finish"),I.autoDestroy))){var ie=M._readableState;(!ie||ie.autoDestroy&&ie.endEmitted)&&M.destroy()}return k}function pe(M,I,k){I.ending=!0,te(M,I),k&&(I.finished?t.nextTick(k):M.once("finish",k)),I.ended=!0,M.writable=!1}function Ie(M,I,k){var ie=M.entry;for(M.entry=null;ie;){var he=ie.callback;I.pendingcb--,he(k),ie=ie.next}I.corkedRequestsFree.next=M}return Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(I){this._writableState&&(this._writableState.destroyed=I)}}),z.prototype.destroy=c.destroy,z.prototype._undestroy=c.undestroy,z.prototype._destroy=function(M,I){I(M)},Rm}function Ss(){if(hA)return Om;hA=!0;var t=St,e=Object.keys||function(l){var p=[];for(var h in l)p.push(h);return p};Om=a;var r=Hm(),n=Wm();Io()(a,r);for(var i=e(n.prototype),s=0;s<i.length;s++){var o=i[s];a.prototype[o]||(a.prototype[o]=n.prototype[o])}function a(l){if(!(this instanceof a))return new a(l);r.call(this,l),n.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",u)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function u(){this._writableState.ended||t.nextTick(c,this)}function c(l){l.end()}return Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),Om}function Hc(){if(pA)return Pm;pA=!0;var t=Ra().codes.ERR_STREAM_PREMATURE_CLOSE;function e(s){var o=!1;return function(){if(!o){o=!0;for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];s.apply(this,u)}}}function r(){}function n(s){return s.setHeader&&typeof s.abort=="function"}function i(s,o,a){if(typeof o=="function")return i(s,null,o);o||(o={}),a=e(a||r);var u=o.readable||o.readable!==!1&&s.readable,c=o.writable||o.writable!==!1&&s.writable,l=function(){s.writable||h()},p=s._writableState&&s._writableState.finished,h=function(){c=!1,p=!0,u||a.call(s)},y=s._readableState&&s._readableState.endEmitted,b=function(){u=!1,y=!0,c||a.call(s)},w=function(S){a.call(s,S)},m=function(){var S;if(u&&!y)return(!s._readableState||!s._readableState.ended)&&(S=new t),a.call(s,S);if(c&&!p)return(!s._writableState||!s._writableState.ended)&&(S=new t),a.call(s,S)},E=function(){s.req.on("finish",h)};return n(s)?(s.on("complete",h),s.on("abort",m),s.req?E():s.on("request",E)):c&&!s._writableState&&(s.on("end",l),s.on("close",l)),s.on("end",b),s.on("finish",h),o.error!==!1&&s.on("error",w),s.on("close",m),function(){s.removeListener("complete",h),s.removeListener("abort",m),s.removeListener("request",E),s.req&&s.req.removeListener("finish",h),s.removeListener("end",l),s.removeListener("close",l),s.removeListener("finish",h),s.removeListener("end",b),s.removeListener("error",w),s.removeListener("close",m)}}return Pm=i,Pm}function T6(){if(yA)return Im;yA=!0;var t=St,e;function r(T,S,P){return S in T?Object.defineProperty(T,S,{value:P,enumerable:!0,configurable:!0,writable:!0}):T[S]=P,T}var n=Hc(),i=Symbol("lastResolve"),s=Symbol("lastReject"),o=Symbol("error"),a=Symbol("ended"),u=Symbol("lastPromise"),c=Symbol("handlePromise"),l=Symbol("stream");function p(T,S){return{value:T,done:S}}function h(T){var S=T[i];if(S!==null){var P=T[l].read();P!==null&&(T[u]=null,T[i]=null,T[s]=null,S(p(P,!1)))}}function y(T){t.nextTick(h,T)}function b(T,S){return function(P,A){T.then(function(){if(S[a]){P(p(void 0,!0));return}S[c](P,A)},A)}}var w=Object.getPrototypeOf(function(){}),m=Object.setPrototypeOf((e={get stream(){return this[l]},next:function(){var S=this,P=this[o];if(P!==null)return Promise.reject(P);if(this[a])return Promise.resolve(p(void 0,!0));if(this[l].destroyed)return new Promise(function(W,z){t.nextTick(function(){S[o]?z(S[o]):W(p(void 0,!0))})});var A=this[u],N;if(A)N=new Promise(b(A,this));else{var C=this[l].read();if(C!==null)return Promise.resolve(p(C,!1));N=new Promise(this[c])}return this[u]=N,N}},r(e,Symbol.asyncIterator,function(){return this}),r(e,"return",function(){var S=this;return new Promise(function(P,A){S[l].destroy(null,function(N){if(N){A(N);return}P(p(void 0,!0))})})}),e),w),E=function(S){var P,A=Object.create(m,(P={},r(P,l,{value:S,writable:!0}),r(P,i,{value:null,writable:!0}),r(P,s,{value:null,writable:!0}),r(P,o,{value:null,writable:!0}),r(P,a,{value:S._readableState.endEmitted,writable:!0}),r(P,c,{value:function(C,W){var z=A[l].read();z?(A[u]=null,A[i]=null,A[s]=null,C(p(z,!1))):(A[i]=C,A[s]=W)},writable:!0}),P));return A[u]=null,n(S,function(N){if(N&&N.code!=="ERR_STREAM_PREMATURE_CLOSE"){var C=A[s];C!==null&&(A[u]=null,A[i]=null,A[s]=null,C(N)),A[o]=N;return}var W=A[i];W!==null&&(A[u]=null,A[i]=null,A[s]=null,W(p(void 0,!0))),A[a]=!0}),S.on("readable",y.bind(null,A)),A};return Im=E,Im}function A6(){return mA||(mA=!0,Cm=function(){throw new Error("Readable.from is not available in the browser")}),Cm}function Hm(){if(gA)return Nm;gA=!0;var t=St;Nm=j;var e;j.ReadableState=z,Er.EventEmitter;var r=function(v,L){return v.listeners(L).length},n=PA(),i=Vi.Buffer,s=$6.Uint8Array||function(){};function o($){return i.from($)}function a($){return i.isBuffer($)||$ instanceof s}var u=Oe,c;u&&u.debuglog?c=u.debuglog("stream"):c=function(){};var l=v6(),p=IA(),h=CA(),y=h.getHighWaterMark,b=Ra().codes,w=b.ERR_INVALID_ARG_TYPE,m=b.ERR_STREAM_PUSH_AFTER_EOF,E=b.ERR_METHOD_NOT_IMPLEMENTED,T=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,S,P,A;Io()(j,n);var N=p.errorOrDestroy,C=["error","close","destroy","pause","resume"];function W($,v,L){if(typeof $.prependListener=="function")return $.prependListener(v,L);!$._events||!$._events[v]?$.on(v,L):Array.isArray($._events[v])?$._events[v].unshift(L):$._events[v]=[L,$._events[v]]}function z($,v,L){e=e||Ss(),$=$||{},typeof L!="boolean"&&(L=v instanceof e),this.objectMode=!!$.objectMode,L&&(this.objectMode=this.objectMode||!!$.readableObjectMode),this.highWaterMark=y(this,$,"readableHighWaterMark",L),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=$.emitClose!==!1,this.autoDestroy=!!$.autoDestroy,this.destroyed=!1,this.defaultEncoding=$.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,$.encoding&&(S||(S=km.StringDecoder),this.decoder=new S($.encoding),this.encoding=$.encoding)}function j($){if(e=e||Ss(),!(this instanceof j))return new j($);var v=this instanceof e;this._readableState=new z($,this,v),this.readable=!0,$&&(typeof $.read=="function"&&(this._read=$.read),typeof $.destroy=="function"&&(this._destroy=$.destroy)),n.call(this)}Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(v){this._readableState&&(this._readableState.destroyed=v)}}),j.prototype.destroy=p.destroy,j.prototype._undestroy=p.undestroy,j.prototype._destroy=function($,v){v($)},j.prototype.push=function($,v){var L=this._readableState,V;return L.objectMode?V=!0:typeof $=="string"&&(v=v||L.defaultEncoding,v!==L.encoding&&($=i.from($,v),v=""),V=!0),ne(this,$,v,!1,V)},j.prototype.unshift=function($){return ne(this,$,null,!0,!1)};function ne($,v,L,V,ye){c("readableAddChunk",v);var le=$._readableState;if(v===null)le.reading=!1,Ae($,le);else{var J;if(ye||(J=H(le,v)),J)N($,J);else if(le.objectMode||v&&v.length>0)if(typeof v!="string"&&!le.objectMode&&Object.getPrototypeOf(v)!==i.prototype&&(v=o(v)),V)le.endEmitted?N($,new T):Q($,le,v,!0);else if(le.ended)N($,new m);else{if(le.destroyed)return!1;le.reading=!1,le.decoder&&!L?(v=le.decoder.write(v),le.objectMode||v.length!==0?Q($,le,v,!1):D($,le)):Q($,le,v,!1)}else V||(le.reading=!1,D($,le))}return!le.ended&&(le.length<le.highWaterMark||le.length===0)}function Q($,v,L,V){v.flowing&&v.length===0&&!v.sync?(v.awaitDrain=0,$.emit("data",L)):(v.length+=v.objectMode?1:L.length,V?v.buffer.unshift(L):v.buffer.push(L),v.needReadable&&Z($)),D($,v)}function H($,v){var L;return!a(v)&&typeof v!="string"&&v!==void 0&&!$.objectMode&&(L=new w("chunk",["string","Buffer","Uint8Array"],v)),L}j.prototype.isPaused=function(){return this._readableState.flowing===!1},j.prototype.setEncoding=function($){S||(S=km.StringDecoder);var v=new S($);this._readableState.decoder=v,this._readableState.encoding=this._readableState.decoder.encoding;for(var L=this._readableState.buffer.head,V="";L!==null;)V+=v.write(L.data),L=L.next;return this._readableState.buffer.clear(),V!==""&&this._readableState.buffer.push(V),this._readableState.length=V.length,this};var fe=1073741824;function me($){return $>=fe?$=fe:($--,$|=$>>>1,$|=$>>>2,$|=$>>>4,$|=$>>>8,$|=$>>>16,$++),$}function Te($,v){return $<=0||v.length===0&&v.ended?0:v.objectMode?1:$!==$?v.flowing&&v.length?v.buffer.head.data.length:v.length:($>v.highWaterMark&&(v.highWaterMark=me($)),$<=v.length?$:v.ended?v.length:(v.needReadable=!0,0))}j.prototype.read=function($){c("read",$),$=parseInt($,10);var v=this._readableState,L=$;if($!==0&&(v.emittedReadable=!1),$===0&&v.needReadable&&((v.highWaterMark!==0?v.length>=v.highWaterMark:v.length>0)||v.ended))return c("read: emitReadable",v.length,v.ended),v.length===0&&v.ended?k(this):Z(this),null;if($=Te($,v),$===0&&v.ended)return v.length===0&&k(this),null;var V=v.needReadable;c("need readable",V),(v.length===0||v.length-$<v.highWaterMark)&&(V=!0,c("length less than watermark",V)),v.ended||v.reading?(V=!1,c("reading or ended",V)):V&&(c("do read"),v.reading=!0,v.sync=!0,v.length===0&&(v.needReadable=!0),this._read(v.highWaterMark),v.sync=!1,v.reading||($=Te(L,v)));var ye;return $>0?ye=I($,v):ye=null,ye===null?(v.needReadable=v.length<=v.highWaterMark,$=0):(v.length-=$,v.awaitDrain=0),v.length===0&&(v.ended||(v.needReadable=!0),L!==$&&v.ended&&k(this)),ye!==null&&this.emit("data",ye),ye};function Ae($,v){if(c("onEofChunk"),!v.ended){if(v.decoder){var L=v.decoder.end();L&&L.length&&(v.buffer.push(L),v.length+=v.objectMode?1:L.length)}v.ended=!0,v.sync?Z($):(v.needReadable=!1,v.emittedReadable||(v.emittedReadable=!0,we($)))}}function Z($){var v=$._readableState;c("emitReadable",v.needReadable,v.emittedReadable),v.needReadable=!1,v.emittedReadable||(c("emitReadable",v.flowing),v.emittedReadable=!0,t.nextTick(we,$))}function we($){var v=$._readableState;c("emitReadable_",v.destroyed,v.length,v.ended),!v.destroyed&&(v.length||v.ended)&&($.emit("readable"),v.emittedReadable=!1),v.needReadable=!v.flowing&&!v.ended&&v.length<=v.highWaterMark,M($)}function D($,v){v.readingMore||(v.readingMore=!0,t.nextTick(ae,$,v))}function ae($,v){for(;!v.reading&&!v.ended&&(v.length<v.highWaterMark||v.flowing&&v.length===0);){var L=v.length;if(c("maybeReadMore read 0"),$.read(0),L===v.length)break}v.readingMore=!1}j.prototype._read=function($){N(this,new E("_read()"))},j.prototype.pipe=function($,v){var L=this,V=this._readableState;switch(V.pipesCount){case 0:V.pipes=$;break;case 1:V.pipes=[V.pipes,$];break;default:V.pipes.push($);break}V.pipesCount+=1,c("pipe count=%d opts=%j",V.pipesCount,v);var ye=(!v||v.end!==!1)&&$!==t.stdout&&$!==t.stderr,le=ye?se:f;V.endEmitted?t.nextTick(le):L.once("end",le),$.on("unpipe",J);function J(d,O){c("onunpipe"),d===L&&O&&O.hasUnpiped===!1&&(O.hasUnpiped=!0,Se())}function se(){c("onend"),$.end()}var Ee=Y(L);$.on("drain",Ee);var Re=!1;function Se(){c("cleanup"),$.removeListener("close",Ke),$.removeListener("finish",_),$.removeListener("drain",Ee),$.removeListener("error",Ve),$.removeListener("unpipe",J),L.removeListener("end",se),L.removeListener("end",f),L.removeListener("data",Ge),Re=!0,V.awaitDrain&&(!$._writableState||$._writableState.needDrain)&&Ee()}L.on("data",Ge);function Ge(d){c("ondata");var O=$.write(d);c("dest.write",O),O===!1&&((V.pipesCount===1&&V.pipes===$||V.pipesCount>1&&he(V.pipes,$)!==-1)&&!Re&&(c("false write response, pause",V.awaitDrain),V.awaitDrain++),L.pause())}function Ve(d){c("onerror",d),f(),$.removeListener("error",Ve),r($,"error")===0&&N($,d)}W($,"error",Ve);function Ke(){$.removeListener("finish",_),f()}$.once("close",Ke);function _(){c("onfinish"),$.removeListener("close",Ke),f()}$.once("finish",_);function f(){c("unpipe"),L.unpipe($)}return $.emit("pipe",L),V.flowing||(c("pipe resume"),L.resume()),$};function Y($){return function(){var L=$._readableState;c("pipeOnDrain",L.awaitDrain),L.awaitDrain&&L.awaitDrain--,L.awaitDrain===0&&r($,"data")&&(L.flowing=!0,M($))}}j.prototype.unpipe=function($){var v=this._readableState,L={hasUnpiped:!1};if(v.pipesCount===0)return this;if(v.pipesCount===1)return $&&$!==v.pipes?this:($||($=v.pipes),v.pipes=null,v.pipesCount=0,v.flowing=!1,$&&$.emit("unpipe",this,L),this);if(!$){var V=v.pipes,ye=v.pipesCount;v.pipes=null,v.pipesCount=0,v.flowing=!1;for(var le=0;le<ye;le++)V[le].emit("unpipe",this,{hasUnpiped:!1});return this}var J=he(v.pipes,$);return J===-1?this:(v.pipes.splice(J,1),v.pipesCount-=1,v.pipesCount===1&&(v.pipes=v.pipes[0]),$.emit("unpipe",this,L),this)},j.prototype.on=function($,v){var L=n.prototype.on.call(this,$,v),V=this._readableState;return $==="data"?(V.readableListening=this.listenerCount("readable")>0,V.flowing!==!1&&this.resume()):$==="readable"&&!V.endEmitted&&!V.readableListening&&(V.readableListening=V.needReadable=!0,V.flowing=!1,V.emittedReadable=!1,c("on readable",V.length,V.reading),V.length?Z(this):V.reading||t.nextTick(te,this)),L},j.prototype.addListener=j.prototype.on,j.prototype.removeListener=function($,v){var L=n.prototype.removeListener.call(this,$,v);return $==="readable"&&t.nextTick(F,this),L},j.prototype.removeAllListeners=function($){var v=n.prototype.removeAllListeners.apply(this,arguments);return($==="readable"||$===void 0)&&t.nextTick(F,this),v};function F($){var v=$._readableState;v.readableListening=$.listenerCount("readable")>0,v.resumeScheduled&&!v.paused?v.flowing=!0:$.listenerCount("data")>0&&$.resume()}function te($){c("readable nexttick read 0"),$.read(0)}j.prototype.resume=function(){var $=this._readableState;return $.flowing||(c("resume"),$.flowing=!$.readableListening,pe(this,$)),$.paused=!1,this};function pe($,v){v.resumeScheduled||(v.resumeScheduled=!0,t.nextTick(Ie,$,v))}function Ie($,v){c("resume",v.reading),v.reading||$.read(0),v.resumeScheduled=!1,$.emit("resume"),M($),v.flowing&&!v.reading&&$.read(0)}j.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function M($){var v=$._readableState;for(c("flow",v.flowing);v.flowing&&$.read()!==null;);}j.prototype.wrap=function($){var v=this,L=this._readableState,V=!1;$.on("end",function(){if(c("wrapped end"),L.decoder&&!L.ended){var J=L.decoder.end();J&&J.length&&v.push(J)}v.push(null)}),$.on("data",function(J){if(c("wrapped data"),L.decoder&&(J=L.decoder.write(J)),!(L.objectMode&&J==null)&&!(!L.objectMode&&(!J||!J.length))){var se=v.push(J);se||(V=!0,$.pause())}});for(var ye in $)this[ye]===void 0&&typeof $[ye]=="function"&&(this[ye]=function(se){return function(){return $[se].apply($,arguments)}}(ye));for(var le=0;le<C.length;le++)$.on(C[le],this.emit.bind(this,C[le]));return this._read=function(J){c("wrapped _read",J),V&&(V=!1,$.resume())},this},typeof Symbol=="function"&&(j.prototype[Symbol.asyncIterator]=function(){return P===void 0&&(P=T6()),P(this)}),Object.defineProperty(j.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(j.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(j.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(v){this._readableState&&(this._readableState.flowing=v)}}),j._fromList=I,Object.defineProperty(j.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function I($,v){if(v.length===0)return null;var L;return v.objectMode?L=v.buffer.shift():!$||$>=v.length?(v.decoder?L=v.buffer.join(""):v.buffer.length===1?L=v.buffer.first():L=v.buffer.concat(v.length),v.buffer.clear()):L=v.buffer.consume($,v.decoder),L}function k($){var v=$._readableState;c("endReadable",v.endEmitted),v.endEmitted||(v.ended=!0,t.nextTick(ie,v,$))}function ie($,v){if(c("endReadableNT",$.endEmitted,$.length),!$.endEmitted&&$.length===0&&($.endEmitted=!0,v.readable=!1,v.emit("end"),$.autoDestroy)){var L=v._writableState;(!L||L.autoDestroy&&L.finished)&&v.destroy()}}typeof Symbol=="function"&&(j.from=function($,v){return A===void 0&&(A=A6()),A(j,$,v)});function he($,v){for(var L=0,V=$.length;L<V;L++)if($[L]===v)return L;return-1}return Nm}function zm(){if(bA)return xm;bA=!0,xm=a;var t=Ra().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,s=Ss();Io()(a,s);function o(l,p){var h=this._transformState;h.transforming=!1;var y=h.writecb;if(y===null)return this.emit("error",new r);h.writechunk=null,h.writecb=null,p!=null&&this.push(p),y(l);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function a(l){if(!(this instanceof a))return new a(l);s.call(this,l),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",u)}function u(){var l=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(p,h){c(l,p,h)}):c(this,null,null)}a.prototype.push=function(l,p){return this._transformState.needTransform=!1,s.prototype.push.call(this,l,p)},a.prototype._transform=function(l,p,h){h(new e("_transform()"))},a.prototype._write=function(l,p,h){var y=this._transformState;if(y.writecb=h,y.writechunk=l,y.writeencoding=p,!y.transforming){var b=this._readableState;(y.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},a.prototype._read=function(l){var p=this._transformState;p.writechunk!==null&&!p.transforming?(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform)):p.needTransform=!0},a.prototype._destroy=function(l,p){s.prototype._destroy.call(this,l,function(h){p(h)})};function c(l,p,h){if(p)return l.emit("error",p);if(h!=null&&l.push(h),l._writableState.length)throw new i;if(l._transformState.transforming)throw new n;return l.push(null)}return xm}function NA(){if(_A)return Mm;_A=!0,Mm=e;var t=zm();Io()(e,t);function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return e.prototype._transform=function(r,n,i){i(null,r)},Mm}function xA(){if(wA)return Lm;wA=!0;var t;function e(h){var y=!1;return function(){y||(y=!0,h.apply(void 0,arguments))}}var r=Ra().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function s(h){if(h)throw h}function o(h){return h.setHeader&&typeof h.abort=="function"}function a(h,y,b,w){w=e(w);var m=!1;h.on("close",function(){m=!0}),t===void 0&&(t=Hc()),t(h,{readable:y,writable:b},function(T){if(T)return w(T);m=!0,w()});var E=!1;return function(T){if(!m&&!E){if(E=!0,o(h))return h.abort();if(typeof h.destroy=="function")return h.destroy();w(T||new i("pipe"))}}}function u(h){h()}function c(h,y){return h.pipe(y)}function l(h){return!h.length||typeof h[h.length-1]!="function"?s:h.pop()}function p(){for(var h=arguments.length,y=new Array(h),b=0;b<h;b++)y[b]=arguments[b];var w=l(y);if(Array.isArray(y[0])&&(y=y[0]),y.length<2)throw new n("streams");var m,E=y.map(function(T,S){var P=S<y.length-1,A=S>0;return a(T,P,A,function(N){m||(m=N),N&&E.forEach(u),!P&&(E.forEach(u),w(m))})});return y.reduce(c)}return Lm=p,Lm}var vA,Kn,Sn,zT,Uc,_s,VT,JD,zi,Bm,$a,YT,u6,f6,Fc,qc,mi,l6,km,Dm,tA,Zu,rA,kc,nA,Es,iA,Vi,Dc,oA,wm,sA,vm,aA,Em,uA,Sm,fA,Tm,lA,Am,cA,$m,Rm,dA,S6,Om,hA,Pm,pA,Im,yA,Cm,mA,Nm,gA,$6,xm,bA,Mm,_A,Lm,wA,Vm=Rt(()=>{x();qu();ba();Yu();for(vA={byteLength:function(t){var e=GT(t),r=e[0],n=e[1];return 3*(r+n)/4-n},toByteArray:function(t){var e,r,n=GT(t),i=n[0],s=n[1],o=new zT(function(c,l,p){return 3*(l+p)/4-p}(0,i,s)),a=0,u=s>0?i-4:i;for(r=0;r<u;r+=4)e=Sn[t.charCodeAt(r)]<<18|Sn[t.charCodeAt(r+1)]<<12|Sn[t.charCodeAt(r+2)]<<6|Sn[t.charCodeAt(r+3)],o[a++]=e>>16&255,o[a++]=e>>8&255,o[a++]=255&e;return s===2&&(e=Sn[t.charCodeAt(r)]<<2|Sn[t.charCodeAt(r+1)]>>4,o[a++]=255&e),s===1&&(e=Sn[t.charCodeAt(r)]<<10|Sn[t.charCodeAt(r+1)]<<4|Sn[t.charCodeAt(r+2)]>>2,o[a++]=e>>8&255,o[a++]=255&e),o},fromByteArray:function(t){for(var e,r=t.length,n=r%3,i=[],s=0,o=r-n;s<o;s+=16383)i.push(KD(t,s,s+16383>o?o:s+16383));return n===1?(e=t[r-1],i.push(Kn[e>>2]+Kn[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(Kn[e>>10]+Kn[e>>4&63]+Kn[e<<2&63]+"=")),i.join("")}},Kn=[],Sn=[],zT=typeof Uint8Array<"u"?Uint8Array:Array,Uc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_s=0,VT=Uc.length;_s<VT;++_s)Kn[_s]=Uc[_s],Sn[Uc.charCodeAt(_s)]=_s;Sn[45]=62,Sn[95]=63;JD={read:function(t,e,r,n,i){var s,o,a=8*i-n-1,u=(1<<a)-1,c=u>>1,l=-7,p=r?i-1:0,h=r?-1:1,y=t[e+p];for(p+=h,s=y&(1<<-l)-1,y>>=-l,l+=a;l>0;s=256*s+t[e+p],p+=h,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;l>0;o=256*o+t[e+p],p+=h,l-=8);if(s===0)s=1-c;else{if(s===u)return o?NaN:1/0*(y?-1:1);o+=Math.pow(2,n),s-=c}return(y?-1:1)*o*Math.pow(2,s-n)},write:function(t,e,r,n,i,s){var o,a,u,c=8*s-i-1,l=(1<<c)-1,p=l>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:s-1,b=n?1:-1,w=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),(e+=o+p>=1?h/u:h*Math.pow(2,1-p))*u>=2&&(o++,u/=2),o+p>=l?(a=0,o=l):o+p>=1?(a=(e*u-1)*Math.pow(2,i),o+=p):(a=e*Math.pow(2,p-1)*Math.pow(2,i),o=0));i>=8;t[r+y]=255&a,y+=b,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[r+y]=255&o,y+=b,o/=256,c-=8);t[r+y-b]|=128*w}},zi={},Bm=vA,$a=JD,YT=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;zi.Buffer=Ce,zi.SlowBuffer=function(t){return+t!=t&&(t=0),Ce.alloc(+t)},zi.INSPECT_MAX_BYTES=50;zi.kMaxLength=2147483647,Ce.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}(),Ce.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Ce.prototype,"parent",{enumerable:!0,get:function(){if(Ce.isBuffer(this))return this.buffer}}),Object.defineProperty(Ce.prototype,"offset",{enumerable:!0,get:function(){if(Ce.isBuffer(this))return this.byteOffset}}),Ce.poolSize=8192,Ce.from=function(t,e,r){return EA(t,e,r)},Object.setPrototypeOf(Ce.prototype,Uint8Array.prototype),Object.setPrototypeOf(Ce,Uint8Array),Ce.alloc=function(t,e,r){return function(n,i,s){return SA(n),n<=0?Wi(n):i!==void 0?typeof s=="string"?Wi(n).fill(i,s):Wi(n).fill(i):Wi(n)}(t,e,r)},Ce.allocUnsafe=function(t){return jm(t)},Ce.allocUnsafeSlow=function(t){return jm(t)},Ce.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==Ce.prototype},Ce.compare=function(t,e){if(Hi(t,Uint8Array)&&(t=Ce.from(t,t.offset,t.byteLength)),Hi(e,Uint8Array)&&(e=Ce.from(e,e.offset,e.byteLength)),!Ce.isBuffer(t)||!Ce.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},Ce.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Ce.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return Ce.alloc(0);var r;if(e===void 0)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=Ce.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var s=t[r];if(Hi(s,Uint8Array)&&(s=Ce.from(s)),!Ce.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},Ce.byteLength=TA,Ce.prototype._isBuffer=!0,Ce.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)ws(this,e,e+1);return this},Ce.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)ws(this,e,e+3),ws(this,e+1,e+2);return this},Ce.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)ws(this,e,e+7),ws(this,e+1,e+6),ws(this,e+2,e+5),ws(this,e+3,e+4);return this},Ce.prototype.toString=function(){var t=this.length;return t===0?"":arguments.length===0?$A(this,0,t):XD.apply(this,arguments)},Ce.prototype.toLocaleString=Ce.prototype.toString,Ce.prototype.equals=function(t){if(!Ce.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||Ce.compare(this,t)===0},Ce.prototype.inspect=function(){var t="",e=zi.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},YT&&(Ce.prototype[YT]=Ce.prototype.inspect),Ce.prototype.compare=function(t,e,r,n,i){if(Hi(t,Uint8Array)&&(t=Ce.from(t,t.offset,t.byteLength)),!Ce.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(e===void 0&&(e=0),r===void 0&&(r=t?t.length:0),n===void 0&&(n=0),i===void 0&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(e>>>=0),a=Math.min(s,o),u=this.slice(n,i),c=t.slice(e,r),l=0;l<a;++l)if(u[l]!==c[l]){s=u[l],o=c[l];break}return s<o?-1:o<s?1:0},Ce.prototype.includes=function(t,e,r){return this.indexOf(t,e,r)!==-1},Ce.prototype.indexOf=function(t,e,r){return JT(this,t,e,r,!0)},Ce.prototype.lastIndexOf=function(t,e,r){return JT(this,t,e,r,!1)},Ce.prototype.write=function(t,e,r,n){if(e===void 0)n="utf8",r=this.length,e=0;else if(r===void 0&&typeof e=="string")n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,n===void 0&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((r===void 0||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return ZD(this,t,e,r);case"utf8":case"utf-8":return QD(this,t,e,r);case"ascii":return AA(this,t,e,r);case"latin1":case"binary":return e6(this,t,e,r);case"base64":return t6(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r6(this,t,e,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},Ce.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};Ce.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=e===void 0?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,Ce.prototype),n},Ce.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||yr(t,e,this.length);for(var n=this[t],i=1,s=0;++s<e&&(i*=256);)n+=this[t+s]*i;return n},Ce.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||yr(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},Ce.prototype.readUInt8=function(t,e){return t>>>=0,e||yr(t,1,this.length),this[t]},Ce.prototype.readUInt16LE=function(t,e){return t>>>=0,e||yr(t,2,this.length),this[t]|this[t+1]<<8},Ce.prototype.readUInt16BE=function(t,e){return t>>>=0,e||yr(t,2,this.length),this[t]<<8|this[t+1]},Ce.prototype.readUInt32LE=function(t,e){return t>>>=0,e||yr(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Ce.prototype.readUInt32BE=function(t,e){return t>>>=0,e||yr(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Ce.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||yr(t,e,this.length);for(var n=this[t],i=1,s=0;++s<e&&(i*=256);)n+=this[t+s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},Ce.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||yr(t,e,this.length);for(var n=e,i=1,s=this[t+--n];n>0&&(i*=256);)s+=this[t+--n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*e)),s},Ce.prototype.readInt8=function(t,e){return t>>>=0,e||yr(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Ce.prototype.readInt16LE=function(t,e){t>>>=0,e||yr(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},Ce.prototype.readInt16BE=function(t,e){t>>>=0,e||yr(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},Ce.prototype.readInt32LE=function(t,e){return t>>>=0,e||yr(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Ce.prototype.readInt32BE=function(t,e){return t>>>=0,e||yr(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Ce.prototype.readFloatLE=function(t,e){return t>>>=0,e||yr(t,4,this.length),$a.read(this,t,!0,23,4)},Ce.prototype.readFloatBE=function(t,e){return t>>>=0,e||yr(t,4,this.length),$a.read(this,t,!1,23,4)},Ce.prototype.readDoubleLE=function(t,e){return t>>>=0,e||yr(t,8,this.length),$a.read(this,t,!0,52,8)},Ce.prototype.readDoubleBE=function(t,e){return t>>>=0,e||yr(t,8,this.length),$a.read(this,t,!1,52,8)},Ce.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||ln(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,s=0;for(this[e]=255&t;++s<r&&(i*=256);)this[e+s]=t/i&255;return e+r},Ce.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||ln(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+r},Ce.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||ln(this,t,e,1,255,0),this[e]=255&t,e+1},Ce.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||ln(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},Ce.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||ln(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},Ce.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||ln(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},Ce.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||ln(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},Ce.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);ln(this,t,e,r,i-1,-i)}var s=0,o=1,a=0;for(this[e]=255&t;++s<r&&(o*=256);)t<0&&a===0&&this[e+s-1]!==0&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+r},Ce.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);ln(this,t,e,r,i-1,-i)}var s=r-1,o=1,a=0;for(this[e+s]=255&t;--s>=0&&(o*=256);)t<0&&a===0&&this[e+s+1]!==0&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+r},Ce.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||ln(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},Ce.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||ln(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},Ce.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||ln(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},Ce.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||ln(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},Ce.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||ln(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},Ce.prototype.writeFloatLE=function(t,e,r){return ZT(this,t,e,!0,r)},Ce.prototype.writeFloatBE=function(t,e,r){return ZT(this,t,e,!1,r)},Ce.prototype.writeDoubleLE=function(t,e,r){return QT(this,t,e,!0,r)},Ce.prototype.writeDoubleBE=function(t,e,r){return QT(this,t,e,!1,r)},Ce.prototype.copy=function(t,e,r,n){if(!Ce.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||n===0||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;if(this===t&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(e,r,n);else if(this===t&&r<e&&e<n)for(var s=i-1;s>=0;--s)t[s+e]=this[s+r];else Uint8Array.prototype.set.call(t,this.subarray(r,n),e);return i},Ce.prototype.fill=function(t,e,r,n){if(typeof t=="string"){if(typeof e=="string"?(n=e,e=0,r=this.length):typeof r=="string"&&(n=r,r=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!Ce.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(t.length===1){var i=t.charCodeAt(0);(n==="utf8"&&i<128||n==="latin1")&&(t=i)}}else typeof t=="number"?t&=255:typeof t=="boolean"&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var s;if(e>>>=0,r=r===void 0?this.length:r>>>0,t||(t=0),typeof t=="number")for(s=e;s<r;++s)this[s]=t;else{var o=Ce.isBuffer(t)?t:Ce.from(t,n),a=o.length;if(a===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(s=0;s<r-e;++s)this[s+e]=o[s%a]}return this};u6=/[^+/0-9A-Za-z-_]/g;f6=function(){for(var t=new Array(256),e=0;e<16;++e)for(var r=16*e,n=0;n<16;++n)t[r+n]="0123456789abcdef"[e]+"0123456789abcdef"[n];return t}();zi.Buffer;zi.INSPECT_MAX_BYTES;zi.kMaxLength;Fc={},qc=zi,mi=qc.Buffer;mi.from&&mi.alloc&&mi.allocUnsafe&&mi.allocUnsafeSlow?Fc=qc:(eA(qc,Fc),Fc.Buffer=vs),vs.prototype=Object.create(mi.prototype),eA(mi,vs),vs.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return mi(t,e,r)},vs.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=mi(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n},vs.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return mi(t)},vs.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return qc.SlowBuffer(t)};l6=Fc,km={},Dm=l6.Buffer,tA=Dm.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};km.StringDecoder=Xu,Xu.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if((e=this.fillLast(t))===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},Xu.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e},Xu.prototype.text=function(t,e){var r=function(i,s,o){var a=s.length-1;if(a<o)return 0;var u=_m(s[a]);return u>=0?(u>0&&(i.lastNeed=u-1),u):--a<o||u===-2?0:(u=_m(s[a]))>=0?(u>0&&(i.lastNeed=u-2),u):--a<o||u===-2?0:(u=_m(s[a]))>=0?(u>0&&(u===2?u=0:i.lastNeed=u-3),u):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},Xu.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};Zu={},rA=!1;kc={},nA=!1;Es={},iA=!1;Vi=w6();Vi.Buffer;Vi.INSPECT_MAX_BYTES;Vi.kMaxLength;Dc={},oA=!1;wm={},sA=!1;vm={},aA=!1;Em={},uA=!1;Sm={},fA=!1;Tm={},lA=!1;Am={},cA=!1,$m=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;Rm={},dA=!1,S6=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;Om={},hA=!1;Pm={},pA=!1;Im={},yA=!1;Cm={},mA=!1;Nm={},gA=!1,$6=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;xm={},bA=!1;Mm={},_A=!1;Lm={},wA=!1});function Gm(){return MA||(MA=!0,cn=cn=Hm(),cn.Stream=cn,cn.Readable=cn,cn.Writable=Wm(),cn.Duplex=Ss(),cn.Transform=zm(),cn.PassThrough=NA(),cn.finished=Hc(),cn.pipeline=xA()),cn}var cn,MA,LA=Rt(()=>{x();Vm();cn={},MA=!1});var Qu={};qn(Qu,{Agent:()=>x6,ClientRequest:()=>M6,IncomingMessage:()=>L6,METHODS:()=>B6,STATUS_CODES:()=>j6,default:()=>Yi,get:()=>U6,globalAgent:()=>k6,request:()=>D6});function HA(){if(BA)return Tn;BA=!0,Tn.fetch=n(Ts.fetch)&&n(Ts.ReadableStream),Tn.writableStream=n(Ts.WritableStream),Tn.abortController=n(Ts.AbortController);var t;function e(){if(t!==void 0)return t;if(Ts.XMLHttpRequest){t=new Ts.XMLHttpRequest;try{t.open("GET",Ts.XDomainRequest?"/":"https://example.com")}catch{t=null}}else t=null;return t}function r(i){var s=e();if(!s)return!1;try{return s.responseType=i,s.responseType===i}catch{}return!1}Tn.arraybuffer=Tn.fetch||r("arraybuffer"),Tn.msstream=!Tn.fetch&&r("ms-stream"),Tn.mozchunkedarraybuffer=!Tn.fetch&&r("moz-chunked-arraybuffer"),Tn.overrideMimeType=Tn.fetch||(e()?n(e().overrideMimeType):!1);function n(i){return typeof i=="function"}return t=null,Tn}function zA(){if(jA)return zc;jA=!0;var t=Vi.Buffer,e=St,r=HA(),n=Io(),i=Gm(),s=zc.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},o=zc.IncomingMessage=function(a,u,c,l){var p=this||Vc;if(i.Readable.call(p),p._mode=c,p.headers={},p.rawHeaders=[],p.trailers={},p.rawTrailers=[],p.on("end",function(){e.nextTick(function(){p.emit("close")})}),c==="fetch"){let E=function(){y.read().then(function(T){if(!p._destroyed){if(l(T.done),T.done){p.push(null);return}p.push(t.from(T.value)),E()}}).catch(function(T){l(!0),p._destroyed||p.emit("error",T)})};if(p._fetchResponse=u,p.url=u.url,p.statusCode=u.status,p.statusMessage=u.statusText,u.headers.forEach(function(T,S){p.headers[S.toLowerCase()]=T,p.rawHeaders.push(S,T)}),r.writableStream){var h=new WritableStream({write:function(T){return l(!1),new Promise(function(S,P){p._destroyed?P():p.push(t.from(T))?S():p._resumeFetch=S})},close:function(){l(!0),p._destroyed||p.push(null)},abort:function(T){l(!0),p._destroyed||p.emit("error",T)}});try{u.body.pipeTo(h).catch(function(T){l(!0),p._destroyed||p.emit("error",T)});return}catch{}}var y=u.body.getReader();E()}else{p._xhr=a,p._pos=0,p.url=a.responseURL,p.statusCode=a.status,p.statusMessage=a.statusText;var b=a.getAllResponseHeaders().split(/\r?\n/);if(b.forEach(function(E){var T=E.match(/^([^:]+):\s*(.*)/);if(T){var S=T[1].toLowerCase();S==="set-cookie"?(p.headers[S]===void 0&&(p.headers[S]=[]),p.headers[S].push(T[2])):p.headers[S]!==void 0?p.headers[S]+=", "+T[2]:p.headers[S]=T[2],p.rawHeaders.push(T[1],T[2])}}),p._charset="x-user-defined",!r.overrideMimeType){var w=p.rawHeaders["mime-type"];if(w){var m=w.match(/;\s*charset=([^;])(;|$)/);m&&(p._charset=m[1].toLowerCase())}p._charset||(p._charset="utf-8")}}};return n(o,i.Readable),o.prototype._read=function(){var a=this||Vc,u=a._resumeFetch;u&&(a._resumeFetch=null,u())},o.prototype._onXHRProgress=function(a){var u=this||Vc,c=u._xhr,l=null;switch(u._mode){case"text":if(l=c.responseText,l.length>u._pos){var p=l.substr(u._pos);if(u._charset==="x-user-defined"){for(var h=t.alloc(p.length),y=0;y<p.length;y++)h[y]=p.charCodeAt(y)&255;u.push(h)}else u.push(p,u._charset);u._pos=l.length}break;case"arraybuffer":if(c.readyState!==s.DONE||!c.response)break;l=c.response,u.push(t.from(new Uint8Array(l)));break;case"moz-chunked-arraybuffer":if(l=c.response,c.readyState!==s.LOADING||!l)break;u.push(t.from(new Uint8Array(l)));break;case"ms-stream":if(l=c.response,c.readyState!==s.LOADING)break;var b=new Vc.MSStreamReader;b.onprogress=function(){b.result.byteLength>u._pos&&(u.push(t.from(new Uint8Array(b.result.slice(u._pos)))),u._pos=b.result.byteLength)},b.onload=function(){a(!0),u.push(null)},b.readAsArrayBuffer(l);break}u._xhr.readyState===s.DONE&&u._mode!=="ms-stream"&&(a(!0),u.push(null))},zc}function R6(){if(UA)return Ym;UA=!0;var t=Vi.Buffer,e=St,r=HA(),n=Io(),i=zA(),s=Gm(),o=i.IncomingMessage,a=i.readyStates;function u(h,y){return r.fetch&&y?"fetch":r.mozchunkedarraybuffer?"moz-chunked-arraybuffer":r.msstream?"ms-stream":r.arraybuffer&&h?"arraybuffer":"text"}var c=Ym=function(h){var y=this||mr;s.Writable.call(y),y._opts=h,y._body=[],y._headers={},h.auth&&y.setHeader("Authorization","Basic "+t.from(h.auth).toString("base64")),Object.keys(h.headers).forEach(function(m){y.setHeader(m,h.headers[m])});var b,w=!0;if(h.mode==="disable-fetch"||"requestTimeout"in h&&!r.abortController)w=!1,b=!0;else if(h.mode==="prefer-streaming")b=!1;else if(h.mode==="allow-wrong-content-type")b=!r.overrideMimeType;else if(!h.mode||h.mode==="default"||h.mode==="prefer-fast")b=!0;else throw new Error("Invalid value for opts.mode");y._mode=u(b,w),y._fetchTimer=null,y._socketTimeout=null,y._socketTimer=null,y.on("finish",function(){y._onFinish()})};n(c,s.Writable),c.prototype.setHeader=function(h,y){var b=this||mr,w=h.toLowerCase();p.indexOf(w)===-1&&(b._headers[w]={name:h,value:y})},c.prototype.getHeader=function(h){var y=(this||mr)._headers[h.toLowerCase()];return y?y.value:null},c.prototype.removeHeader=function(h){var y=this||mr;delete y._headers[h.toLowerCase()]},c.prototype._onFinish=function(){var h=this||mr;if(!h._destroyed){var y=h._opts;"timeout"in y&&y.timeout!==0&&h.setTimeout(y.timeout);var b=h._headers,w=null;y.method!=="GET"&&y.method!=="HEAD"&&(w=new Blob(h._body,{type:(b["content-type"]||{}).value||""}));var m=[];if(Object.keys(b).forEach(function(P){var A=b[P].name,N=b[P].value;Array.isArray(N)?N.forEach(function(C){m.push([A,C])}):m.push([A,N])}),h._mode==="fetch"){var E=null;if(r.abortController){var T=new AbortController;E=T.signal,h._fetchAbortController=T,"requestTimeout"in y&&y.requestTimeout!==0&&(h._fetchTimer=mr.setTimeout(function(){h.emit("requestTimeout"),h._fetchAbortController&&h._fetchAbortController.abort()},y.requestTimeout))}mr.fetch(h._opts.url,{method:h._opts.method,headers:m,body:w||void 0,mode:"cors",credentials:y.withCredentials?"include":"same-origin",signal:E}).then(function(P){h._fetchResponse=P,h._resetTimers(!1),h._connect()},function(P){h._resetTimers(!0),h._destroyed||h.emit("error",P)})}else{var S=h._xhr=new mr.XMLHttpRequest;try{S.open(h._opts.method,h._opts.url,!0)}catch(P){e.nextTick(function(){h.emit("error",P)});return}"responseType"in S&&(S.responseType=h._mode),"withCredentials"in S&&(S.withCredentials=!!y.withCredentials),h._mode==="text"&&"overrideMimeType"in S&&S.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in y&&(S.timeout=y.requestTimeout,S.ontimeout=function(){h.emit("requestTimeout")}),m.forEach(function(P){S.setRequestHeader(P[0],P[1])}),h._response=null,S.onreadystatechange=function(){switch(S.readyState){case a.LOADING:case a.DONE:h._onXHRProgress();break}},h._mode==="moz-chunked-arraybuffer"&&(S.onprogress=function(){h._onXHRProgress()}),S.onerror=function(){h._destroyed||(h._resetTimers(!0),h.emit("error",new Error("XHR error")))};try{S.send(w)}catch(P){e.nextTick(function(){h.emit("error",P)});return}}}};function l(h){try{var y=h.status;return y!==null&&y!==0}catch{return!1}}c.prototype._onXHRProgress=function(){var h=this||mr;h._resetTimers(!1),!(!l(h._xhr)||h._destroyed)&&(h._response||h._connect(),h._response._onXHRProgress(h._resetTimers.bind(h)))},c.prototype._connect=function(){var h=this||mr;h._destroyed||(h._response=new o(h._xhr,h._fetchResponse,h._mode,h._resetTimers.bind(h)),h._response.on("error",function(y){h.emit("error",y)}),h.emit("response",h._response))},c.prototype._write=function(h,y,b){var w=this||mr;w._body.push(h),b()},c.prototype._resetTimers=function(h){var y=this||mr;mr.clearTimeout(y._socketTimer),y._socketTimer=null,h?(mr.clearTimeout(y._fetchTimer),y._fetchTimer=null):y._socketTimeout&&(y._socketTimer=mr.setTimeout(function(){y.emit("timeout")},y._socketTimeout))},c.prototype.abort=c.prototype.destroy=function(h){var y=this||mr;y._destroyed=!0,y._resetTimers(!0),y._response&&(y._response._destroyed=!0),y._xhr?y._xhr.abort():y._fetchAbortController&&y._fetchAbortController.abort(),h&&y.emit("error",h)},c.prototype.end=function(h,y,b){var w=this||mr;typeof h=="function"&&(b=h,h=void 0),s.Writable.prototype.end.call(w,h,y,b)},c.prototype.setTimeout=function(h,y){var b=this||mr;y&&b.once("timeout",y),b._socketTimeout=h,b._resetTimers(!1)},c.prototype.flushHeaders=function(){},c.prototype.setNoDelay=function(){},c.prototype.setSocketKeepAlive=function(){};var p=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"];return Ym}function O6(){if(kA)return Km;kA=!0,Km=e;var t=Object.prototype.hasOwnProperty;function e(){for(var r={},n=0;n<arguments.length;n++){var i=arguments[n];for(var s in i)t.call(i,s)&&(r[s]=i[s])}return r}return Km}function P6(){return DA||(DA=!0,Jm={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}),Jm}function C6(){if(FA)return Xm;FA=!0;var t=R6(),e=zA(),r=O6(),n=P6(),i=Tt,s=Xm;return s.request=function(o,a){typeof o=="string"?o=i.parse(o):o=r(o);var u=I6.location.protocol.search(/^https?:$/)===-1?"http:":"",c=o.protocol||u,l=o.hostname||o.host,p=o.port,h=o.path||"/";l&&l.indexOf(":")!==-1&&(l="["+l+"]"),o.url=(l?c+"//"+l:"")+(p?":"+p:"")+h,o.method=(o.method||"GET").toUpperCase(),o.headers=o.headers||{};var y=new t(o);return a&&y.on("response",a),y},s.get=function(a,u){var c=s.request(a,u);return c.end(),c},s.ClientRequest=t,s.IncomingMessage=e.IncomingMessage,s.Agent=function(){},s.Agent.defaultMaxSockets=4,s.globalAgent=new s.Agent,s.STATUS_CODES=n,s.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],Xm}function N6(){if(qA)return Zm;qA=!0;var t=Gi,e=Tt,r=Zm;for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);r.request=function(s,o){return s=i(s),t.request.call(this||WA,s,o)},r.get=function(s,o){return s=i(s),t.get.call(this||WA,s,o)};function i(s){if(typeof s=="string"&&(s=e.parse(s)),s.protocol||(s.protocol="https:"),s.protocol!=="https:")throw new Error('Protocol "'+s.protocol+'" not supported. Expected "https:"');return s}return Zm}var Tn,BA,Ts,zc,jA,Vc,Ym,UA,mr,Km,kA,Jm,DA,Xm,FA,I6,Gi,Zm,qA,WA,Yi,x6,M6,L6,B6,j6,U6,k6,D6,ef=Rt(()=>{x();Vm();LA();Yu();Zy();qu();ba();Tn={},BA=!1,Ts=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;zc={},jA=!1,Vc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;Ym={},UA=!1,mr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;Km={},kA=!1;Jm={},DA=!1;Xm={},FA=!1,I6=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;Gi=C6();Gi.Agent;Gi.ClientRequest;Gi.IncomingMessage;Gi.METHODS;Gi.STATUS_CODES;Gi.get;Gi.globalAgent;Gi.request;Zm={},qA=!1,WA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;Yi=N6(),x6=Yi.Agent,M6=Yi.ClientRequest,L6=Yi.IncomingMessage,B6=Yi.METHODS,j6=Yi.STATUS_CODES,U6=Yi.get,k6=Yi.globalAgent,D6=Yi.request});var Qm={};qn(Qm,{default:()=>F6});var F6,eg=Rt(()=>{x();F6={}});var VA=de(Gc=>{"use strict";x();Object.defineProperty(Gc,"__esModule",{value:!0});Gc.JsonPlaceholderReplacer=void 0;var q6=[{begin:"{{",end:"}}"},{begin:"<<",end:">>"}],W6=":",H6=[],tg=class{constructor(e){this.variablesMap=[],this.configuration=this.initializeOptions(e);let r=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");this.configuration.delimiterTags=this.configuration.delimiterTags.map(i=>Object.assign(Object.assign({},i),{escapedBeginning:r(i.begin),escapedEnding:r(i.end)}));let n=this.configuration.delimiterTags.map(i=>`^${i.begin}[^${i.end}]+${i.end}$`).join("|");this.delimiterTagsRegex=new RegExp(n)}addVariableMap(e){return typeof e=="string"?this.variablesMap.push(JSON.parse(e)):this.variablesMap.push(e),this}setVariableMap(...e){return this.variablesMap.length=0,e.forEach(r=>this.addVariableMap(r)),this}replace(e){return this.replaceChildren(e,this.variablesMap)}replaceWith(e,...r){return this.replaceChildren(e,r)}initializeOptions(e){var r;let n=q6,i=W6,s=H6;return e!==void 0&&(e.delimiterTags!==void 0&&e.delimiterTags.length>0&&(n=e.delimiterTags),e.defaultValueSeparator!==void 0&&(i=e.defaultValueSeparator),!((r=e.nullishValues)===null||r===void 0)&&r.length&&(s=e.nullishValues.map(o=>JSON.stringify(o)))),{defaultValueSeparator:i,delimiterTags:n,nullishValues:s}}replaceChildren(e,r){for(let n in e){let i=e[n];typeof i=="object"?e[n]=this.replaceChildren(i,r):i!==void 0&&(e[n]=this.replaceValue(i,r))}return e}replaceValue(e,r){let n=e.toString(),i=!this.delimiterTagsRegex.test(e),s=this.configuration.delimiterTags.reduce((o,a)=>{let u=new RegExp(`(${a.escapedBeginning}[^${a.escapedEnding}]+${a.escapedEnding})`,"g");return o.replace(u,this.replacer(i,r)(a))},n);try{return s===n?e:JSON.parse(s)}catch{return s}}replacer(e,r){return n=>i=>{let{tag:s,defaultValue:o}=this.parseTag(i,n),a=this.checkInEveryMap(s,r);if(a===void 0)return o!==void 0?o:i;if(!e)return a;let u=JSON.parse(a);return typeof u=="object"?JSON.stringify(u):u}}parseTag(e,r){let n=e.substring(r.begin.length,e.length-r.begin.length),i=n,s,o=n.indexOf(this.configuration.defaultValueSeparator);return o>0&&(i=n.substring(0,o),s=n.substring(o+this.configuration.defaultValueSeparator.length)),{tag:i,defaultValue:s}}checkInEveryMap(e,r){let{nullishValues:n}=this.configuration,i;return r.forEach(s=>{let o=this.navigateThroughMap(s,e);o!==void 0&&n.includes(o)&&(o=void 0),i=o||i}),i}navigateThroughMap(e,r){if(e===void 0)return;let n=e[r];if(n!==void 0)return JSON.stringify(n);let i=r.split("."),s=i[0];return i.shift(),this.navigateThroughMap(e[s],i.join("."))}};Gc.JsonPlaceholderReplacer=tg});var GA=de((iK,z6)=>{z6.exports={title:"Thing Model",version:"1.1-09-November-2023",description:"JSON Schema for validating Thing Models. This is automatically generated from the WoT TD Schema.",$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/w3c/wot-thing-description/main/validation/tm-json-schema-validation.json",definitions:{anyUri:{type:"string"},description:{type:"string"},descriptions:{type:"object",additionalProperties:{type:"string"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},title:{type:"string"},titles:{type:"object",additionalProperties:{type:"string"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},security:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},subprotocol:{type:"string",examples:["longpoll","websub","sse"]},"thing-context-td-uri-v1":{type:"string",const:"https://www.w3.org/2019/wot/td/v1"},"thing-context-td-uri-v1.1":{type:"string",const:"https://www.w3.org/2022/wot/td/v1.1"},"thing-context-td-uri-temp":{type:"string",const:"http://www.w3.org/ns/td"},"thing-context":{anyOf:[{$comment:"New context URI with other vocabularies after it but not the old one",type:"array",items:[{$ref:"#/definitions/thing-context-td-uri-v1.1"}],additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}],not:{$ref:"#/definitions/thing-context-td-uri-v1"}}},{$comment:"Only the new context URI",$ref:"#/definitions/thing-context-td-uri-v1.1"},{$comment:"Old context URI, followed by the new one and possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"},{$ref:"#/definitions/thing-context-td-uri-v1.1"}],minItems:2,contains:{$ref:"#/definitions/thing-context-td-uri-v1.1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Old context URI, followed by possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"}],minItems:1,contains:{$ref:"#/definitions/thing-context-td-uri-v1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Only the old context URI",$ref:"#/definitions/thing-context-td-uri-v1"}]},bcp47_string:{type:"string",pattern:"^(((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+)|((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)))$"},type_declaration:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},"dataSchema-type":{type:"string",anyOf:[{enum:["boolean","integer","number","string","object","array","null"]},{$ref:"#/definitions/placeholder-pattern"}]},dataSchema:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},title:{$ref:"#/definitions/title"},descriptions:{$ref:"#/definitions/descriptions"},titles:{$ref:"#/definitions/titles"},writeOnly:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},readOnly:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{anyOf:[{type:"array",minItems:1,uniqueItems:!0},{$ref:"#/definitions/placeholder-pattern"}]},format:{type:"string"},const:{},default:{},contentEncoding:{type:"string"},contentMediaType:{type:"string"},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},minItems:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},minimum:{anyOf:[{type:"number"},{$ref:"#/definitions/placeholder-pattern"}]},maximum:{anyOf:[{type:"number"},{$ref:"#/definitions/placeholder-pattern"}]},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},maxLength:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{anyOf:[{type:"array",items:{type:"string"}},{$ref:"#/definitions/placeholder-pattern"}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},additionalResponsesDefinition:{type:"array",items:{type:"object",properties:{contentType:{type:"string"},schema:{type:"string"},success:{type:"boolean"}}}},multipleOfDefinition:{anyOf:[{type:["integer","number"],exclusiveMinimum:0},{$ref:"#/definitions/placeholder-pattern"}]},expectedResponse:{type:"object",properties:{contentType:{type:"string"}},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_base:{type:"object",properties:{op:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},href:{$ref:"#/definitions/anyUri"},contentType:{type:"string"},contentCoding:{type:"string"},subprotocol:{$ref:"#/definitions/subprotocol"},security:{$ref:"#/definitions/security"},scopes:{$ref:"#/definitions/scopes"},response:{$ref:"#/definitions/expectedResponse"},additionalResponses:{$ref:"#/definitions/additionalResponsesDefinition"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_property:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",anyOf:[{enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},{$ref:"#/definitions/placeholder-pattern"}]},{type:"array",items:{type:"string",anyOf:[{enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},{$ref:"#/definitions/placeholder-pattern"}]},minItems:1}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_action:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",anyOf:[{enum:["invokeaction","queryaction","cancelaction"]},{$ref:"#/definitions/placeholder-pattern"}]},{type:"array",items:{type:"string",anyOf:[{enum:["invokeaction","queryaction","cancelaction"]},{$ref:"#/definitions/placeholder-pattern"}]},minItems:1}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_event:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",anyOf:[{enum:["subscribeevent","unsubscribeevent"]},{$ref:"#/definitions/placeholder-pattern"}]},{type:"array",items:{type:"string",anyOf:[{enum:["subscribeevent","unsubscribeevent"]},{$ref:"#/definitions/placeholder-pattern"}]},minItems:1}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_root:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",anyOf:[{enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{$ref:"#/definitions/placeholder-pattern"}]},{type:"array",items:{type:"string",anyOf:[{enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{$ref:"#/definitions/placeholder-pattern"}]},minItems:1}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form:{$comment:"This is NOT for validation purposes but for automatic generation of TS types. For more info, please see: https://github.com/w3c/wot-thing-description/pull/1319#issuecomment-994950057",oneOf:[{$ref:"#/definitions/form_element_property"},{$ref:"#/definitions/form_element_action"},{$ref:"#/definitions/form_element_event"},{$ref:"#/definitions/form_element_root"}]},property_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_property"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},observable:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},writeOnly:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},readOnly:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{anyOf:[{type:"array",minItems:1,uniqueItems:!0},{$ref:"#/definitions/placeholder-pattern"}]},format:{type:"string"},const:{},default:{},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},minItems:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},minimum:{anyOf:[{type:"number"},{$ref:"#/definitions/placeholder-pattern"}]},maximum:{anyOf:[{type:"number"},{$ref:"#/definitions/placeholder-pattern"}]},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},maxLength:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{anyOf:[{type:"array",items:{type:"string"}},{$ref:"#/definitions/placeholder-pattern"}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},action_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_action"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},input:{$ref:"#/definitions/dataSchema"},output:{$ref:"#/definitions/dataSchema"},safe:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},idempotent:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},synchronous:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},event_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_event"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},subscription:{$ref:"#/definitions/dataSchema"},data:{$ref:"#/definitions/dataSchema"},dataResponse:{$ref:"#/definitions/dataSchema"},cancellation:{$ref:"#/definitions/dataSchema"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},base_link_element:{type:"object",properties:{href:{$ref:"#/definitions/anyUri"},type:{type:"string"},rel:{type:"string"},anchor:{$ref:"#/definitions/anyUri"},hreflang:{anyOf:[{$ref:"#/definitions/bcp47_string"},{type:"array",items:{$ref:"#/definitions/bcp47_string"}}]},instanceName:{type:"string"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{not:{description:"A basic link element should not contain sizes",type:"object",properties:{sizes:{}},required:["sizes"]}},{not:{description:"A basic link element should not contain icon",properties:{rel:{anyOf:[{enum:["icon"]},{$ref:"#/definitions/placeholder-pattern"}]}},required:["rel"]}}]},icon_link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{properties:{rel:{const:"icon"},sizes:{type:"string",pattern:"[0-9]*x[0-9]+"}},required:["rel"]}]},additionalSecurityScheme:{description:"Applies to additional SecuritySchemes not defined in the WoT TD specification.",$comment:"Additional SecuritySchemes should always be defined via a context extension, using a prefixed value for the scheme. This prefix (e.g. 'ace', see the example below) must contain at least one character in order to reference a valid JSON-LD context extension.",examples:[{scheme:"ace:ACESecurityScheme","ace:as":"coaps://as.example.com/token","ace:audience":"coaps://rs.example.com","ace:scopes":["limited","special"],"ace:cnonce":!0}],type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",pattern:".+:.*"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},noSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["nosec"]},{$ref:"#/definitions/placeholder-pattern"}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},autoSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["auto"]},{$ref:"#/definitions/placeholder-pattern"}]}},not:{required:["name"]},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},comboSecurityScheme:{oneOf:[{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["combo"]},{$ref:"#/definitions/placeholder-pattern"}]},oneOf:{type:"array",minItems:2,items:{type:"string"}},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0},{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["combo"]},{$ref:"#/definitions/placeholder-pattern"}]},allOf:{type:"array",minItems:2,items:{type:"string"}},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0}]},basicSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["basic"]},{$ref:"#/definitions/placeholder-pattern"}]},in:{type:"string",anyOf:[{enum:["header","query","body","cookie","auto"]},{$ref:"#/definitions/placeholder-pattern"}]},name:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},digestSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["digest"]},{$ref:"#/definitions/placeholder-pattern"}]},qop:{type:"string",anyOf:[{enum:["auth","auth-int"]},{$ref:"#/definitions/placeholder-pattern"}]},in:{type:"string",anyOf:[{enum:["header","query","body","cookie","auto"]},{$ref:"#/definitions/placeholder-pattern"}]},name:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},apiKeySecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["apikey"]},{$ref:"#/definitions/placeholder-pattern"}]},in:{type:"string",anyOf:[{enum:["header","query","body","cookie","uri","auto"]},{$ref:"#/definitions/placeholder-pattern"}]},name:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},bearerSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["bearer"]},{$ref:"#/definitions/placeholder-pattern"}]},authorization:{$ref:"#/definitions/anyUri"},alg:{type:"string"},format:{type:"string"},in:{type:"string",anyOf:[{enum:["header","query","body","cookie","auto"]},{$ref:"#/definitions/placeholder-pattern"}]},name:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},pskSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["psk"]},{$ref:"#/definitions/placeholder-pattern"}]},identity:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},oAuth2SecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["oauth2"]},{$ref:"#/definitions/placeholder-pattern"}]},authorization:{$ref:"#/definitions/anyUri"},token:{$ref:"#/definitions/anyUri"},refresh:{$ref:"#/definitions/anyUri"},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},flow:{anyOf:[{type:"string"},{type:"string",anyOf:[{enum:["code","client"]},{$ref:"#/definitions/placeholder-pattern"}]}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},securityScheme:{anyOf:[{$ref:"#/definitions/noSecurityScheme"},{$ref:"#/definitions/autoSecurityScheme"},{$ref:"#/definitions/comboSecurityScheme"},{$ref:"#/definitions/basicSecurityScheme"},{$ref:"#/definitions/digestSecurityScheme"},{$ref:"#/definitions/apiKeySecurityScheme"},{$ref:"#/definitions/bearerSecurityScheme"},{$ref:"#/definitions/pskSecurityScheme"},{$ref:"#/definitions/oAuth2SecurityScheme"},{$ref:"#/definitions/additionalSecurityScheme"}]},tm_type_declaration:{oneOf:[{type:"string",const:"tm:ThingModel"},{type:"array",items:{type:"string"},contains:{const:"tm:ThingModel"}}]},"placeholder-pattern":{type:"string",pattern:"^.*[{]{2}[ -~]+[}]{2}.*$"},tm_optional:{type:"array",items:{$comment:"this first checks for the general structure of /properties/myProp and then prohibits using / 3 times",allOf:[{type:"string",pattern:"^((/properties/)|(/actions/)|(/events/))(([^/]))",$comment:"regex tests available at https://regex101.com/r/UgOzrJ/1"},{not:{type:"string",pattern:"(/)(.*/){2}",$comment:"regex tests available at https://regex101.com/r/r7vB0r/2"}}]}},tm_ref:{type:"string",format:"uri-reference"}},type:"object",properties:{id:{type:"string"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},properties:{type:"object",additionalProperties:{$ref:"#/definitions/property_element"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},actions:{type:"object",additionalProperties:{$ref:"#/definitions/action_element"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},events:{type:"object",additionalProperties:{$ref:"#/definitions/event_element"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},version:{anyOf:[{type:"object",properties:{model:{type:"string"}},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}},not:{type:"object",properties:{instance:{type:"string"}},required:["instance"]}},{$ref:"#/definitions/placeholder-pattern"}]},links:{type:"array",items:{oneOf:[{$ref:"#/definitions/link_element"},{$ref:"#/definitions/icon_link_element"}]}},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_root"}},base:{$ref:"#/definitions/anyUri"},securityDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/securityScheme"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},schemaDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},support:{$ref:"#/definitions/anyUri"},created:{type:"string"},modified:{type:"string"},profile:{oneOf:[{$ref:"#/definitions/anyUri"},{type:"array",minItems:1,items:{$ref:"#/definitions/anyUri"}}]},security:{oneOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},"@type":{$ref:"#/definitions/tm_type_declaration"},"@context":{$ref:"#/definitions/thing-context"},"tm:optional":{$ref:"#/definitions/tm_optional"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}},required:["@context","@type"]}});var QA=de(dn=>{"use strict";x();var V6=dn&&dn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),G6=dn&&dn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),rg=dn&&dn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&V6(e,t,r);return G6(e,t),e},tf=dn&&dn.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(p){o(p)}}function u(l){try{c(n.throw(l))}catch(p){o(p)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},Kc=dn&&dn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(dn,"__esModule",{value:!0});dn.ThingModelHelpers=void 0;var Y6=Kc(ca()),K6=Kc(J1()),J6=rg((jc(),ht(Bc))),X6=rg((ef(),ht(Qu))),Z6=rg((eg(),ht(Qm))),Q6=VA(),eF=Kc(GA()),JA=Kc(Rh()),XA="node-wot:td-tools:thing-model-helpers",YA=(0,JA.default)(`${XA}:debug`),KA=(0,JA.default)(`${XA}:error`),tF=eF.default,ZA=new Y6.default({strict:!1});(0,K6.default)(ZA);var Yc=class t{constructor(e){this.deps=[],this.resolver=void 0,e&&(this.resolver=e)}static isThingModel(e){if(e==null||typeof e!="object"||Array.isArray(e))return!1;let r=e;if(Array.isArray(r["@type"])){if(r["@type"].filter(i=>i==="tm:ThingModel").length>0)return!0}else if(r["@type"]==="tm:ThingModel")return!0;return!!(Object.keys(this.getThingModelRef(r)).length>0||"links"in r&&Array.isArray(r.links)&&r.links.find(i=>i.rel==="tm:extends")!=null||r.properties!==void 0&&this.isThingModel(r.properties)||r.actions!==void 0&&this.isThingModel(r.actions)||r.events!==void 0&&this.isThingModel(r.events))}static getModelVersion(e){var r;return typeof e?.version=="object"&&typeof((r=e?.version)===null||r===void 0?void 0:r.model)=="string"?e.version.model:void 0}static validateThingModel(e){var r;let n=t.tsSchemaValidator(e),i;return n||(i=(r=t.tsSchemaValidator.errors)===null||r===void 0?void 0:r.map(s=>s.message).join(`
`)),{valid:n,errors:i}}getPartialTDs(e,r){return tf(this,void 0,void 0,function*(){return(yield this._getPartialTDs(e,r)).map(s=>{let o=s;return o["@type"]instanceof Array?o["@type"]=o["@type"].map(a=>a==="tm:ThingModel"?"Thing":a):o["@type"]="Thing",o})})}fetchModel(e){return tf(this,void 0,void 0,function*(){this.addDependency(e);let r;if(this.resolver?r=yield this.resolver.fetch(e):r=yield this.localFetch(e),!t.isThingModel(r))throw new Error(`Data at ${e} is not a Thing Model`);return r})}localFetch(e){switch(e.split("://")[0]){case"file":{let n=e.split("://")[1];return new Promise((i,s)=>{Z6.readFile(n,{encoding:"utf-8"},function(o,a){o?s(o):i(JSON.parse(a))})})}case"http":return new Promise((n,i)=>{J6.get(e,s=>{(s.statusCode==null||s.statusCode!==200)&&i(new Error(`http status code not 200 but ${s.statusCode} for ${e}`)),s.setEncoding("utf8");let o="";s.on("data",a=>{o+=a}),s.on("end",()=>{try{let a=JSON.parse(o);YA(`https fetched: ${a}`),n(a)}catch(a){KA(a)}})}).on("error",s=>{i(s)})});case"https":return new Promise((n,i)=>{X6.get(e,s=>{(s.statusCode==null||s.statusCode!==200)&&i(new Error(`https status code not 200 but ${s.statusCode} for ${e}`)),s.setEncoding("utf8");let o="";s.on("data",a=>{o+=a}),s.on("end",()=>{try{let a=JSON.parse(o);YA(`https fetched: ${a}`),n(a)}catch(a){KA(a)}})}).on("error",s=>{i(s)})});default:break}return null}_getPartialTDs(e,r){return tf(this,void 0,void 0,function*(){if(!t.isThingModel(e))throw new Error(`${e} is not a Thing Model`);let n=t.validateThingModel(e);if(n.valid===!1||n.errors!==void 0)throw new Error(n.errors);if(n=this.checkPlaceholderMap(e,r?.map),n.valid===!1||n.errors!==void 0)throw new Error(n.errors);let i=yield this.fetchAffordances(e);return yield this.composeModel(e,i,r)})}fetchAffordances(e){var r;return tf(this,void 0,void 0,function*(){let n={},i=t.getThingModelLinks(e,"tm:extends");if(i.length>0){n.extends=[];for(let a of i){let u=yield this.fetchModel(a.href);[u]=yield this._getPartialTDs(u),n.extends.push(u)}}let s=["properties","actions","events"];n.imports=[];for(let a of s){let u=t.getThingModelRef(e[a]);if(Object.keys(u).length>0)for(let c in u){let l=u[c],p=this.parseTmRef(l);if(p.uri==null)throw new Error(`Missing remote path in ${l}`);let h=yield this.fetchModel(p.uri);[h]=yield this._getPartialTDs(h),delete e[a][c]["tm:ref"];let y=(r=this.getRefAffordance(p,h))!==null&&r!==void 0?r:{};p.name=c,n.imports.push(Object.assign({affordance:y},p))}}let o=t.getThingModelLinks(e,"tm:submodel");if(o.length>0){n.submodel={};for(let a of o){let u=yield this.fetchModel(a.href);n.submodel[a.href]=u}}return n})}composeModel(e,r,n){var i,s,o,a,u;return tf(this,void 0,void 0,function*(){let c=[],l=((i=e.title)!==null&&i!==void 0?i:"").replace(/ /g,"");n||(n={}),n.baseUrl==null&&(n.baseUrl=".");let p=this.returnNewTMHref(n.baseUrl,l),h=this.returnNewTDHref(n.baseUrl,l);if("extends"in r){let y=(s=r.extends)!==null&&s!==void 0?s:[];for(let b of y)e=t.extendThingModel(b,e);e.links=(o=e.links)===null||o===void 0?void 0:o.filter(b=>b.rel!=="tm:extends")}if("imports"in r){let y=(a=r.imports)!==null&&a!==void 0?a:[];for(let b of y)e=t.importAffordance(b.type,b.name,b.affordance,e)}if("submodel"in r){let y=r.submodel;for(let b in y){let w=y[b];if(n.selfComposition===!0){if(!e.links)throw new Error("You used self composition but links are missing; they are needed to extract the instance name");let m=e.links.findIndex(A=>A.href===b),T=e.links[m].instanceName;if(T==null)throw new Error("Self composition is not possible without instance names");let[S]=yield this._getPartialTDs(w,n),P=["properties","actions","events"];for(let A of P)for(let N in S[A]){let C=`${T}_${N}`;A in e||(e[A]={}),e[A][C]=S[A][N]}}else{let m=((u=w.title)!==null&&u!==void 0?u:"").replace(/ /g,""),E=this.returnNewTDHref(n.baseUrl,m);w.links||(w.links=[]),w.links.push({rel:"collection",href:h,type:"application/td+json"});let T=yield this._getPartialTDs(w,n);c.push(...T),e=t.formatSubmodelLink(e,b,E)}}}return(!e.links||n.selfComposition===!0)&&(e.links=[]),e.links.push({rel:"type",href:p,type:"application/tm+json"}),"version"in e&&delete e.version,n.map&&(e=this.fillPlaceholder(e,n.map)),c.unshift(e),c=c.map(y=>this.fillPlaceholder(y,n?.map)),this.deps.length>0&&this.removeDependency(),c})}static getThingModelRef(e){let r={};if(e==null)return r;for(let n in e)for(let i in e[n])i==="tm:ref"&&(r[n]=e[n]["tm:ref"]);return r}static getThingModelLinks(e,r){let n=[];return"links"in e&&Array.isArray(e.links)&&(n=e.links),n.filter(i=>i.rel===r)}static extendThingModel(e,r){let n={},i=e.properties,s=e.actions,o=e.events;if(n=Object.assign(Object.assign({},e),r),i){n.properties||(n.properties={});for(let a in i)r.properties&&r.properties[a]!=null?n.properties[a]=Object.assign(Object.assign({},i[a]),r.properties[a]):n.properties[a]=i[a]}if(s){n.actions||(n.actions={});for(let a in s)r.actions&&a in r.actions?n.actions[a]=Object.assign(Object.assign({},s[a]),r.actions[a]):n.actions[a]=s[a]}if(o){n.events||(n.events={});for(let a in o)r.events&&a in r.events?n.events[a]=Object.assign(Object.assign({},o[a]),r.events[a]):n.events[a]=o[a]}return n}static importAffordance(e,r,n,i){i[e]||(i[e]={});let s=i[e][r];i[e][r]=Object.assign(Object.assign({},n),s);for(let o in i[e][r])i[e][r][o]===void 0&&delete i[e][r][o];return i}static formatSubmodelLink(e,r,n){if(!e.links)throw new Error("Links are missing");let i=e.links.findIndex(o=>o.href===r);if(i===-1)throw new Error("Link not found");let s=e.links[i];return"instanceName"in s&&delete s.instanceName,e.links[i]=Object.assign(Object.assign({},s),{href:n,type:"application/td+json",rel:"item"}),e}parseTmRef(e){let r=e.split("#")[0],n=e.split("#")[1],i=n.split("/")[1],s=n.split("/")[2];return{uri:r,type:i,name:s}}getRefAffordance(e,r){let n=e.type,i=e.name;if(!(n in r))return;let s=r[n];if(i in s)return s[i]}fillPlaceholder(e,r={}){let n=new Q6.JsonPlaceholderReplacer;return n.addVariableMap(r),n.replace(e)}checkPlaceholderMap(e,r={}){var n;let i="{{.*?}}",o=(n=JSON.stringify(e).match(new RegExp(i,"g")))!==null&&n!==void 0?n:[];o=o.map(c=>c.replace("{{","").replace("}}",""));let a=!0,u;return o?.length>0&&r==null?(a=!1,u=`No map provided for model ${e.title}`):o.length>0&&o.every(c=>c in r?!0:(u=`Missing required fields in map for model ${e.title}`,a=!1,!1)),{valid:a,errors:u}}returnNewTMHref(e,r){return`${e}/${r}.tm.jsonld`}returnNewTDHref(e,r){return`${e}/${r}.td.jsonld`}addDependency(e){if(this.deps.indexOf(e)>-1)throw new Error(`Circular dependency found for ${e}`);this.deps.push(e)}removeDependency(e){e!=null?this.deps=this.deps.filter(r=>r!==e):this.deps.pop()}};dn.ThingModelHelpers=Yc;Yc.tsSchemaValidator=ZA.compile(tF)});var t$=de(e$=>{"use strict";x();Object.defineProperty(e$,"__esModule",{value:!0})});var n$=de(Co=>{"use strict";x();var rF=Co&&Co.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),r$=Co&&Co.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&rF(e,t,r)};Object.defineProperty(Co,"__esModule",{value:!0});r$(QA(),Co);r$(t$(),Co)});var o$={};qn(o$,{EventEmitter:()=>iF,default:()=>gi,defaultMaxListeners:()=>oF,init:()=>sF,listenerCount:()=>aF,on:()=>uF,once:()=>fF});function nF(){if(i$)return Jc;i$=!0;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(A,N,C){return Function.prototype.apply.call(A,N,C)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(A){return Object.getOwnPropertyNames(A).concat(Object.getOwnPropertySymbols(A))}:r=function(A){return Object.getOwnPropertyNames(A)};function n(P){console&&console.warn&&console.warn(P)}var i=Number.isNaN||function(A){return A!==A};function s(){s.init.call(this)}Jc=s,Jc.once=E,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(P){if(typeof P!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof P)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(P){if(typeof P!="number"||P<0||i(P))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+P+".");o=P}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(A){if(typeof A!="number"||A<0||i(A))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+A+".");return this._maxListeners=A,this};function u(P){return P._maxListeners===void 0?s.defaultMaxListeners:P._maxListeners}s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(A){for(var N=[],C=1;C<arguments.length;C++)N.push(arguments[C]);var W=A==="error",z=this._events;if(z!==void 0)W=W&&z.error===void 0;else if(!W)return!1;if(W){var j;if(N.length>0&&(j=N[0]),j instanceof Error)throw j;var ne=new Error("Unhandled error."+(j?" ("+j.message+")":""));throw ne.context=j,ne}var Q=z[A];if(Q===void 0)return!1;if(typeof Q=="function")e(Q,this,N);else for(var H=Q.length,fe=b(Q,H),C=0;C<H;++C)e(fe[C],this,N);return!0};function c(P,A,N,C){var W,z,j;if(a(N),z=P._events,z===void 0?(z=P._events=Object.create(null),P._eventsCount=0):(z.newListener!==void 0&&(P.emit("newListener",A,N.listener?N.listener:N),z=P._events),j=z[A]),j===void 0)j=z[A]=N,++P._eventsCount;else if(typeof j=="function"?j=z[A]=C?[N,j]:[j,N]:C?j.unshift(N):j.push(N),W=u(P),W>0&&j.length>W&&!j.warned){j.warned=!0;var ne=new Error("Possible EventEmitter memory leak detected. "+j.length+" "+String(A)+" listeners added. Use emitter.setMaxListeners() to increase limit");ne.name="MaxListenersExceededWarning",ne.emitter=P,ne.type=A,ne.count=j.length,n(ne)}return P}s.prototype.addListener=function(A,N){return c(this,A,N,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(A,N){return c(this,A,N,!0)};function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(P,A,N){var C={fired:!1,wrapFn:void 0,target:P,type:A,listener:N},W=l.bind(C);return W.listener=N,C.wrapFn=W,W}s.prototype.once=function(A,N){return a(N),this.on(A,p(this,A,N)),this},s.prototype.prependOnceListener=function(A,N){return a(N),this.prependListener(A,p(this,A,N)),this},s.prototype.removeListener=function(A,N){var C,W,z,j,ne;if(a(N),W=this._events,W===void 0)return this;if(C=W[A],C===void 0)return this;if(C===N||C.listener===N)--this._eventsCount===0?this._events=Object.create(null):(delete W[A],W.removeListener&&this.emit("removeListener",A,C.listener||N));else if(typeof C!="function"){for(z=-1,j=C.length-1;j>=0;j--)if(C[j]===N||C[j].listener===N){ne=C[j].listener,z=j;break}if(z<0)return this;z===0?C.shift():w(C,z),C.length===1&&(W[A]=C[0]),W.removeListener!==void 0&&this.emit("removeListener",A,ne||N)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(A){var N,C,W;if(C=this._events,C===void 0)return this;if(C.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):C[A]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete C[A]),this;if(arguments.length===0){var z=Object.keys(C),j;for(W=0;W<z.length;++W)j=z[W],j!=="removeListener"&&this.removeAllListeners(j);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(N=C[A],typeof N=="function")this.removeListener(A,N);else if(N!==void 0)for(W=N.length-1;W>=0;W--)this.removeListener(A,N[W]);return this};function h(P,A,N){var C=P._events;if(C===void 0)return[];var W=C[A];return W===void 0?[]:typeof W=="function"?N?[W.listener||W]:[W]:N?m(W):b(W,W.length)}s.prototype.listeners=function(A){return h(this,A,!0)},s.prototype.rawListeners=function(A){return h(this,A,!1)},s.listenerCount=function(P,A){return typeof P.listenerCount=="function"?P.listenerCount(A):y.call(P,A)},s.prototype.listenerCount=y;function y(P){var A=this._events;if(A!==void 0){var N=A[P];if(typeof N=="function")return 1;if(N!==void 0)return N.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function b(P,A){for(var N=new Array(A),C=0;C<A;++C)N[C]=P[C];return N}function w(P,A){for(;A+1<P.length;A++)P[A]=P[A+1];P.pop()}function m(P){for(var A=new Array(P.length),N=0;N<A.length;++N)A[N]=P[N].listener||P[N];return A}function E(P,A){return new Promise(function(N,C){function W(j){P.removeListener(A,z),C(j)}function z(){typeof P.removeListener=="function"&&P.removeListener("error",W),N([].slice.call(arguments))}S(P,A,z,{once:!0}),A!=="error"&&T(P,W,{once:!0})})}function T(P,A,N){typeof P.on=="function"&&S(P,"error",A,N)}function S(P,A,N,C){if(typeof P.on=="function")C.once?P.once(A,N):P.on(A,N);else if(typeof P.addEventListener=="function")P.addEventListener(A,function W(z){C.once&&P.removeEventListener(A,W),N(z)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof P)}return Jc}var Jc,i$,gi,iF,oF,sF,aF,uF,fF,ng=Rt(()=>{x();Jc={},i$=!1;gi=nF();gi.once;gi.once=function(t,e){return new Promise((r,n)=>{function i(...o){s!==void 0&&t.removeListener("error",s),r(o)}let s;e!=="error"&&(s=o=>{t.removeListener(name,i),n(o)},t.once("error",s)),t.once(e,i)})};gi.on=function(t,e){let r=[],n=[],i=null,s=!1,o={async next(){let c=r.shift();if(c)return createIterResult(c,!1);if(i){let l=Promise.reject(i);return i=null,l}return s?createIterResult(void 0,!0):new Promise((l,p)=>n.push({resolve:l,reject:p}))},async return(){t.removeListener(e,a),t.removeListener("error",u),s=!0;for(let c of n)c.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(c){i=c,t.removeListener(e,a),t.removeListener("error",u)},[Symbol.asyncIterator](){return this}};return t.on(e,a),t.on("error",u),o;function a(...c){let l=n.shift();l?l.resolve(createIterResult(c,!1)):r.push(c)}function u(c){s=!0;let l=n.shift();l?l.reject(c):i=c,o.return()}};({EventEmitter:iF,defaultMaxListeners:oF,init:sF,listenerCount:aF,on:uF,once:fF}=gi)});function Tg(){return s$||(s$=!0,ig=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0}),ig}function lF(){return a$||(a$=!0,og=Error),og}function cF(){return u$||(u$=!0,sg=EvalError),sg}function dF(){return f$||(f$=!0,ag=RangeError),ag}function hF(){return l$||(l$=!0,ug=ReferenceError),ug}function R$(){return c$||(c$=!0,fg=SyntaxError),fg}function Oa(){return d$||(d$=!0,lg=TypeError),lg}function pF(){return h$||(h$=!0,cg=URIError),cg}function yF(){if(p$)return dg;p$=!0;var t=typeof Symbol<"u"&&Symbol,e=Tg();return dg=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},dg}function mF(){if(y$)return hg;y$=!0;var t={__proto__:null,foo:{}},e=Object;return hg=function(){return{__proto__:t}.foo===t.foo&&!(t instanceof e)},hg}function gF(){if(m$)return pg;m$=!0;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(u,c){for(var l=[],p=0;p<u.length;p+=1)l[p]=u[p];for(var h=0;h<c.length;h+=1)l[h+u.length]=c[h];return l},s=function(u,c){for(var l=[],p=c,h=0;p<u.length;p+=1,h+=1)l[h]=u[p];return l},o=function(a,u){for(var c="",l=0;l<a.length;l+=1)c+=a[l],l+1<a.length&&(c+=u);return c};return pg=function(u){var c=this;if(typeof c!="function"||e.apply(c)!==n)throw new TypeError(t+c);for(var l=s(arguments,1),p,h=function(){if(this instanceof p){var E=c.apply(this,i(l,arguments));return Object(E)===E?E:this}return c.apply(u,i(l,arguments))},y=r(0,c.length-l.length),b=[],w=0;w<y;w++)b[w]="$"+w;if(p=Function("binder","return function ("+o(b,",")+"){ return binder.apply(this,arguments); }")(h),c.prototype){var m=function(){};m.prototype=c.prototype,p.prototype=new m,m.prototype=null}return p},pg}function Ag(){if(g$)return yg;g$=!0;var t=gF();return yg=Function.prototype.bind||t,yg}function bF(){if(b$)return mg;b$=!0;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=Ag();return mg=r.call(t,e),mg}function As(){if(_$)return gg;_$=!0;var t,e=lF(),r=cF(),n=dF(),i=hF(),s=R$(),o=Oa(),a=pF(),u=Function,c=function(Ae){try{return u('"use strict"; return ('+Ae+").constructor;")()}catch{}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch{l=null}var p=function(){throw new o},h=l?function(){try{return arguments.callee,p}catch{try{return l(arguments,"callee").get}catch{return p}}}():p,y=yF()(),b=mF()(),w=Object.getPrototypeOf||(b?function(Ae){return Ae.__proto__}:null),m={},E=typeof Uint8Array>"u"||!w?t:w(Uint8Array),T={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":y&&w?w([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":m,"%AsyncGenerator%":m,"%AsyncGeneratorFunction%":m,"%AsyncIteratorPrototype%":m,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":e,"%eval%":eval,"%EvalError%":r,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":u,"%GeneratorFunction%":m,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":y&&w?w(w([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!y||!w?t:w(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":n,"%ReferenceError%":i,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!y||!w?t:w(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":y&&w?w(""[Symbol.iterator]()):t,"%Symbol%":y?Symbol:t,"%SyntaxError%":s,"%ThrowTypeError%":h,"%TypedArray%":E,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":a,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet};if(w)try{null.error}catch(Ae){var S=w(w(Ae));T["%Error.prototype%"]=S}var P=function Ae(Z){var we;if(Z==="%AsyncFunction%")we=c("async function () {}");else if(Z==="%GeneratorFunction%")we=c("function* () {}");else if(Z==="%AsyncGeneratorFunction%")we=c("async function* () {}");else if(Z==="%AsyncGenerator%"){var D=Ae("%AsyncGeneratorFunction%");D&&(we=D.prototype)}else if(Z==="%AsyncIteratorPrototype%"){var ae=Ae("%AsyncGenerator%");ae&&w&&(we=w(ae.prototype))}return T[Z]=we,we},A={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},N=Ag(),C=bF(),W=N.call(Function.call,Array.prototype.concat),z=N.call(Function.apply,Array.prototype.splice),j=N.call(Function.call,String.prototype.replace),ne=N.call(Function.call,String.prototype.slice),Q=N.call(Function.call,RegExp.prototype.exec),H=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,fe=/\\(\\)?/g,me=function(Z){var we=ne(Z,0,1),D=ne(Z,-1);if(we==="%"&&D!=="%")throw new s("invalid intrinsic syntax, expected closing `%`");if(D==="%"&&we!=="%")throw new s("invalid intrinsic syntax, expected opening `%`");var ae=[];return j(Z,H,function(Y,F,te,pe){ae[ae.length]=te?j(pe,fe,"$1"):F||Y}),ae},Te=function(Z,we){var D=Z,ae;if(C(A,D)&&(ae=A[D],D="%"+ae[0]+"%"),C(T,D)){var Y=T[D];if(Y===m&&(Y=P(D)),typeof Y>"u"&&!we)throw new o("intrinsic "+Z+" exists, but is not available. Please file an issue!");return{alias:ae,name:D,value:Y}}throw new s("intrinsic "+Z+" does not exist!")};return gg=function(Z,we){if(typeof Z!="string"||Z.length===0)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof we!="boolean")throw new o('"allowMissing" argument must be a boolean');if(Q(/^%?[^%]*%?$/,Z)===null)throw new s("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var D=me(Z),ae=D.length>0?D[0]:"",Y=Te("%"+ae+"%",we),F=Y.name,te=Y.value,pe=!1,Ie=Y.alias;Ie&&(ae=Ie[0],z(D,W([0,1],Ie)));for(var M=1,I=!0;M<D.length;M+=1){var k=D[M],ie=ne(k,0,1),he=ne(k,-1);if((ie==='"'||ie==="'"||ie==="`"||he==='"'||he==="'"||he==="`")&&ie!==he)throw new s("property names with quotes must have matching quotes");if((k==="constructor"||!I)&&(pe=!0),ae+="."+k,F="%"+ae+"%",C(T,F))te=T[F];else if(te!=null){if(!(k in te)){if(!we)throw new o("base intrinsic for "+Z+" exists, but the property is not available.");return}if(l&&M+1>=D.length){var $=l(te,k);I=!!$,I&&"get"in $&&!("originalValue"in $.get)?te=$.get:te=te[k]}else I=C(te,k),te=te[k];I&&!pe&&(T[F]=te)}}return te},gg}function $g(){if(w$)return bg;w$=!0;var t=As(),e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return bg=e,bg}function Xc(){if(v$)return _g;v$=!0;var t=As(),e=t("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return _g=e,_g}function _F(){if(E$)return wg;E$=!0;var t=$g(),e=R$(),r=Oa(),n=Xc();return wg=function(s,o,a){if(!s||typeof s!="object"&&typeof s!="function")throw new r("`obj` must be an object or a function`");if(typeof o!="string"&&typeof o!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var u=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,l=arguments.length>5?arguments[5]:null,p=arguments.length>6?arguments[6]:!1,h=!!n&&n(s,o);if(t)t(s,o,{configurable:l===null&&h?h.configurable:!l,enumerable:u===null&&h?h.enumerable:!u,value:a,writable:c===null&&h?h.writable:!c});else if(p||!u&&!c&&!l)s[o]=a;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},wg}function wF(){if(S$)return vg;S$=!0;var t=$g(),e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},vg=e,vg}function vF(){if(T$)return Eg;T$=!0;var t=As(),e=_F(),r=wF()(),n=Xc(),i=Oa(),s=t("%Math.floor%");return Eg=function(a,u){if(typeof a!="function")throw new i("`fn` is not a function");if(typeof u!="number"||u<0||u>4294967295||s(u)!==u)throw new i("`length` must be a positive 32-bit integer");var c=arguments.length>2&&!!arguments[2],l=!0,p=!0;if("length"in a&&n){var h=n(a,"length");h&&!h.configurable&&(l=!1),h&&!h.writable&&(p=!1)}return(l||p||!c)&&(r?e(a,"length",u,!0,!0):e(a,"length",u)),a},Eg}function Rg(){if(A$)return rf;A$=!0;var t=Ag(),e=As(),r=vF(),n=Oa(),i=e("%Function.prototype.apply%"),s=e("%Function.prototype.call%"),o=e("%Reflect.apply%",!0)||t.call(s,i),a=$g(),u=e("%Math.max%");rf=function(p){if(typeof p!="function")throw new n("a function is required");var h=o(t,s,arguments);return r(h,1+u(0,p.length-(arguments.length-1)),!0)};var c=function(){return o(t,i,arguments)};return a?a(rf,"apply",{value:c}):rf.apply=c,rf}function nf(){if($$)return Sg;$$=!0;var t=As(),e=Rg(),r=e(t("String.prototype.indexOf"));return Sg=function(i,s){var o=t(i,!!s);return typeof o=="function"&&r(i,".prototype.")>-1?e(o):o},Sg}var ig,s$,og,a$,sg,u$,ag,f$,ug,l$,fg,c$,lg,d$,cg,h$,dg,p$,hg,y$,pg,m$,yg,g$,mg,b$,gg,_$,bg,w$,_g,v$,wg,E$,vg,S$,Eg,T$,rf,A$,Sg,$$,Zc=Rt(()=>{x();ig={},s$=!1;og={},a$=!1;sg={},u$=!1;ag={},f$=!1;ug={},l$=!1;fg={},c$=!1;lg={},d$=!1;cg={},h$=!1;dg={},p$=!1;hg={},y$=!1;pg={},m$=!1;yg={},g$=!1;mg={},b$=!1;gg={},_$=!1;bg={},w$=!1;_g={},v$=!1;wg={},E$=!1;vg={},S$=!1;Eg={},T$=!1;rf={},A$=!1;Sg={},$$=!1});var ed={};qn(ed,{TextDecoder:()=>o4,TextEncoder:()=>i4,_extend:()=>MF,callbackify:()=>LF,debuglog:()=>BF,default:()=>We,deprecate:()=>jF,format:()=>UF,inherits:()=>kF,inspect:()=>DF,isArray:()=>FF,isBoolean:()=>qF,isBuffer:()=>WF,isDate:()=>HF,isError:()=>zF,isFunction:()=>VF,isNull:()=>GF,isNullOrUndefined:()=>YF,isNumber:()=>KF,isObject:()=>JF,isPrimitive:()=>XF,isRegExp:()=>ZF,isString:()=>QF,isSymbol:()=>e4,isUndefined:()=>t4,log:()=>r4,promisify:()=>Qc,types:()=>n4});function Ug(){if(O$)return Og;O$=!0;var t=Tg();return Og=function(){return t()&&!!Symbol.toStringTag},Og}function EF(){if(P$)return Pg;P$=!0;var t=Ug()(),e=nf(),r=e("Object.prototype.toString"),n=function(a){return t&&a&&typeof a=="object"&&Symbol.toStringTag in a?!1:r(a)==="[object Arguments]"},i=function(a){return n(a)?!0:a!==null&&typeof a=="object"&&typeof a.length=="number"&&a.length>=0&&r(a)!=="[object Array]"&&r(a.callee)==="[object Function]"},s=function(){return n(arguments)}();return n.isLegacyArguments=i,Pg=s?n:i,Pg}function SF(){if(I$)return Ig;I$=!0;var t=Object.prototype.toString,e=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=Ug()(),i=Object.getPrototypeOf,s=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},o;return Ig=function(u){if(typeof u!="function")return!1;if(r.test(e.call(u)))return!0;if(!n){var c=t.call(u);return c==="[object GeneratorFunction]"}if(!i)return!1;if(typeof o>"u"){var l=s();o=l?i(l):!1}return i(u)===o},Ig}function TF(){if(C$)return Cg;C$=!0;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,r)}catch(T){T!==n&&(e=null)}else e=null;var i=/^\s*class\b/,s=function(S){try{var P=t.call(S);return i.test(P)}catch{return!1}},o=function(S){try{return s(S)?!1:(t.call(S),!0)}catch{return!1}},a=Object.prototype.toString,u="[object Object]",c="[object Function]",l="[object GeneratorFunction]",p="[object HTMLAllCollection]",h="[object HTML document.all class]",y="[object HTMLCollection]",b=typeof Symbol=="function"&&!!Symbol.toStringTag,w=!(0 in[,]),m=function(){return!1};if(typeof document=="object"){var E=document.all;a.call(E)===a.call(document.all)&&(m=function(S){if((w||!S)&&(typeof S>"u"||typeof S=="object"))try{var P=a.call(S);return(P===p||P===h||P===y||P===u)&&S("")==null}catch{}return!1})}return Cg=e?function(S){if(m(S))return!0;if(!S||typeof S!="function"&&typeof S!="object")return!1;try{e(S,null,r)}catch(P){if(P!==n)return!1}return!s(S)&&o(S)}:function(S){if(m(S))return!0;if(!S||typeof S!="function"&&typeof S!="object")return!1;if(b)return o(S);if(s(S))return!1;var P=a.call(S);return P!==c&&P!==l&&!/^\[object HTML/.test(P)?!1:o(S)},Cg}function AF(){if(N$)return Ng;N$=!0;var t=TF(),e=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(u,c,l){for(var p=0,h=u.length;p<h;p++)r.call(u,p)&&(l==null?c(u[p],p,u):c.call(l,u[p],p,u))},i=function(u,c,l){for(var p=0,h=u.length;p<h;p++)l==null?c(u.charAt(p),p,u):c.call(l,u.charAt(p),p,u)},s=function(u,c,l){for(var p in u)r.call(u,p)&&(l==null?c(u[p],p,u):c.call(l,u[p],p,u))},o=function(u,c,l){if(!t(c))throw new TypeError("iterator must be a function");var p;arguments.length>=3&&(p=l),e.call(u)==="[object Array]"?n(u,c,p):typeof u=="string"?i(u,c,p):s(u,c,p)};return Ng=o,Ng}function $F(){return x$||(x$=!0,xg=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),xg}function OF(){if(M$)return Mg;M$=!0;var t=$F(),e=typeof globalThis>"u"?RF:globalThis;return Mg=function(){for(var n=[],i=0;i<t.length;i++)typeof e[t[i]]=="function"&&(n[n.length]=t[i]);return n},Mg}function D$(){if(L$)return Lg;L$=!0;var t=AF(),e=OF(),r=Rg(),n=nf(),i=Xc(),s=n("Object.prototype.toString"),o=Ug()(),a=typeof globalThis>"u"?PF:globalThis,u=e(),c=n("String.prototype.slice"),l=Object.getPrototypeOf,p=n("Array.prototype.indexOf",!0)||function(m,E){for(var T=0;T<m.length;T+=1)if(m[T]===E)return T;return-1},h={__proto__:null};o&&i&&l?t(u,function(w){var m=new a[w];if(Symbol.toStringTag in m){var E=l(m),T=i(E,Symbol.toStringTag);if(!T){var S=l(E);T=i(S,Symbol.toStringTag)}h["$"+w]=r(T.get)}}):t(u,function(w){var m=new a[w],E=m.slice||m.set;E&&(h["$"+w]=r(E))});var y=function(m){var E=!1;return t(h,function(T,S){if(!E)try{"$"+T(m)===S&&(E=c(S,1))}catch{}}),E},b=function(m){var E=!1;return t(h,function(T,S){if(!E)try{T(m),E=c(S,1)}catch{}}),E};return Lg=function(m){if(!m||typeof m!="object")return!1;if(!o){var E=c(s(m),8,-1);return p(u,E)>-1?E:E!=="Object"?!1:b(m)}return i?y(m):null},Lg}function IF(){if(B$)return Bg;B$=!0;var t=D$();return Bg=function(r){return!!t(r)},Bg}function CF(){if(j$)return ft;j$=!0;var t=EF(),e=SF(),r=D$(),n=IF();function i(J){return J.call.bind(J)}var s=typeof BigInt<"u",o=typeof Symbol<"u",a=i(Object.prototype.toString),u=i(Number.prototype.valueOf),c=i(String.prototype.valueOf),l=i(Boolean.prototype.valueOf);if(s)var p=i(BigInt.prototype.valueOf);if(o)var h=i(Symbol.prototype.valueOf);function y(J,se){if(typeof J!="object")return!1;try{return se(J),!0}catch{return!1}}ft.isArgumentsObject=t,ft.isGeneratorFunction=e,ft.isTypedArray=n;function b(J){return typeof Promise<"u"&&J instanceof Promise||J!==null&&typeof J=="object"&&typeof J.then=="function"&&typeof J.catch=="function"}ft.isPromise=b;function w(J){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(J):n(J)||Y(J)}ft.isArrayBufferView=w;function m(J){return r(J)==="Uint8Array"}ft.isUint8Array=m;function E(J){return r(J)==="Uint8ClampedArray"}ft.isUint8ClampedArray=E;function T(J){return r(J)==="Uint16Array"}ft.isUint16Array=T;function S(J){return r(J)==="Uint32Array"}ft.isUint32Array=S;function P(J){return r(J)==="Int8Array"}ft.isInt8Array=P;function A(J){return r(J)==="Int16Array"}ft.isInt16Array=A;function N(J){return r(J)==="Int32Array"}ft.isInt32Array=N;function C(J){return r(J)==="Float32Array"}ft.isFloat32Array=C;function W(J){return r(J)==="Float64Array"}ft.isFloat64Array=W;function z(J){return r(J)==="BigInt64Array"}ft.isBigInt64Array=z;function j(J){return r(J)==="BigUint64Array"}ft.isBigUint64Array=j;function ne(J){return a(J)==="[object Map]"}ne.working=typeof Map<"u"&&ne(new Map);function Q(J){return typeof Map>"u"?!1:ne.working?ne(J):J instanceof Map}ft.isMap=Q;function H(J){return a(J)==="[object Set]"}H.working=typeof Set<"u"&&H(new Set);function fe(J){return typeof Set>"u"?!1:H.working?H(J):J instanceof Set}ft.isSet=fe;function me(J){return a(J)==="[object WeakMap]"}me.working=typeof WeakMap<"u"&&me(new WeakMap);function Te(J){return typeof WeakMap>"u"?!1:me.working?me(J):J instanceof WeakMap}ft.isWeakMap=Te;function Ae(J){return a(J)==="[object WeakSet]"}Ae.working=typeof WeakSet<"u"&&Ae(new WeakSet);function Z(J){return Ae(J)}ft.isWeakSet=Z;function we(J){return a(J)==="[object ArrayBuffer]"}we.working=typeof ArrayBuffer<"u"&&we(new ArrayBuffer);function D(J){return typeof ArrayBuffer>"u"?!1:we.working?we(J):J instanceof ArrayBuffer}ft.isArrayBuffer=D;function ae(J){return a(J)==="[object DataView]"}ae.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&ae(new DataView(new ArrayBuffer(1),0,1));function Y(J){return typeof DataView>"u"?!1:ae.working?ae(J):J instanceof DataView}ft.isDataView=Y;var F=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function te(J){return a(J)==="[object SharedArrayBuffer]"}function pe(J){return typeof F>"u"?!1:(typeof te.working>"u"&&(te.working=te(new F)),te.working?te(J):J instanceof F)}ft.isSharedArrayBuffer=pe;function Ie(J){return a(J)==="[object AsyncFunction]"}ft.isAsyncFunction=Ie;function M(J){return a(J)==="[object Map Iterator]"}ft.isMapIterator=M;function I(J){return a(J)==="[object Set Iterator]"}ft.isSetIterator=I;function k(J){return a(J)==="[object Generator]"}ft.isGeneratorObject=k;function ie(J){return a(J)==="[object WebAssembly.Module]"}ft.isWebAssemblyCompiledModule=ie;function he(J){return y(J,u)}ft.isNumberObject=he;function $(J){return y(J,c)}ft.isStringObject=$;function v(J){return y(J,l)}ft.isBooleanObject=v;function L(J){return s&&y(J,p)}ft.isBigIntObject=L;function V(J){return o&&y(J,h)}ft.isSymbolObject=V;function ye(J){return he(J)||$(J)||v(J)||L(J)||V(J)}ft.isBoxedPrimitive=ye;function le(J){return typeof Uint8Array<"u"&&(D(J)||pe(J))}return ft.isAnyArrayBuffer=le,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(J){Object.defineProperty(ft,J,{enumerable:!1,value:function(){throw new Error(J+" is not supported in userland")}})}),ft}function NF(){return U$||(U$=!0,jg=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),jg}function xF(){if(k$)return lt;k$=!0;var t=or,e=Object.getOwnPropertyDescriptors||function(F){for(var te=Object.keys(F),pe={},Ie=0;Ie<te.length;Ie++)pe[te[Ie]]=Object.getOwnPropertyDescriptor(F,te[Ie]);return pe},r=/%[sdj%]/g;lt.format=function(Y){if(!A(Y)){for(var F=[],te=0;te<arguments.length;te++)F.push(o(arguments[te]));return F.join(" ")}for(var te=1,pe=arguments,Ie=pe.length,M=String(Y).replace(r,function(k){if(k==="%%")return"%";if(te>=Ie)return k;switch(k){case"%s":return String(pe[te++]);case"%d":return Number(pe[te++]);case"%j":try{return JSON.stringify(pe[te++])}catch{return"[Circular]"}default:return k}}),I=pe[te];te<Ie;I=pe[++te])T(I)||!z(I)?M+=" "+I:M+=" "+o(I);return M},lt.deprecate=function(Y,F){if(typeof t<"u"&&t.noDeprecation===!0)return Y;if(typeof t>"u")return function(){return lt.deprecate(Y,F).apply(this||of,arguments)};var te=!1;function pe(){if(!te){if(t.throwDeprecation)throw new Error(F);t.traceDeprecation?console.trace(F):console.error(F),te=!0}return Y.apply(this||of,arguments)}return pe};var n={},i=/^$/;if(t.env.NODE_DEBUG){var s=t.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}lt.debuglog=function(Y){if(Y=Y.toUpperCase(),!n[Y])if(i.test(Y)){var F=t.pid;n[Y]=function(){var te=lt.format.apply(lt,arguments);console.error("%s %d: %s",Y,F,te)}}else n[Y]=function(){};return n[Y]};function o(Y,F){var te={seen:[],stylize:u};return arguments.length>=3&&(te.depth=arguments[2]),arguments.length>=4&&(te.colors=arguments[3]),E(F)?te.showHidden=F:F&&lt._extend(te,F),C(te.showHidden)&&(te.showHidden=!1),C(te.depth)&&(te.depth=2),C(te.colors)&&(te.colors=!1),C(te.customInspect)&&(te.customInspect=!0),te.colors&&(te.stylize=a),l(te,Y,te.depth)}lt.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(Y,F){var te=o.styles[F];return te?"\x1B["+o.colors[te][0]+"m"+Y+"\x1B["+o.colors[te][1]+"m":Y}function u(Y,F){return Y}function c(Y){var F={};return Y.forEach(function(te,pe){F[te]=!0}),F}function l(Y,F,te){if(Y.customInspect&&F&&Q(F.inspect)&&F.inspect!==lt.inspect&&!(F.constructor&&F.constructor.prototype===F)){var pe=F.inspect(te,Y);return A(pe)||(pe=l(Y,pe,te)),pe}var Ie=p(Y,F);if(Ie)return Ie;var M=Object.keys(F),I=c(M);if(Y.showHidden&&(M=Object.getOwnPropertyNames(F)),ne(F)&&(M.indexOf("message")>=0||M.indexOf("description")>=0))return h(F);if(M.length===0){if(Q(F)){var k=F.name?": "+F.name:"";return Y.stylize("[Function"+k+"]","special")}if(W(F))return Y.stylize(RegExp.prototype.toString.call(F),"regexp");if(j(F))return Y.stylize(Date.prototype.toString.call(F),"date");if(ne(F))return h(F)}var ie="",he=!1,$=["{","}"];if(m(F)&&(he=!0,$=["[","]"]),Q(F)){var v=F.name?": "+F.name:"";ie=" [Function"+v+"]"}if(W(F)&&(ie=" "+RegExp.prototype.toString.call(F)),j(F)&&(ie=" "+Date.prototype.toUTCString.call(F)),ne(F)&&(ie=" "+h(F)),M.length===0&&(!he||F.length==0))return $[0]+ie+$[1];if(te<0)return W(F)?Y.stylize(RegExp.prototype.toString.call(F),"regexp"):Y.stylize("[Object]","special");Y.seen.push(F);var L;return he?L=y(Y,F,te,I,M):L=M.map(function(V){return b(Y,F,te,I,V,he)}),Y.seen.pop(),w(L,ie,$)}function p(Y,F){if(C(F))return Y.stylize("undefined","undefined");if(A(F)){var te="'"+JSON.stringify(F).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Y.stylize(te,"string")}if(P(F))return Y.stylize(""+F,"number");if(E(F))return Y.stylize(""+F,"boolean");if(T(F))return Y.stylize("null","null")}function h(Y){return"["+Error.prototype.toString.call(Y)+"]"}function y(Y,F,te,pe,Ie){for(var M=[],I=0,k=F.length;I<k;++I)Z(F,String(I))?M.push(b(Y,F,te,pe,String(I),!0)):M.push("");return Ie.forEach(function(ie){ie.match(/^\d+$/)||M.push(b(Y,F,te,pe,ie,!0))}),M}function b(Y,F,te,pe,Ie,M){var I,k,ie;if(ie=Object.getOwnPropertyDescriptor(F,Ie)||{value:F[Ie]},ie.get?ie.set?k=Y.stylize("[Getter/Setter]","special"):k=Y.stylize("[Getter]","special"):ie.set&&(k=Y.stylize("[Setter]","special")),Z(pe,Ie)||(I="["+Ie+"]"),k||(Y.seen.indexOf(ie.value)<0?(T(te)?k=l(Y,ie.value,null):k=l(Y,ie.value,te-1),k.indexOf(`
`)>-1&&(M?k=k.split(`
`).map(function(he){return"  "+he}).join(`
`).slice(2):k=`
`+k.split(`
`).map(function(he){return"   "+he}).join(`
`))):k=Y.stylize("[Circular]","special")),C(I)){if(M&&Ie.match(/^\d+$/))return k;I=JSON.stringify(""+Ie),I.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(I=I.slice(1,-1),I=Y.stylize(I,"name")):(I=I.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),I=Y.stylize(I,"string"))}return I+": "+k}function w(Y,F,te){var pe=Y.reduce(function(Ie,M){return M.indexOf(`
`)>=0,Ie+M.replace(/\u001b\[\d\d?m/g,"").length+1},0);return pe>60?te[0]+(F===""?"":F+`
 `)+" "+Y.join(`,
  `)+" "+te[1]:te[0]+F+" "+Y.join(", ")+" "+te[1]}lt.types=CF();function m(Y){return Array.isArray(Y)}lt.isArray=m;function E(Y){return typeof Y=="boolean"}lt.isBoolean=E;function T(Y){return Y===null}lt.isNull=T;function S(Y){return Y==null}lt.isNullOrUndefined=S;function P(Y){return typeof Y=="number"}lt.isNumber=P;function A(Y){return typeof Y=="string"}lt.isString=A;function N(Y){return typeof Y=="symbol"}lt.isSymbol=N;function C(Y){return Y===void 0}lt.isUndefined=C;function W(Y){return z(Y)&&fe(Y)==="[object RegExp]"}lt.isRegExp=W,lt.types.isRegExp=W;function z(Y){return typeof Y=="object"&&Y!==null}lt.isObject=z;function j(Y){return z(Y)&&fe(Y)==="[object Date]"}lt.isDate=j,lt.types.isDate=j;function ne(Y){return z(Y)&&(fe(Y)==="[object Error]"||Y instanceof Error)}lt.isError=ne,lt.types.isNativeError=ne;function Q(Y){return typeof Y=="function"}lt.isFunction=Q;function H(Y){return Y===null||typeof Y=="boolean"||typeof Y=="number"||typeof Y=="string"||typeof Y=="symbol"||typeof Y>"u"}lt.isPrimitive=H,lt.isBuffer=NF();function fe(Y){return Object.prototype.toString.call(Y)}function me(Y){return Y<10?"0"+Y.toString(10):Y.toString(10)}var Te=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Ae(){var Y=new Date,F=[me(Y.getHours()),me(Y.getMinutes()),me(Y.getSeconds())].join(":");return[Y.getDate(),Te[Y.getMonth()],F].join(" ")}lt.log=function(){console.log("%s - %s",Ae(),lt.format.apply(lt,arguments))},lt.inherits=di(),lt._extend=function(Y,F){if(!F||!z(F))return Y;for(var te=Object.keys(F),pe=te.length;pe--;)Y[te[pe]]=F[te[pe]];return Y};function Z(Y,F){return Object.prototype.hasOwnProperty.call(Y,F)}var we=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;lt.promisify=function(F){if(typeof F!="function")throw new TypeError('The "original" argument must be of type Function');if(we&&F[we]){if(te=F[we],typeof te!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(te,we,{value:te,enumerable:!1,writable:!1,configurable:!0}),te}function te(){for(var pe,Ie,M=new Promise(function(ie,he){pe=ie,Ie=he}),I=[],k=0;k<arguments.length;k++)I.push(arguments[k]);I.push(function(ie,he){ie?Ie(ie):pe(he)});try{F.apply(this||of,I)}catch(ie){Ie(ie)}return M}return Object.setPrototypeOf(te,Object.getPrototypeOf(F)),we&&Object.defineProperty(te,we,{value:te,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(te,e(F))},lt.promisify.custom=we;function D(Y,F){if(!Y){var te=new Error("Promise was rejected with a falsy value");te.reason=Y,Y=te}return F(Y)}function ae(Y){if(typeof Y!="function")throw new TypeError('The "original" argument must be of type Function');function F(){for(var te=[],pe=0;pe<arguments.length;pe++)te.push(arguments[pe]);var Ie=te.pop();if(typeof Ie!="function")throw new TypeError("The last argument must be of type Function");var M=this||of,I=function(){return Ie.apply(M,arguments)};Y.apply(this||of,te).then(function(k){t.nextTick(I.bind(null,null,k))},function(k){t.nextTick(D.bind(null,k,I))})}return Object.setPrototypeOf(F,Object.getPrototypeOf(Y)),Object.defineProperties(F,e(Y)),F}return lt.callbackify=ae,lt}var Og,O$,Pg,P$,Ig,I$,Cg,C$,Ng,N$,xg,x$,Mg,M$,RF,Lg,L$,PF,Bg,B$,ft,j$,jg,U$,lt,k$,of,We,MF,LF,BF,jF,UF,kF,DF,FF,qF,WF,HF,zF,VF,GF,YF,KF,JF,XF,ZF,QF,e4,t4,r4,Qc,n4,i4,o4,sf=Rt(()=>{x();Zc();mc();wa();Og={},O$=!1;Pg={},P$=!1;Ig={},I$=!1;Cg={},C$=!1;Ng={},N$=!1;xg={},x$=!1;Mg={},M$=!1,RF=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;Lg={},L$=!1,PF=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;Bg={},B$=!1;ft={},j$=!1;jg={},U$=!1;lt={},k$=!1,of=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;We=xF();We.format;We.deprecate;We.debuglog;We.inspect;We.types;We.isArray;We.isBoolean;We.isNull;We.isNullOrUndefined;We.isNumber;We.isString;We.isSymbol;We.isUndefined;We.isRegExp;We.isObject;We.isDate;We.isError;We.isFunction;We.isPrimitive;We.isBuffer;We.log;We.inherits;We._extend;We.promisify;We.callbackify;MF=We._extend,LF=We.callbackify,BF=We.debuglog,jF=We.deprecate,UF=We.format,kF=We.inherits,DF=We.inspect,FF=We.isArray,qF=We.isBoolean,WF=We.isBuffer,HF=We.isDate,zF=We.isError,VF=We.isFunction,GF=We.isNull,YF=We.isNullOrUndefined,KF=We.isNumber,JF=We.isObject,XF=We.isPrimitive,ZF=We.isRegExp,QF=We.isString,e4=We.isSymbol,t4=We.isUndefined,r4=We.log,Qc=We.promisify,n4=We.types,i4=We.TextEncoder=globalThis.TextEncoder,o4=We.TextDecoder=globalThis.TextDecoder});var An={};qn(An,{Duplex:()=>c4,PassThrough:()=>h4,Readable:()=>ib,Stream:()=>m4,Transform:()=>d4,Writable:()=>l4,default:()=>xt,finished:()=>p4,pipeline:()=>y4,promises:()=>g4});function Zt(){return F$||(F$=!0,kg={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}),kg}function ff(){if(q$)return af;q$=!0;let{AbortController:t,AbortSignal:e}=typeof self<"u"?self:typeof window<"u"?window:void 0;return af=t,af.AbortSignal=e,af.default=t,af}function Vr(){if(W$)return td;W$=!0;let t=hr(),{kResistStopPropagation:e,SymbolDispose:r}=Zt(),n=globalThis.AbortSignal||ff().AbortSignal,i=globalThis.AbortController||ff().AbortController,s=Object.getPrototypeOf(async function(){}).constructor,o=globalThis.Blob||t.Blob,a=typeof o<"u"?function(h){return h instanceof o}:function(h){return!1},u=(p,h)=>{if(p!==void 0&&(p===null||typeof p!="object"||!("aborted"in p)))throw new ERR_INVALID_ARG_TYPE(h,"AbortSignal",p)},c=(p,h)=>{if(typeof p!="function")throw new ERR_INVALID_ARG_TYPE(h,"Function",p)};class l extends Error{constructor(h){if(!Array.isArray(h))throw new TypeError(`Expected input to be an Array, got ${typeof h}`);let y="";for(let b=0;b<h.length;b++)y+=`    ${h[b].stack}
`;super(y),this.name="AggregateError",this.errors=h}}return td={AggregateError:l,kEmptyObject:Object.freeze({}),once(p){let h=!1;return function(...y){h||(h=!0,p.apply(this,y))}},createDeferredPromise:function(){let p,h;return{promise:new Promise((b,w)=>{p=b,h=w}),resolve:p,reject:h}},promisify(p){return new Promise((h,y)=>{p((b,...w)=>b?y(b):h(...w))})},debuglog(){return function(){}},format(p,...h){return p.replace(/%([sdifj])/g,function(...[y,b]){let w=h.shift();return b==="f"?w.toFixed(6):b==="j"?JSON.stringify(w):b==="s"&&typeof w=="object"?`${w.constructor!==Object?w.constructor.name:""} {}`.trim():w.toString()})},inspect(p){switch(typeof p){case"string":if(p.includes("'"))if(p.includes('"')){if(!p.includes("`")&&!p.includes("${"))return`\`${p}\``}else return`"${p}"`;return`'${p}'`;case"number":return isNaN(p)?"NaN":Object.is(p,-0)?String(p):p;case"bigint":return`${String(p)}n`;case"boolean":case"undefined":return String(p);case"object":return"{}"}},types:{isAsyncFunction(p){return p instanceof s},isArrayBufferView(p){return ArrayBuffer.isView(p)}},isBlob:a,deprecate(p,h){return p},addAbortListener:gi.addAbortListener||function(h,y){if(h===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",h);u(h,"signal"),c(y,"listener");let b;return h.aborted?queueMicrotask(()=>y()):(h.addEventListener("abort",y,{__proto__:null,once:!0,[e]:!0}),b=()=>{h.removeEventListener("abort",y)}),{__proto__:null,[r](){var w;(w=b)===null||w===void 0||w()}}},AbortSignalAny:n.any||function(h){if(h.length===1)return h[0];let y=new i,b=()=>y.abort();return h.forEach(w=>{u(w,"signals"),w.addEventListener("abort",b,{once:!0})}),y.signal.addEventListener("abort",()=>{h.forEach(w=>w.removeEventListener("abort",b))},{once:!0}),y.signal}},td.promisify.custom=Symbol.for("nodejs.util.promisify.custom"),td}function hn(){if(H$)return Dg;H$=!0;let{format:t,inspect:e,AggregateError:r}=Vr(),n=globalThis.AggregateError||r,i=Symbol("kIsNodeError"),s=["string","function","number","object","Function","Object","boolean","bigint","symbol"],o=/^([A-Z][a-z0-9]*)+$/,a="__node_internal_",u={};function c(m,E){if(!m)throw new u.ERR_INTERNAL_ASSERTION(E)}function l(m){let E="",T=m.length,S=m[0]==="-"?1:0;for(;T>=S+4;T-=3)E=`_${m.slice(T-3,T)}${E}`;return`${m.slice(0,T)}${E}`}function p(m,E,T){if(typeof E=="function")return c(E.length<=T.length,`Code: ${m}; The provided arguments length (${T.length}) does not match the required ones (${E.length}).`),E(...T);let S=(E.match(/%[dfijoOs]/g)||[]).length;return c(S===T.length,`Code: ${m}; The provided arguments length (${T.length}) does not match the required ones (${S}).`),T.length===0?E:t(E,...T)}function h(m,E,T){T||(T=Error);class S extends T{constructor(...A){super(p(m,E,A))}toString(){return`${this.name} [${m}]: ${this.message}`}}Object.defineProperties(S.prototype,{name:{value:T.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${m}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),S.prototype.code=m,S.prototype[i]=!0,u[m]=S}function y(m){let E=a+m.name;return Object.defineProperty(m,"name",{value:E}),m}function b(m,E){if(m&&E&&m!==E){if(Array.isArray(E.errors))return E.errors.push(m),E;let T=new n([E,m],E.message);return T.code=E.code,T}return m||E}class w extends Error{constructor(E="The operation was aborted",T=void 0){if(T!==void 0&&typeof T!="object")throw new u.ERR_INVALID_ARG_TYPE("options","Object",T);super(E,T),this.code="ABORT_ERR",this.name="AbortError"}}return h("ERR_ASSERTION","%s",Error),h("ERR_INVALID_ARG_TYPE",(m,E,T)=>{c(typeof m=="string","'name' must be a string"),Array.isArray(E)||(E=[E]);let S="The ";m.endsWith(" argument")?S+=`${m} `:S+=`"${m}" ${m.includes(".")?"property":"argument"} `,S+="must be ";let P=[],A=[],N=[];for(let W of E)c(typeof W=="string","All expected entries have to be of type string"),s.includes(W)?P.push(W.toLowerCase()):o.test(W)?A.push(W):(c(W!=="object",'The value "object" should be written as "Object"'),N.push(W));if(A.length>0){let W=P.indexOf("object");W!==-1&&(P.splice(P,W,1),A.push("Object"))}if(P.length>0){switch(P.length){case 1:S+=`of type ${P[0]}`;break;case 2:S+=`one of type ${P[0]} or ${P[1]}`;break;default:{let W=P.pop();S+=`one of type ${P.join(", ")}, or ${W}`}}(A.length>0||N.length>0)&&(S+=" or ")}if(A.length>0){switch(A.length){case 1:S+=`an instance of ${A[0]}`;break;case 2:S+=`an instance of ${A[0]} or ${A[1]}`;break;default:{let W=A.pop();S+=`an instance of ${A.join(", ")}, or ${W}`}}N.length>0&&(S+=" or ")}switch(N.length){case 0:break;case 1:N[0].toLowerCase()!==N[0]&&(S+="an "),S+=`${N[0]}`;break;case 2:S+=`one of ${N[0]} or ${N[1]}`;break;default:{let W=N.pop();S+=`one of ${N.join(", ")}, or ${W}`}}if(T==null)S+=`. Received ${T}`;else if(typeof T=="function"&&T.name)S+=`. Received function ${T.name}`;else if(typeof T=="object"){var C;if((C=T.constructor)!==null&&C!==void 0&&C.name)S+=`. Received an instance of ${T.constructor.name}`;else{let W=e(T,{depth:-1});S+=`. Received ${W}`}}else{let W=e(T,{colors:!1});W.length>25&&(W=`${W.slice(0,25)}...`),S+=`. Received type ${typeof T} (${W})`}return S},TypeError),h("ERR_INVALID_ARG_VALUE",(m,E,T="is invalid")=>{let S=e(E);return S.length>128&&(S=S.slice(0,128)+"..."),`The ${m.includes(".")?"property":"argument"} '${m}' ${T}. Received ${S}`},TypeError),h("ERR_INVALID_RETURN_VALUE",(m,E,T)=>{var S;let P=T!=null&&(S=T.constructor)!==null&&S!==void 0&&S.name?`instance of ${T.constructor.name}`:`type ${typeof T}`;return`Expected ${m} to be returned from the "${E}" function but got ${P}.`},TypeError),h("ERR_MISSING_ARGS",(...m)=>{c(m.length>0,"At least one arg needs to be specified");let E,T=m.length;switch(m=(Array.isArray(m)?m:[m]).map(S=>`"${S}"`).join(" or "),T){case 1:E+=`The ${m[0]} argument`;break;case 2:E+=`The ${m[0]} and ${m[1]} arguments`;break;default:{let S=m.pop();E+=`The ${m.join(", ")}, and ${S} arguments`}break}return`${E} must be specified`},TypeError),h("ERR_OUT_OF_RANGE",(m,E,T)=>{c(E,'Missing "range" argument');let S;return Number.isInteger(T)&&Math.abs(T)>2**32?S=l(String(T)):typeof T=="bigint"?(S=String(T),(T>2n**32n||T<-(2n**32n))&&(S=l(S)),S+="n"):S=e(T),`The value of "${m}" is out of range. It must be ${E}. Received ${S}`},RangeError),h("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),h("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),h("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),h("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),h("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),h("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),h("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),h("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),h("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),h("ERR_STREAM_WRITE_AFTER_END","write after end",Error),h("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Dg={AbortError:w,aggregateTwoErrors:y(b),hideStackFrames:y,codes:u},Dg}function lf(){if(z$)return Fg;z$=!0;let{ArrayIsArray:t,ArrayPrototypeIncludes:e,ArrayPrototypeJoin:r,ArrayPrototypeMap:n,NumberIsInteger:i,NumberIsNaN:s,NumberMAX_SAFE_INTEGER:o,NumberMIN_SAFE_INTEGER:a,NumberParseInt:u,ObjectPrototypeHasOwnProperty:c,RegExpPrototypeExec:l,String:p,StringPrototypeToUpperCase:h,StringPrototypeTrim:y}=Zt(),{hideStackFrames:b,codes:{ERR_SOCKET_BAD_PORT:w,ERR_INVALID_ARG_TYPE:m,ERR_INVALID_ARG_VALUE:E,ERR_OUT_OF_RANGE:T,ERR_UNKNOWN_SIGNAL:S}}=hn(),{normalizeEncoding:P}=Vr(),{isAsyncFunction:A,isArrayBufferView:N}=Vr().types,C={};function W(se){return se===(se|0)}function z(se){return se===se>>>0}let j=/^[0-7]+$/,ne="must be a 32-bit unsigned integer or an octal string";function Q(se,Ee,Re){if(typeof se>"u"&&(se=Re),typeof se=="string"){if(l(j,se)===null)throw new E(Ee,se,ne);se=u(se,8)}return me(se,Ee),se}let H=b((se,Ee,Re=a,Se=o)=>{if(typeof se!="number")throw new m(Ee,"number",se);if(!i(se))throw new T(Ee,"an integer",se);if(se<Re||se>Se)throw new T(Ee,`>= ${Re} && <= ${Se}`,se)}),fe=b((se,Ee,Re=-2147483648,Se=2147483647)=>{if(typeof se!="number")throw new m(Ee,"number",se);if(!i(se))throw new T(Ee,"an integer",se);if(se<Re||se>Se)throw new T(Ee,`>= ${Re} && <= ${Se}`,se)}),me=b((se,Ee,Re=!1)=>{if(typeof se!="number")throw new m(Ee,"number",se);if(!i(se))throw new T(Ee,"an integer",se);let Se=Re?1:0,Ge=4294967295;if(se<Se||se>Ge)throw new T(Ee,`>= ${Se} && <= ${Ge}`,se)});function Te(se,Ee){if(typeof se!="string")throw new m(Ee,"string",se)}function Ae(se,Ee,Re=void 0,Se){if(typeof se!="number")throw new m(Ee,"number",se);if(Re!=null&&se<Re||Se!=null&&se>Se||(Re!=null||Se!=null)&&s(se))throw new T(Ee,`${Re!=null?`>= ${Re}`:""}${Re!=null&&Se!=null?" && ":""}${Se!=null?`<= ${Se}`:""}`,se)}let Z=b((se,Ee,Re)=>{if(!e(Re,se)){let Ge="must be one of: "+r(n(Re,Ve=>typeof Ve=="string"?`'${Ve}'`:p(Ve)),", ");throw new E(Ee,se,Ge)}});function we(se,Ee){if(typeof se!="boolean")throw new m(Ee,"boolean",se)}function D(se,Ee,Re){return se==null||!c(se,Ee)?Re:se[Ee]}let ae=b((se,Ee,Re=null)=>{let Se=D(Re,"allowArray",!1),Ge=D(Re,"allowFunction",!1);if(!D(Re,"nullable",!1)&&se===null||!Se&&t(se)||typeof se!="object"&&(!Ge||typeof se!="function"))throw new m(Ee,"Object",se)}),Y=b((se,Ee)=>{if(se!=null&&typeof se!="object"&&typeof se!="function")throw new m(Ee,"a dictionary",se)}),F=b((se,Ee,Re=0)=>{if(!t(se))throw new m(Ee,"Array",se);if(se.length<Re){let Se=`must be longer than ${Re}`;throw new E(Ee,se,Se)}});function te(se,Ee){F(se,Ee);for(let Re=0;Re<se.length;Re++)Te(se[Re],`${Ee}[${Re}]`)}function pe(se,Ee){F(se,Ee);for(let Re=0;Re<se.length;Re++)we(se[Re],`${Ee}[${Re}]`)}function Ie(se,Ee){F(se,Ee);for(let Re=0;Re<se.length;Re++){let Se=se[Re],Ge=`${Ee}[${Re}]`;if(Se==null)throw new m(Ge,"AbortSignal",Se);he(Se,Ge)}}function M(se,Ee="signal"){if(Te(se,Ee),C[se]===void 0)throw C[h(se)]!==void 0?new S(se+" (signals must use all capital letters)"):new S(se)}let I=b((se,Ee="buffer")=>{if(!N(se))throw new m(Ee,["Buffer","TypedArray","DataView"],se)});function k(se,Ee){let Re=P(Ee),Se=se.length;if(Re==="hex"&&Se%2!==0)throw new E("encoding",Ee,`is invalid for data of length ${Se}`)}function ie(se,Ee="Port",Re=!0){if(typeof se!="number"&&typeof se!="string"||typeof se=="string"&&y(se).length===0||+se!==+se>>>0||se>65535||se===0&&!Re)throw new w(Ee,se,Re);return se|0}let he=b((se,Ee)=>{if(se!==void 0&&(se===null||typeof se!="object"||!("aborted"in se)))throw new m(Ee,"AbortSignal",se)}),$=b((se,Ee)=>{if(typeof se!="function")throw new m(Ee,"Function",se)}),v=b((se,Ee)=>{if(typeof se!="function"||A(se))throw new m(Ee,"Function",se)}),L=b((se,Ee)=>{if(se!==void 0)throw new m(Ee,"undefined",se)});function V(se,Ee,Re){if(!e(Re,se))throw new m(Ee,`('${r(Re,"|")}')`,se)}let ye=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function le(se,Ee){if(typeof se>"u"||!l(ye,se))throw new E(Ee,se,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function J(se){if(typeof se=="string")return le(se,"hints"),se;if(t(se)){let Ee=se.length,Re="";if(Ee===0)return Re;for(let Se=0;Se<Ee;Se++){let Ge=se[Se];le(Ge,"hints"),Re+=Ge,Se!==Ee-1&&(Re+=", ")}return Re}throw new E("hints",se,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return Fg={isInt32:W,isUint32:z,parseFileMode:Q,validateArray:F,validateStringArray:te,validateBooleanArray:pe,validateAbortSignalArray:Ie,validateBoolean:we,validateBuffer:I,validateDictionary:Y,validateEncoding:k,validateFunction:$,validateInt32:fe,validateInteger:H,validateNumber:Ae,validateObject:ae,validateOneOf:Z,validatePlainFunction:v,validatePort:ie,validateSignalName:M,validateString:Te,validateUint32:me,validateUndefined:L,validateUnion:V,validateAbortSignal:he,validateLinkHeaderValue:J},Fg}function Ji(){if(V$)return qg;V$=!0;let{SymbolAsyncIterator:t,SymbolIterator:e,SymbolFor:r}=Zt(),n=r("nodejs.stream.destroyed"),i=r("nodejs.stream.errored"),s=r("nodejs.stream.readable"),o=r("nodejs.stream.writable"),a=r("nodejs.stream.disturbed"),u=r("nodejs.webstream.isClosedPromise"),c=r("nodejs.webstream.controllerErrorFunction");function l(D,ae=!1){var Y;return!!(D&&typeof D.pipe=="function"&&typeof D.on=="function"&&(!ae||typeof D.pause=="function"&&typeof D.resume=="function")&&(!D._writableState||((Y=D._readableState)===null||Y===void 0?void 0:Y.readable)!==!1)&&(!D._writableState||D._readableState))}function p(D){var ae;return!!(D&&typeof D.write=="function"&&typeof D.on=="function"&&(!D._readableState||((ae=D._writableState)===null||ae===void 0?void 0:ae.writable)!==!1))}function h(D){return!!(D&&typeof D.pipe=="function"&&D._readableState&&typeof D.on=="function"&&typeof D.write=="function")}function y(D){return D&&(D._readableState||D._writableState||typeof D.write=="function"&&typeof D.on=="function"||typeof D.pipe=="function"&&typeof D.on=="function")}function b(D){return!!(D&&!y(D)&&typeof D.pipeThrough=="function"&&typeof D.getReader=="function"&&typeof D.cancel=="function")}function w(D){return!!(D&&!y(D)&&typeof D.getWriter=="function"&&typeof D.abort=="function")}function m(D){return!!(D&&!y(D)&&typeof D.readable=="object"&&typeof D.writable=="object")}function E(D){return b(D)||w(D)||m(D)}function T(D,ae){return D==null?!1:ae===!0?typeof D[t]=="function":ae===!1?typeof D[e]=="function":typeof D[t]=="function"||typeof D[e]=="function"}function S(D){if(!y(D))return null;let ae=D._writableState,Y=D._readableState,F=ae||Y;return!!(D.destroyed||D[n]||F!=null&&F.destroyed)}function P(D){if(!p(D))return null;if(D.writableEnded===!0)return!0;let ae=D._writableState;return ae!=null&&ae.errored?!1:typeof ae?.ended!="boolean"?null:ae.ended}function A(D,ae){if(!p(D))return null;if(D.writableFinished===!0)return!0;let Y=D._writableState;return Y!=null&&Y.errored?!1:typeof Y?.finished!="boolean"?null:!!(Y.finished||ae===!1&&Y.ended===!0&&Y.length===0)}function N(D){if(!l(D))return null;if(D.readableEnded===!0)return!0;let ae=D._readableState;return!ae||ae.errored?!1:typeof ae?.ended!="boolean"?null:ae.ended}function C(D,ae){if(!l(D))return null;let Y=D._readableState;return Y!=null&&Y.errored?!1:typeof Y?.endEmitted!="boolean"?null:!!(Y.endEmitted||ae===!1&&Y.ended===!0&&Y.length===0)}function W(D){return D&&D[s]!=null?D[s]:typeof D?.readable!="boolean"?null:S(D)?!1:l(D)&&D.readable&&!C(D)}function z(D){return D&&D[o]!=null?D[o]:typeof D?.writable!="boolean"?null:S(D)?!1:p(D)&&D.writable&&!P(D)}function j(D,ae){return y(D)?S(D)?!0:!(ae?.readable!==!1&&W(D)||ae?.writable!==!1&&z(D)):null}function ne(D){var ae,Y;return y(D)?D.writableErrored?D.writableErrored:(ae=(Y=D._writableState)===null||Y===void 0?void 0:Y.errored)!==null&&ae!==void 0?ae:null:null}function Q(D){var ae,Y;return y(D)?D.readableErrored?D.readableErrored:(ae=(Y=D._readableState)===null||Y===void 0?void 0:Y.errored)!==null&&ae!==void 0?ae:null:null}function H(D){if(!y(D))return null;if(typeof D.closed=="boolean")return D.closed;let ae=D._writableState,Y=D._readableState;return typeof ae?.closed=="boolean"||typeof Y?.closed=="boolean"?ae?.closed||Y?.closed:typeof D._closed=="boolean"&&fe(D)?D._closed:null}function fe(D){return typeof D._closed=="boolean"&&typeof D._defaultKeepAlive=="boolean"&&typeof D._removedConnection=="boolean"&&typeof D._removedContLen=="boolean"}function me(D){return typeof D._sent100=="boolean"&&fe(D)}function Te(D){var ae;return typeof D._consuming=="boolean"&&typeof D._dumped=="boolean"&&((ae=D.req)===null||ae===void 0?void 0:ae.upgradeOrConnect)===void 0}function Ae(D){if(!y(D))return null;let ae=D._writableState,Y=D._readableState,F=ae||Y;return!F&&me(D)||!!(F&&F.autoDestroy&&F.emitClose&&F.closed===!1)}function Z(D){var ae;return!!(D&&((ae=D[a])!==null&&ae!==void 0?ae:D.readableDidRead||D.readableAborted))}function we(D){var ae,Y,F,te,pe,Ie,M,I,k,ie;return!!(D&&((ae=(Y=(F=(te=(pe=(Ie=D[i])!==null&&Ie!==void 0?Ie:D.readableErrored)!==null&&pe!==void 0?pe:D.writableErrored)!==null&&te!==void 0?te:(M=D._readableState)===null||M===void 0?void 0:M.errorEmitted)!==null&&F!==void 0?F:(I=D._writableState)===null||I===void 0?void 0:I.errorEmitted)!==null&&Y!==void 0?Y:(k=D._readableState)===null||k===void 0?void 0:k.errored)!==null&&ae!==void 0?ae:!((ie=D._writableState)===null||ie===void 0)&&ie.errored))}return qg={isDestroyed:S,kIsDestroyed:n,isDisturbed:Z,kIsDisturbed:a,isErrored:we,kIsErrored:i,isReadable:W,kIsReadable:s,kIsClosedPromise:u,kControllerErrorFunction:c,kIsWritable:o,isClosed:H,isDuplexNodeStream:h,isFinished:j,isIterable:T,isReadableNodeStream:l,isReadableStream:b,isReadableEnded:N,isReadableFinished:C,isReadableErrored:Q,isNodeStream:y,isWebStream:E,isWritable:z,isWritableNodeStream:p,isWritableStream:w,isWritableEnded:P,isWritableFinished:A,isWritableErrored:ne,isServerRequest:Te,isServerResponse:me,willEmitClose:Ae,isTransformStream:m},qg}function No(){if(G$)return rd;G$=!0;let t=or,{AbortError:e,codes:r}=hn(),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_PREMATURE_CLOSE:i}=r,{kEmptyObject:s,once:o}=Vr(),{validateAbortSignal:a,validateFunction:u,validateObject:c,validateBoolean:l}=lf(),{Promise:p,PromisePrototypeThen:h,SymbolDispose:y}=Zt(),{isClosed:b,isReadable:w,isReadableNodeStream:m,isReadableStream:E,isReadableFinished:T,isReadableErrored:S,isWritable:P,isWritableNodeStream:A,isWritableStream:N,isWritableFinished:C,isWritableErrored:W,isNodeStream:z,willEmitClose:j,kIsClosedPromise:ne}=Ji(),Q;function H(Z){return Z.setHeader&&typeof Z.abort=="function"}let fe=()=>{};function me(Z,we,D){var ae,Y;if(arguments.length===2?(D=we,we=s):we==null?we=s:c(we,"options"),u(D,"callback"),a(we.signal,"options.signal"),D=o(D),E(Z)||N(Z))return Te(Z,we,D);if(!z(Z))throw new n("stream",["ReadableStream","WritableStream","Stream"],Z);let F=(ae=we.readable)!==null&&ae!==void 0?ae:m(Z),te=(Y=we.writable)!==null&&Y!==void 0?Y:A(Z),pe=Z._writableState,Ie=Z._readableState,M=()=>{Z.writable||ie()},I=j(Z)&&m(Z)===F&&A(Z)===te,k=C(Z,!1),ie=()=>{k=!0,Z.destroyed&&(I=!1),!(I&&(!Z.readable||F))&&(!F||he)&&D.call(Z)},he=T(Z,!1),$=()=>{he=!0,Z.destroyed&&(I=!1),!(I&&(!Z.writable||te))&&(!te||k)&&D.call(Z)},v=se=>{D.call(Z,se)},L=b(Z),V=()=>{L=!0;let se=W(Z)||S(Z);if(se&&typeof se!="boolean")return D.call(Z,se);if(F&&!he&&m(Z,!0)&&!T(Z,!1))return D.call(Z,new i);if(te&&!k&&!C(Z,!1))return D.call(Z,new i);D.call(Z)},ye=()=>{L=!0;let se=W(Z)||S(Z);if(se&&typeof se!="boolean")return D.call(Z,se);D.call(Z)},le=()=>{Z.req.on("finish",ie)};H(Z)?(Z.on("complete",ie),I||Z.on("abort",V),Z.req?le():Z.on("request",le)):te&&!pe&&(Z.on("end",M),Z.on("close",M)),!I&&typeof Z.aborted=="boolean"&&Z.on("aborted",V),Z.on("end",$),Z.on("finish",ie),we.error!==!1&&Z.on("error",v),Z.on("close",V),L?t.nextTick(V):pe!=null&&pe.errorEmitted||Ie!=null&&Ie.errorEmitted?I||t.nextTick(ye):(!F&&(!I||w(Z))&&(k||P(Z)===!1)||!te&&(!I||P(Z))&&(he||w(Z)===!1)||Ie&&Z.req&&Z.aborted)&&t.nextTick(ye);let J=()=>{D=fe,Z.removeListener("aborted",V),Z.removeListener("complete",ie),Z.removeListener("abort",V),Z.removeListener("request",le),Z.req&&Z.req.removeListener("finish",ie),Z.removeListener("end",M),Z.removeListener("close",M),Z.removeListener("finish",ie),Z.removeListener("end",$),Z.removeListener("error",v),Z.removeListener("close",V)};if(we.signal&&!L){let se=()=>{let Ee=D;J(),Ee.call(Z,new e(void 0,{cause:we.signal.reason}))};if(we.signal.aborted)t.nextTick(se);else{Q=Q||Vr().addAbortListener;let Ee=Q(we.signal,se),Re=D;D=o((...Se)=>{Ee[y](),Re.apply(Z,Se)})}}return J}function Te(Z,we,D){let ae=!1,Y=fe;if(we.signal)if(Y=()=>{ae=!0,D.call(Z,new e(void 0,{cause:we.signal.reason}))},we.signal.aborted)t.nextTick(Y);else{Q=Q||Vr().addAbortListener;let te=Q(we.signal,Y),pe=D;D=o((...Ie)=>{te[y](),pe.apply(Z,Ie)})}let F=(...te)=>{ae||t.nextTick(()=>D.apply(Z,te))};return h(Z[ne].promise,F,F),fe}function Ae(Z,we){var D;let ae=!1;return we===null&&(we=s),(D=we)!==null&&D!==void 0&&D.cleanup&&(l(we.cleanup,"cleanup"),ae=we.cleanup),new p((Y,F)=>{let te=me(Z,we,pe=>{ae&&te(),pe?F(pe):Y()})})}return rd=me,rd.finished=Ae,rd}function Pa(){if(Y$)return Wg;Y$=!0;let t=or,{aggregateTwoErrors:e,codes:{ERR_MULTIPLE_CALLBACK:r},AbortError:n}=hn(),{Symbol:i}=Zt(),{kIsDestroyed:s,isDestroyed:o,isFinished:a,isServerRequest:u}=Ji(),c=i("kDestroy"),l=i("kConstruct");function p(j,ne,Q){j&&(j.stack,ne&&!ne.errored&&(ne.errored=j),Q&&!Q.errored&&(Q.errored=j))}function h(j,ne){let Q=this._readableState,H=this._writableState,fe=H||Q;return H!=null&&H.destroyed||Q!=null&&Q.destroyed?(typeof ne=="function"&&ne(),this):(p(j,H,Q),H&&(H.destroyed=!0),Q&&(Q.destroyed=!0),fe.constructed?y(this,j,ne):this.once(c,function(me){y(this,e(me,j),ne)}),this)}function y(j,ne,Q){let H=!1;function fe(me){if(H)return;H=!0;let Te=j._readableState,Ae=j._writableState;p(me,Ae,Te),Ae&&(Ae.closed=!0),Te&&(Te.closed=!0),typeof Q=="function"&&Q(me),me?t.nextTick(b,j,me):t.nextTick(w,j)}try{j._destroy(ne||null,fe)}catch(me){fe(me)}}function b(j,ne){m(j,ne),w(j)}function w(j){let ne=j._readableState,Q=j._writableState;Q&&(Q.closeEmitted=!0),ne&&(ne.closeEmitted=!0),(Q!=null&&Q.emitClose||ne!=null&&ne.emitClose)&&j.emit("close")}function m(j,ne){let Q=j._readableState,H=j._writableState;H!=null&&H.errorEmitted||Q!=null&&Q.errorEmitted||(H&&(H.errorEmitted=!0),Q&&(Q.errorEmitted=!0),j.emit("error",ne))}function E(){let j=this._readableState,ne=this._writableState;j&&(j.constructed=!0,j.closed=!1,j.closeEmitted=!1,j.destroyed=!1,j.errored=null,j.errorEmitted=!1,j.reading=!1,j.ended=j.readable===!1,j.endEmitted=j.readable===!1),ne&&(ne.constructed=!0,ne.destroyed=!1,ne.closed=!1,ne.closeEmitted=!1,ne.errored=null,ne.errorEmitted=!1,ne.finalCalled=!1,ne.prefinished=!1,ne.ended=ne.writable===!1,ne.ending=ne.writable===!1,ne.finished=ne.writable===!1)}function T(j,ne,Q){let H=j._readableState,fe=j._writableState;if(fe!=null&&fe.destroyed||H!=null&&H.destroyed)return this;H!=null&&H.autoDestroy||fe!=null&&fe.autoDestroy?j.destroy(ne):ne&&(ne.stack,fe&&!fe.errored&&(fe.errored=ne),H&&!H.errored&&(H.errored=ne),Q?t.nextTick(m,j,ne):m(j,ne))}function S(j,ne){if(typeof j._construct!="function")return;let Q=j._readableState,H=j._writableState;Q&&(Q.constructed=!1),H&&(H.constructed=!1),j.once(l,ne),!(j.listenerCount(l)>1)&&t.nextTick(P,j)}function P(j){let ne=!1;function Q(H){if(ne){T(j,H??new r);return}ne=!0;let fe=j._readableState,me=j._writableState,Te=me||fe;fe&&(fe.constructed=!0),me&&(me.constructed=!0),Te.destroyed?j.emit(c,H):H?T(j,H,!0):t.nextTick(A,j)}try{j._construct(H=>{t.nextTick(Q,H)})}catch(H){t.nextTick(Q,H)}}function A(j){j.emit(l)}function N(j){return j?.setHeader&&typeof j.abort=="function"}function C(j){j.emit("close")}function W(j,ne){j.emit("error",ne),t.nextTick(C,j)}function z(j,ne){!j||o(j)||(!ne&&!a(j)&&(ne=new n),u(j)?(j.socket=null,j.destroy(ne)):N(j)?j.abort():N(j.req)?j.req.abort():typeof j.destroy=="function"?j.destroy(ne):typeof j.close=="function"?j.close():ne?t.nextTick(W,j,ne):t.nextTick(C,j),j.destroyed||(j[s]=!0))}return Wg={construct:S,destroyer:z,destroy:h,undestroy:E,errorOrDestroy:T},Wg}function ob(){if(K$)return Hg;K$=!0;let{ArrayIsArray:t,ObjectSetPrototypeOf:e}=Zt(),{EventEmitter:r}=gi;function n(s){r.call(this,s)}e(n.prototype,r.prototype),e(n,r),n.prototype.pipe=function(s,o){let a=this;function u(w){s.writable&&s.write(w)===!1&&a.pause&&a.pause()}a.on("data",u);function c(){a.readable&&a.resume&&a.resume()}s.on("drain",c),!s._isStdio&&(!o||o.end!==!1)&&(a.on("end",p),a.on("close",h));let l=!1;function p(){l||(l=!0,s.end())}function h(){l||(l=!0,typeof s.destroy=="function"&&s.destroy())}function y(w){b(),r.listenerCount(this,"error")===0&&this.emit("error",w)}i(a,"error",y),i(s,"error",y);function b(){a.removeListener("data",u),s.removeListener("drain",c),a.removeListener("end",p),a.removeListener("close",h),a.removeListener("error",y),s.removeListener("error",y),a.removeListener("end",b),a.removeListener("close",b),s.removeListener("close",b)}return a.on("end",b),a.on("close",b),s.on("close",b),s.emit("pipe",a),s};function i(s,o,a){if(typeof s.prependListener=="function")return s.prependListener(o,a);!s._events||!s._events[o]?s.on(o,a):t(s._events[o])?s._events[o].unshift(a):s._events[o]=[a,s._events[o]]}return Hg={Stream:n,prependListener:i},Hg}function id(){if(J$)return uf;J$=!0;let{SymbolDispose:t}=Zt(),{AbortError:e,codes:r}=hn(),{isNodeStream:n,isWebStream:i,kControllerErrorFunction:s}=Ji(),o=No(),{ERR_INVALID_ARG_TYPE:a}=r,u,c=(l,p)=>{if(typeof l!="object"||!("aborted"in l))throw new a(p,"AbortSignal",l)};return uf.addAbortSignal=function(p,h){if(c(p,"signal"),!n(h)&&!i(h))throw new a("stream",["ReadableStream","WritableStream","Stream"],h);return uf.addAbortSignalNoValidate(p,h)},uf.addAbortSignalNoValidate=function(l,p){if(typeof l!="object"||!("aborted"in l))return p;let h=n(p)?()=>{p.destroy(new e(void 0,{cause:l.reason}))}:()=>{p[s](new e(void 0,{cause:l.reason}))};if(l.aborted)h();else{u=u||Vr().addAbortListener;let y=u(l,h);o(p,y[t])}return p},uf}function s4(){if(X$)return zg;X$=!0;let{StringPrototypeSlice:t,SymbolIterator:e,TypedArrayPrototypeSet:r,Uint8Array:n}=Zt(),{Buffer:i}=hr(),{inspect:s}=Vr();return zg=class{constructor(){this.head=null,this.tail=null,this.length=0}push(a){let u={data:a,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length}unshift(a){let u={data:a,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length}shift(){if(this.length===0)return;let a=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,a}clear(){this.head=this.tail=null,this.length=0}join(a){if(this.length===0)return"";let u=this.head,c=""+u.data;for(;(u=u.next)!==null;)c+=a+u.data;return c}concat(a){if(this.length===0)return i.alloc(0);let u=i.allocUnsafe(a>>>0),c=this.head,l=0;for(;c;)r(u,c.data,l),l+=c.data.length,c=c.next;return u}consume(a,u){let c=this.head.data;if(a<c.length){let l=c.slice(0,a);return this.head.data=c.slice(a),l}return a===c.length?this.shift():u?this._getString(a):this._getBuffer(a)}first(){return this.head.data}*[e](){for(let a=this.head;a;a=a.next)yield a.data}_getString(a){let u="",c=this.head,l=0;do{let p=c.data;if(a>p.length)u+=p,a-=p.length;else{a===p.length?(u+=p,++l,c.next?this.head=c.next:this.head=this.tail=null):(u+=t(p,0,a),this.head=c,c.data=t(p,a));break}++l}while((c=c.next)!==null);return this.length-=l,u}_getBuffer(a){let u=i.allocUnsafe(a),c=a,l=this.head,p=0;do{let h=l.data;if(a>h.length)r(u,h,c-a),a-=h.length;else{a===h.length?(r(u,h,c-a),++p,l.next?this.head=l.next:this.head=this.tail=null):(r(u,new n(h.buffer,h.byteOffset,a),c-a),this.head=l,l.data=h.slice(a));break}++p}while((l=l.next)!==null);return this.length-=p,u}[Symbol.for("nodejs.util.inspect.custom")](a,u){return s(this,{...u,depth:0,customInspect:!1})}},zg}function od(){if(Z$)return Vg;Z$=!0;let{MathFloor:t,NumberIsInteger:e}=Zt(),{validateInteger:r}=lf(),{ERR_INVALID_ARG_VALUE:n}=hn().codes,i=16*1024,s=16;function o(l,p,h){return l.highWaterMark!=null?l.highWaterMark:p?l[h]:null}function a(l){return l?s:i}function u(l,p){r(p,"value",0),l?s=p:i=p}function c(l,p,h,y){let b=o(p,y,h);if(b!=null){if(!e(b)||b<0){let w=y?`options.${h}`:"options.highWaterMark";throw new n(w,b)}return t(b)}return a(l.objectMode)}return Vg={getHighWaterMark:c,getDefaultHighWaterMark:a,setDefaultHighWaterMark:u},Vg}function hR(){if(Q$)return Gg;Q$=!0;let t=or,{PromisePrototypeThen:e,SymbolAsyncIterator:r,SymbolIterator:n}=Zt(),{Buffer:i}=hr(),{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_NULL_VALUES:o}=hn().codes;function a(u,c,l){let p;if(typeof c=="string"||c instanceof i)return new u({objectMode:!0,...l,read(){this.push(c),this.push(null)}});let h;if(c&&c[r])h=!0,p=c[r]();else if(c&&c[n])h=!1,p=c[n]();else throw new s("iterable",["Iterable"],c);let y=new u({objectMode:!0,highWaterMark:1,...l}),b=!1;y._read=function(){b||(b=!0,m())},y._destroy=function(E,T){e(w(E),()=>t.nextTick(T,E),S=>t.nextTick(T,S||E))};async function w(E){let T=E!=null,S=typeof p.throw=="function";if(T&&S){let{value:P,done:A}=await p.throw(E);if(await P,A)return}if(typeof p.return=="function"){let{value:P}=await p.return();await P}}async function m(){for(;;){try{let{value:E,done:T}=h?await p.next():p.next();if(T)y.push(null);else{let S=E&&typeof E.then=="function"?await E:E;if(S===null)throw b=!1,new o;if(y.push(S))continue;b=!1}}catch(E){y.destroy(E)}break}}return y}return Gg=a,Gg}function sd(){if(eR)return Yg;eR=!0;let t=or,{ArrayPrototypeIndexOf:e,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:i,ObjectDefineProperties:s,ObjectKeys:o,ObjectSetPrototypeOf:a,Promise:u,SafeSet:c,SymbolAsyncDispose:l,SymbolAsyncIterator:p,Symbol:h}=Zt();Yg=Se,Se.ReadableState=Re;let{EventEmitter:y}=gi,{Stream:b,prependListener:w}=ob(),{Buffer:m}=hr(),{addAbortSignal:E}=id(),T=No(),S=Vr().debuglog("stream",G=>{S=G}),P=s4(),A=Pa(),{getHighWaterMark:N,getDefaultHighWaterMark:C}=od(),{aggregateTwoErrors:W,codes:{ERR_INVALID_ARG_TYPE:z,ERR_METHOD_NOT_IMPLEMENTED:j,ERR_OUT_OF_RANGE:ne,ERR_STREAM_PUSH_AFTER_EOF:Q,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:H},AbortError:fe}=hn(),{validateObject:me}=lf(),Te=h("kPaused"),{StringDecoder:Ae}=ms,Z=hR();a(Se.prototype,b.prototype),a(Se,b);let we=()=>{},{errorOrDestroy:D}=A,ae=1,Y=2,F=4,te=8,pe=16,Ie=32,M=64,I=128,k=256,ie=512,he=1024,$=2048,v=4096,L=8192,V=16384,ye=32768,le=65536,J=1<<17,se=1<<18;function Ee(G){return{enumerable:!1,get(){return((this||Pe).state&G)!==0},set(X){X?(this||Pe).state|=G:(this||Pe).state&=~G}}}s(Re.prototype,{objectMode:Ee(ae),ended:Ee(Y),endEmitted:Ee(F),reading:Ee(te),constructed:Ee(pe),sync:Ee(Ie),needReadable:Ee(M),emittedReadable:Ee(I),readableListening:Ee(k),resumeScheduled:Ee(ie),errorEmitted:Ee(he),emitClose:Ee($),autoDestroy:Ee(v),destroyed:Ee(L),closed:Ee(V),closeEmitted:Ee(ye),multiAwaitDrain:Ee(le),readingMore:Ee(J),dataEmitted:Ee(se)});function Re(G,X,xe){typeof xe!="boolean"&&(xe=X instanceof Ki()),(this||Pe).state=$|v|pe|Ie,G&&G.objectMode&&((this||Pe).state|=ae),xe&&G&&G.readableObjectMode&&((this||Pe).state|=ae),(this||Pe).highWaterMark=G?N(this||Pe,G,"readableHighWaterMark",xe):C(!1),(this||Pe).buffer=new P,(this||Pe).length=0,(this||Pe).pipes=[],(this||Pe).flowing=null,(this||Pe)[Te]=null,G&&G.emitClose===!1&&((this||Pe).state&=~$),G&&G.autoDestroy===!1&&((this||Pe).state&=~v),(this||Pe).errored=null,(this||Pe).defaultEncoding=G&&G.defaultEncoding||"utf8",(this||Pe).awaitDrainWriters=null,(this||Pe).decoder=null,(this||Pe).encoding=null,G&&G.encoding&&((this||Pe).decoder=new Ae(G.encoding),(this||Pe).encoding=G.encoding)}function Se(G){if(!((this||Pe)instanceof Se))return new Se(G);let X=(this||Pe)instanceof Ki();(this||Pe)._readableState=new Re(G,this||Pe,X),G&&(typeof G.read=="function"&&((this||Pe)._read=G.read),typeof G.destroy=="function"&&((this||Pe)._destroy=G.destroy),typeof G.construct=="function"&&((this||Pe)._construct=G.construct),G.signal&&!X&&E(G.signal,this||Pe)),b.call(this||Pe,G),A.construct(this||Pe,()=>{(this||Pe)._readableState.needReadable&&q(this||Pe,(this||Pe)._readableState)})}Se.prototype.destroy=A.destroy,Se.prototype._undestroy=A.undestroy,Se.prototype._destroy=function(G,X){X(G)},Se.prototype[y.captureRejectionSymbol]=function(G){this.destroy(G)},Se.prototype[l]=function(){let G;return(this||Pe).destroyed||(G=(this||Pe).readableEnded?null:new fe,this.destroy(G)),new u((X,xe)=>T(this||Pe,Me=>Me&&Me!==G?xe(Me):X(null)))},Se.prototype.push=function(G,X){return Ge(this||Pe,G,X,!1)},Se.prototype.unshift=function(G,X){return Ge(this||Pe,G,X,!0)};function Ge(G,X,xe,Me){S("readableAddChunk",X);let De=G._readableState,zt;if((De.state&ae)===0&&(typeof X=="string"?(xe=xe||De.defaultEncoding,De.encoding!==xe&&(Me&&De.encoding?X=m.from(X,xe).toString(De.encoding):(X=m.from(X,xe),xe=""))):X instanceof m?xe="":b._isUint8Array(X)?(X=b._uint8ArrayToBuffer(X),xe=""):X!=null&&(zt=new z("chunk",["string","Buffer","Uint8Array"],X))),zt)D(G,zt);else if(X===null)De.state&=~te,d(G,De);else if((De.state&ae)!==0||X&&X.length>0)if(Me)if((De.state&F)!==0)D(G,new H);else{if(De.destroyed||De.errored)return!1;Ve(G,De,X,!0)}else if(De.ended)D(G,new Q);else{if(De.destroyed||De.errored)return!1;De.state&=~te,De.decoder&&!xe?(X=De.decoder.write(X),De.objectMode||X.length!==0?Ve(G,De,X,!1):q(G,De)):Ve(G,De,X,!1)}else Me||(De.state&=~te,q(G,De));return!De.ended&&(De.length<De.highWaterMark||De.length===0)}function Ve(G,X,xe,Me){X.flowing&&X.length===0&&!X.sync&&G.listenerCount("data")>0?((X.state&le)!==0?X.awaitDrainWriters.clear():X.awaitDrainWriters=null,X.dataEmitted=!0,G.emit("data",xe)):(X.length+=X.objectMode?1:xe.length,Me?X.buffer.unshift(xe):X.buffer.push(xe),(X.state&M)!==0&&O(G)),q(G,X)}Se.prototype.isPaused=function(){let G=(this||Pe)._readableState;return G[Te]===!0||G.flowing===!1},Se.prototype.setEncoding=function(G){let X=new Ae(G);(this||Pe)._readableState.decoder=X,(this||Pe)._readableState.encoding=(this||Pe)._readableState.decoder.encoding;let xe=(this||Pe)._readableState.buffer,Me="";for(let De of xe)Me+=X.write(De);return xe.clear(),Me!==""&&xe.push(Me),(this||Pe)._readableState.length=Me.length,this||Pe};let Ke=1073741824;function _(G){if(G>Ke)throw new ne("size","<= 1GiB",G);return G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++,G}function f(G,X){return G<=0||X.length===0&&X.ended?0:(X.state&ae)!==0?1:n(G)?X.flowing&&X.length?X.buffer.first().length:X.length:G<=X.length?G:X.ended?X.length:0}Se.prototype.read=function(G){S("read",G),G===void 0?G=NaN:r(G)||(G=i(G,10));let X=(this||Pe)._readableState,xe=G;if(G>X.highWaterMark&&(X.highWaterMark=_(G)),G!==0&&(X.state&=~I),G===0&&X.needReadable&&((X.highWaterMark!==0?X.length>=X.highWaterMark:X.length>0)||X.ended))return S("read: emitReadable",X.length,X.ended),X.length===0&&X.ended?tr(this||Pe):O(this||Pe),null;if(G=f(G,X),G===0&&X.ended)return X.length===0&&tr(this||Pe),null;let Me=(X.state&M)!==0;if(S("need readable",Me),(X.length===0||X.length-G<X.highWaterMark)&&(Me=!0,S("length less than watermark",Me)),X.ended||X.reading||X.destroyed||X.errored||!X.constructed)Me=!1,S("reading, ended or constructing",Me);else if(Me){S("do read"),X.state|=te|Ie,X.length===0&&(X.state|=M);try{this._read(X.highWaterMark)}catch(zt){D(this||Pe,zt)}X.state&=~Ie,X.reading||(G=f(xe,X))}let De;return G>0?De=ur(G,X):De=null,De===null?(X.needReadable=X.length<=X.highWaterMark,G=0):(X.length-=G,X.multiAwaitDrain?X.awaitDrainWriters.clear():X.awaitDrainWriters=null),X.length===0&&(X.ended||(X.needReadable=!0),xe!==G&&X.ended&&tr(this||Pe)),De!==null&&!X.errorEmitted&&!X.closeEmitted&&(X.dataEmitted=!0,this.emit("data",De)),De};function d(G,X){if(S("onEofChunk"),!X.ended){if(X.decoder){let xe=X.decoder.end();xe&&xe.length&&(X.buffer.push(xe),X.length+=X.objectMode?1:xe.length)}X.ended=!0,X.sync?O(G):(X.needReadable=!1,X.emittedReadable=!0,B(G))}}function O(G){let X=G._readableState;S("emitReadable",X.needReadable,X.emittedReadable),X.needReadable=!1,X.emittedReadable||(S("emitReadable",X.flowing),X.emittedReadable=!0,t.nextTick(B,G))}function B(G){let X=G._readableState;S("emitReadable_",X.destroyed,X.length,X.ended),!X.destroyed&&!X.errored&&(X.length||X.ended)&&(G.emit("readable"),X.emittedReadable=!1),X.needReadable=!X.flowing&&!X.ended&&X.length<=X.highWaterMark,Xe(G)}function q(G,X){!X.readingMore&&X.constructed&&(X.readingMore=!0,t.nextTick(ee,G,X))}function ee(G,X){for(;!X.reading&&!X.ended&&(X.length<X.highWaterMark||X.flowing&&X.length===0);){let xe=X.length;if(S("maybeReadMore read 0"),G.read(0),xe===X.length)break}X.readingMore=!1}Se.prototype._read=function(G){throw new j("_read()")},Se.prototype.pipe=function(G,X){let xe=this||Pe,Me=(this||Pe)._readableState;Me.pipes.length===1&&(Me.multiAwaitDrain||(Me.multiAwaitDrain=!0,Me.awaitDrainWriters=new c(Me.awaitDrainWriters?[Me.awaitDrainWriters]:[]))),Me.pipes.push(G),S("pipe count=%d opts=%j",Me.pipes.length,X);let zt=(!X||X.end!==!1)&&G!==t.stdout&&G!==t.stderr?fo:br;Me.endEmitted?t.nextTick(zt):xe.once("end",zt),G.on("unpipe",rr);function rr(tn,dr){S("onunpipe"),tn===xe&&dr&&dr.hasUnpiped===!1&&(dr.hasUnpiped=!0,Vo())}function fo(){S("onend"),G.end()}let bn,Ei=!1;function Vo(){S("cleanup"),G.removeListener("close",$i),G.removeListener("finish",_n),bn&&G.removeListener("drain",bn),G.removeListener("error",Ai),G.removeListener("unpipe",rr),xe.removeListener("end",fo),xe.removeListener("end",br),xe.removeListener("data",Ti),Ei=!0,bn&&Me.awaitDrainWriters&&(!G._writableState||G._writableState.needDrain)&&bn()}function Si(){Ei||(Me.pipes.length===1&&Me.pipes[0]===G?(S("false write response, pause",0),Me.awaitDrainWriters=G,Me.multiAwaitDrain=!1):Me.pipes.length>1&&Me.pipes.includes(G)&&(S("false write response, pause",Me.awaitDrainWriters.size),Me.awaitDrainWriters.add(G)),xe.pause()),bn||(bn=re(xe,G),G.on("drain",bn))}xe.on("data",Ti);function Ti(tn){S("ondata");let dr=G.write(tn);S("dest.write",dr),dr===!1&&Si()}function Ai(tn){if(S("onerror",tn),br(),G.removeListener("error",Ai),G.listenerCount("error")===0){let dr=G._writableState||G._readableState;dr&&!dr.errorEmitted?D(G,tn):G.emit("error",tn)}}w(G,"error",Ai);function $i(){G.removeListener("finish",_n),br()}G.once("close",$i);function _n(){S("onfinish"),G.removeListener("close",$i),br()}G.once("finish",_n);function br(){S("unpipe"),xe.unpipe(G)}return G.emit("pipe",xe),G.writableNeedDrain===!0?Si():Me.flowing||(S("pipe resume"),xe.resume()),G};function re(G,X){return function(){let Me=G._readableState;Me.awaitDrainWriters===X?(S("pipeOnDrain",1),Me.awaitDrainWriters=null):Me.multiAwaitDrain&&(S("pipeOnDrain",Me.awaitDrainWriters.size),Me.awaitDrainWriters.delete(X)),(!Me.awaitDrainWriters||Me.awaitDrainWriters.size===0)&&G.listenerCount("data")&&G.resume()}}Se.prototype.unpipe=function(G){let X=(this||Pe)._readableState,xe={hasUnpiped:!1};if(X.pipes.length===0)return this||Pe;if(!G){let De=X.pipes;X.pipes=[],this.pause();for(let zt=0;zt<De.length;zt++)De[zt].emit("unpipe",this||Pe,{hasUnpiped:!1});return this||Pe}let Me=e(X.pipes,G);return Me===-1?this||Pe:(X.pipes.splice(Me,1),X.pipes.length===0&&this.pause(),G.emit("unpipe",this||Pe,xe),this||Pe)},Se.prototype.on=function(G,X){let xe=b.prototype.on.call(this||Pe,G,X),Me=(this||Pe)._readableState;return G==="data"?(Me.readableListening=this.listenerCount("readable")>0,Me.flowing!==!1&&this.resume()):G==="readable"&&!Me.endEmitted&&!Me.readableListening&&(Me.readableListening=Me.needReadable=!0,Me.flowing=!1,Me.emittedReadable=!1,S("on readable",Me.length,Me.reading),Me.length?O(this||Pe):Me.reading||t.nextTick(Le,this||Pe)),xe},Se.prototype.addListener=Se.prototype.on,Se.prototype.removeListener=function(G,X){let xe=b.prototype.removeListener.call(this||Pe,G,X);return G==="readable"&&t.nextTick(ue,this||Pe),xe},Se.prototype.off=Se.prototype.removeListener,Se.prototype.removeAllListeners=function(G){let X=b.prototype.removeAllListeners.apply(this||Pe,arguments);return(G==="readable"||G===void 0)&&t.nextTick(ue,this||Pe),X};function ue(G){let X=G._readableState;X.readableListening=G.listenerCount("readable")>0,X.resumeScheduled&&X[Te]===!1?X.flowing=!0:G.listenerCount("data")>0?G.resume():X.readableListening||(X.flowing=null)}function Le(G){S("readable nexttick read 0"),G.read(0)}Se.prototype.resume=function(){let G=(this||Pe)._readableState;return G.flowing||(S("resume"),G.flowing=!G.readableListening,ke(this||Pe,G)),G[Te]=!1,this||Pe};function ke(G,X){X.resumeScheduled||(X.resumeScheduled=!0,t.nextTick(je,G,X))}function je(G,X){S("resume",X.reading),X.reading||G.read(0),X.resumeScheduled=!1,G.emit("resume"),Xe(G),X.flowing&&!X.reading&&G.read(0)}Se.prototype.pause=function(){return S("call pause flowing=%j",(this||Pe)._readableState.flowing),(this||Pe)._readableState.flowing!==!1&&(S("pause"),(this||Pe)._readableState.flowing=!1,this.emit("pause")),(this||Pe)._readableState[Te]=!0,this||Pe};function Xe(G){let X=G._readableState;for(S("flow",X.flowing);X.flowing&&G.read()!==null;);}Se.prototype.wrap=function(G){let X=!1;G.on("data",Me=>{!this.push(Me)&&G.pause&&(X=!0,G.pause())}),G.on("end",()=>{this.push(null)}),G.on("error",Me=>{D(this||Pe,Me)}),G.on("close",()=>{this.destroy()}),G.on("destroy",()=>{this.destroy()}),(this||Pe)._read=()=>{X&&G.resume&&(X=!1,G.resume())};let xe=o(G);for(let Me=1;Me<xe.length;Me++){let De=xe[Me];(this||Pe)[De]===void 0&&typeof G[De]=="function"&&((this||Pe)[De]=G[De].bind(G))}return this||Pe},Se.prototype[p]=function(){return en(this||Pe)},Se.prototype.iterator=function(G){return G!==void 0&&me(G,"options"),en(this||Pe,G)};function en(G,X){typeof G.read!="function"&&(G=Se.wrap(G,{objectMode:!0}));let xe=mn(G,X);return xe.stream=G,xe}async function*mn(G,X){let xe=we;function Me(rr){(this||Pe)===G?(xe(),xe=we):xe=rr}G.on("readable",Me);let De,zt=T(G,{writable:!1},rr=>{De=rr?W(De,rr):null,xe(),xe=we});try{for(;;){let rr=G.destroyed?null:G.read();if(rr!==null)yield rr;else{if(De)throw De;if(De===null)return;await new u(Me)}}}catch(rr){throw De=W(De,rr),De}finally{(De||X?.destroyOnReturn!==!1)&&(De===void 0||G._readableState.autoDestroy)?A.destroyer(G,null):(G.off("readable",Me),zt())}}s(Se.prototype,{readable:{__proto__:null,get(){let G=(this||Pe)._readableState;return!!G&&G.readable!==!1&&!G.destroyed&&!G.errorEmitted&&!G.endEmitted},set(G){(this||Pe)._readableState&&((this||Pe)._readableState.readable=!!G)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return(this||Pe)._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!((this||Pe)._readableState.readable!==!1&&((this||Pe)._readableState.destroyed||(this||Pe)._readableState.errored)&&!(this||Pe)._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return(this||Pe)._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return(this||Pe)._readableState&&(this||Pe)._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return(this||Pe)._readableState.flowing},set:function(G){(this||Pe)._readableState&&((this||Pe)._readableState.flowing=G)}},readableLength:{__proto__:null,enumerable:!1,get(){return(this||Pe)._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return(this||Pe)._readableState?(this||Pe)._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return(this||Pe)._readableState?(this||Pe)._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return(this||Pe)._readableState?(this||Pe)._readableState.errored:null}},closed:{__proto__:null,get(){return(this||Pe)._readableState?(this||Pe)._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return(this||Pe)._readableState?(this||Pe)._readableState.destroyed:!1},set(G){(this||Pe)._readableState&&((this||Pe)._readableState.destroyed=G)}},readableEnded:{__proto__:null,enumerable:!1,get(){return(this||Pe)._readableState?(this||Pe)._readableState.endEmitted:!1}}}),s(Re.prototype,{pipesCount:{__proto__:null,get(){return(this||Pe).pipes.length}},paused:{__proto__:null,get(){return(this||Pe)[Te]!==!1},set(G){(this||Pe)[Te]=!!G}}}),Se._fromList=ur;function ur(G,X){if(X.length===0)return null;let xe;return X.objectMode?xe=X.buffer.shift():!G||G>=X.length?(X.decoder?xe=X.buffer.join(""):X.buffer.length===1?xe=X.buffer.first():xe=X.buffer.concat(X.length),X.buffer.clear()):xe=X.buffer.consume(G,X.decoder),xe}function tr(G){let X=G._readableState;S("endReadable",X.endEmitted),X.endEmitted||(X.ended=!0,t.nextTick(uo,X,G))}function uo(G,X){if(S("endReadableNT",G.endEmitted,G.length),!G.errored&&!G.closeEmitted&&!G.endEmitted&&G.length===0){if(G.endEmitted=!0,X.emit("end"),X.writable&&X.allowHalfOpen===!1)t.nextTick(Rr,X);else if(G.autoDestroy){let xe=X._writableState;(!xe||xe.autoDestroy&&(xe.finished||xe.writable===!1))&&X.destroy()}}}function Rr(G){G.writable&&!G.writableEnded&&!G.destroyed&&G.end()}Se.from=function(G,X){return Z(Se,G,X)};let Bt;function gn(){return Bt===void 0&&(Bt={}),Bt}return Se.fromWeb=function(G,X){return gn().newStreamReadableFromReadableStream(G,X)},Se.toWeb=function(G,X){return gn().newReadableStreamFromStreamReadable(G,X)},Se.wrap=function(G,X){var xe,Me;return new Se({objectMode:(xe=(Me=G.readableObjectMode)!==null&&Me!==void 0?Me:G.objectMode)!==null&&xe!==void 0?xe:!0,...X,destroy(De,zt){A.destroyer(G,De),zt(De)}}).wrap(G)},Yg}function sb(){if(tR)return Kg;tR=!0;let t=or,{ArrayPrototypeSlice:e,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:i,ObjectDefineProperties:s,ObjectSetPrototypeOf:o,StringPrototypeToLowerCase:a,Symbol:u,SymbolHasInstance:c}=Zt();Kg=me,me.WritableState=H;let{EventEmitter:l}=gi,p=ob().Stream,{Buffer:h}=hr(),y=Pa(),{addAbortSignal:b}=id(),{getHighWaterMark:w,getDefaultHighWaterMark:m}=od(),{ERR_INVALID_ARG_TYPE:E,ERR_METHOD_NOT_IMPLEMENTED:T,ERR_MULTIPLE_CALLBACK:S,ERR_STREAM_CANNOT_PIPE:P,ERR_STREAM_DESTROYED:A,ERR_STREAM_ALREADY_FINISHED:N,ERR_STREAM_NULL_VALUES:C,ERR_STREAM_WRITE_AFTER_END:W,ERR_UNKNOWN_ENCODING:z}=hn().codes,{errorOrDestroy:j}=y;o(me.prototype,p.prototype),o(me,p);function ne(){}let Q=u("kOnFinished");function H(v,L,V){typeof V!="boolean"&&(V=L instanceof Ki()),(this||Ne).objectMode=!!(v&&v.objectMode),V&&((this||Ne).objectMode=(this||Ne).objectMode||!!(v&&v.writableObjectMode)),(this||Ne).highWaterMark=v?w(this||Ne,v,"writableHighWaterMark",V):m(!1),(this||Ne).finalCalled=!1,(this||Ne).needDrain=!1,(this||Ne).ending=!1,(this||Ne).ended=!1,(this||Ne).finished=!1,(this||Ne).destroyed=!1;let ye=!!(v&&v.decodeStrings===!1);(this||Ne).decodeStrings=!ye,(this||Ne).defaultEncoding=v&&v.defaultEncoding||"utf8",(this||Ne).length=0,(this||Ne).writing=!1,(this||Ne).corked=0,(this||Ne).sync=!0,(this||Ne).bufferProcessing=!1,(this||Ne).onwrite=D.bind(void 0,L),(this||Ne).writecb=null,(this||Ne).writelen=0,(this||Ne).afterWriteTickInfo=null,fe(this||Ne),(this||Ne).pendingcb=0,(this||Ne).constructed=!0,(this||Ne).prefinished=!1,(this||Ne).errorEmitted=!1,(this||Ne).emitClose=!v||v.emitClose!==!1,(this||Ne).autoDestroy=!v||v.autoDestroy!==!1,(this||Ne).errored=null,(this||Ne).closed=!1,(this||Ne).closeEmitted=!1,(this||Ne)[Q]=[]}function fe(v){v.buffered=[],v.bufferedIndex=0,v.allBuffers=!0,v.allNoop=!0}H.prototype.getBuffer=function(){return e((this||Ne).buffered,(this||Ne).bufferedIndex)},i(H.prototype,"bufferedRequestCount",{__proto__:null,get(){return(this||Ne).buffered.length-(this||Ne).bufferedIndex}});function me(v){let L=(this||Ne)instanceof Ki();if(!L&&!n(me,this||Ne))return new me(v);(this||Ne)._writableState=new H(v,this||Ne,L),v&&(typeof v.write=="function"&&((this||Ne)._write=v.write),typeof v.writev=="function"&&((this||Ne)._writev=v.writev),typeof v.destroy=="function"&&((this||Ne)._destroy=v.destroy),typeof v.final=="function"&&((this||Ne)._final=v.final),typeof v.construct=="function"&&((this||Ne)._construct=v.construct),v.signal&&b(v.signal,this||Ne)),p.call(this||Ne,v),y.construct(this||Ne,()=>{let V=(this||Ne)._writableState;V.writing||te(this||Ne,V),I(this||Ne,V)})}i(me,c,{__proto__:null,value:function(v){return n(this||Ne,v)?!0:(this||Ne)!==me?!1:v&&v._writableState instanceof H}}),me.prototype.pipe=function(){j(this||Ne,new P)};function Te(v,L,V,ye){let le=v._writableState;if(typeof V=="function")ye=V,V=le.defaultEncoding;else{if(!V)V=le.defaultEncoding;else if(V!=="buffer"&&!h.isEncoding(V))throw new z(V);typeof ye!="function"&&(ye=ne)}if(L===null)throw new C;if(!le.objectMode)if(typeof L=="string")le.decodeStrings!==!1&&(L=h.from(L,V),V="buffer");else if(L instanceof h)V="buffer";else if(p._isUint8Array(L))L=p._uint8ArrayToBuffer(L),V="buffer";else throw new E("chunk",["string","Buffer","Uint8Array"],L);let J;return le.ending?J=new W:le.destroyed&&(J=new A("write")),J?(t.nextTick(ye,J),j(v,J,!0),J):(le.pendingcb++,Ae(v,le,L,V,ye))}me.prototype.write=function(v,L,V){return Te(this||Ne,v,L,V)===!0},me.prototype.cork=function(){(this||Ne)._writableState.corked++},me.prototype.uncork=function(){let v=(this||Ne)._writableState;v.corked&&(v.corked--,v.writing||te(this||Ne,v))},me.prototype.setDefaultEncoding=function(L){if(typeof L=="string"&&(L=a(L)),!h.isEncoding(L))throw new z(L);return(this||Ne)._writableState.defaultEncoding=L,this||Ne};function Ae(v,L,V,ye,le){let J=L.objectMode?1:V.length;L.length+=J;let se=L.length<L.highWaterMark;return se||(L.needDrain=!0),L.writing||L.corked||L.errored||!L.constructed?(L.buffered.push({chunk:V,encoding:ye,callback:le}),L.allBuffers&&ye!=="buffer"&&(L.allBuffers=!1),L.allNoop&&le!==ne&&(L.allNoop=!1)):(L.writelen=J,L.writecb=le,L.writing=!0,L.sync=!0,v._write(V,ye,L.onwrite),L.sync=!1),se&&!L.errored&&!L.destroyed}function Z(v,L,V,ye,le,J,se){L.writelen=ye,L.writecb=se,L.writing=!0,L.sync=!0,L.destroyed?L.onwrite(new A("write")):V?v._writev(le,L.onwrite):v._write(le,J,L.onwrite),L.sync=!1}function we(v,L,V,ye){--L.pendingcb,ye(V),F(L),j(v,V)}function D(v,L){let V=v._writableState,ye=V.sync,le=V.writecb;if(typeof le!="function"){j(v,new S);return}V.writing=!1,V.writecb=null,V.length-=V.writelen,V.writelen=0,L?(L.stack,V.errored||(V.errored=L),v._readableState&&!v._readableState.errored&&(v._readableState.errored=L),ye?t.nextTick(we,v,V,L,le):we(v,V,L,le)):(V.buffered.length>V.bufferedIndex&&te(v,V),ye?V.afterWriteTickInfo!==null&&V.afterWriteTickInfo.cb===le?V.afterWriteTickInfo.count++:(V.afterWriteTickInfo={count:1,cb:le,stream:v,state:V},t.nextTick(ae,V.afterWriteTickInfo)):Y(v,V,1,le))}function ae({stream:v,state:L,count:V,cb:ye}){return L.afterWriteTickInfo=null,Y(v,L,V,ye)}function Y(v,L,V,ye){for(!L.ending&&!v.destroyed&&L.length===0&&L.needDrain&&(L.needDrain=!1,v.emit("drain"));V-- >0;)L.pendingcb--,ye();L.destroyed&&F(L),I(v,L)}function F(v){if(v.writing)return;for(let le=v.bufferedIndex;le<v.buffered.length;++le){var L;let{chunk:J,callback:se}=v.buffered[le],Ee=v.objectMode?1:J.length;v.length-=Ee,se((L=v.errored)!==null&&L!==void 0?L:new A("write"))}let V=v[Q].splice(0);for(let le=0;le<V.length;le++){var ye;V[le]((ye=v.errored)!==null&&ye!==void 0?ye:new A("end"))}fe(v)}function te(v,L){if(L.corked||L.bufferProcessing||L.destroyed||!L.constructed)return;let{buffered:V,bufferedIndex:ye,objectMode:le}=L,J=V.length-ye;if(!J)return;let se=ye;if(L.bufferProcessing=!0,J>1&&v._writev){L.pendingcb-=J-1;let Ee=L.allNoop?ne:Se=>{for(let Ge=se;Ge<V.length;++Ge)V[Ge].callback(Se)},Re=L.allNoop&&se===0?V:e(V,se);Re.allBuffers=L.allBuffers,Z(v,L,!0,L.length,Re,"",Ee),fe(L)}else{do{let{chunk:Ee,encoding:Re,callback:Se}=V[se];V[se++]=null;let Ge=le?1:Ee.length;Z(v,L,!1,Ge,Ee,Re,Se)}while(se<V.length&&!L.writing);se===V.length?fe(L):se>256?(V.splice(0,se),L.bufferedIndex=0):L.bufferedIndex=se}L.bufferProcessing=!1}me.prototype._write=function(v,L,V){if((this||Ne)._writev)this._writev([{chunk:v,encoding:L}],V);else throw new T("_write()")},me.prototype._writev=null,me.prototype.end=function(v,L,V){let ye=(this||Ne)._writableState;typeof v=="function"?(V=v,v=null,L=null):typeof L=="function"&&(V=L,L=null);let le;if(v!=null){let J=Te(this||Ne,v,L);J instanceof r&&(le=J)}return ye.corked&&(ye.corked=1,this.uncork()),le||(!ye.errored&&!ye.ending?(ye.ending=!0,I(this||Ne,ye,!0),ye.ended=!0):ye.finished?le=new N("end"):ye.destroyed&&(le=new A("end"))),typeof V=="function"&&(le||ye.finished?t.nextTick(V,le):ye[Q].push(V)),this||Ne};function pe(v){return v.ending&&!v.destroyed&&v.constructed&&v.length===0&&!v.errored&&v.buffered.length===0&&!v.finished&&!v.writing&&!v.errorEmitted&&!v.closeEmitted}function Ie(v,L){let V=!1;function ye(le){if(V){j(v,le??S());return}if(V=!0,L.pendingcb--,le){let J=L[Q].splice(0);for(let se=0;se<J.length;se++)J[se](le);j(v,le,L.sync)}else pe(L)&&(L.prefinished=!0,v.emit("prefinish"),L.pendingcb++,t.nextTick(k,v,L))}L.sync=!0,L.pendingcb++;try{v._final(ye)}catch(le){ye(le)}L.sync=!1}function M(v,L){!L.prefinished&&!L.finalCalled&&(typeof v._final=="function"&&!L.destroyed?(L.finalCalled=!0,Ie(v,L)):(L.prefinished=!0,v.emit("prefinish")))}function I(v,L,V){pe(L)&&(M(v,L),L.pendingcb===0&&(V?(L.pendingcb++,t.nextTick((ye,le)=>{pe(le)?k(ye,le):le.pendingcb--},v,L)):pe(L)&&(L.pendingcb++,k(v,L))))}function k(v,L){L.pendingcb--,L.finished=!0;let V=L[Q].splice(0);for(let ye=0;ye<V.length;ye++)V[ye]();if(v.emit("finish"),L.autoDestroy){let ye=v._readableState;(!ye||ye.autoDestroy&&(ye.endEmitted||ye.readable===!1))&&v.destroy()}}s(me.prototype,{closed:{__proto__:null,get(){return(this||Ne)._writableState?(this||Ne)._writableState.closed:!1}},destroyed:{__proto__:null,get(){return(this||Ne)._writableState?(this||Ne)._writableState.destroyed:!1},set(v){(this||Ne)._writableState&&((this||Ne)._writableState.destroyed=v)}},writable:{__proto__:null,get(){let v=(this||Ne)._writableState;return!!v&&v.writable!==!1&&!v.destroyed&&!v.errored&&!v.ending&&!v.ended},set(v){(this||Ne)._writableState&&((this||Ne)._writableState.writable=!!v)}},writableFinished:{__proto__:null,get(){return(this||Ne)._writableState?(this||Ne)._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return(this||Ne)._writableState?(this||Ne)._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return(this||Ne)._writableState&&(this||Ne)._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return(this||Ne)._writableState?(this||Ne)._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let v=(this||Ne)._writableState;return v?!v.destroyed&&!v.ending&&v.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return(this||Ne)._writableState&&(this||Ne)._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return(this||Ne)._writableState?(this||Ne)._writableState.corked:0}},writableLength:{__proto__:null,get(){return(this||Ne)._writableState&&(this||Ne)._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return(this||Ne)._writableState?(this||Ne)._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!((this||Ne)._writableState.writable!==!1&&((this||Ne)._writableState.destroyed||(this||Ne)._writableState.errored)&&!(this||Ne)._writableState.finished)}}});let ie=y.destroy;me.prototype.destroy=function(v,L){let V=(this||Ne)._writableState;return!V.destroyed&&(V.bufferedIndex<V.buffered.length||V[Q].length)&&t.nextTick(F,V),ie.call(this||Ne,v,L),this||Ne},me.prototype._undestroy=y.undestroy,me.prototype._destroy=function(v,L){L(v)},me.prototype[l.captureRejectionSymbol]=function(v){this.destroy(v)};let he;function $(){return he===void 0&&(he={}),he}return me.fromWeb=function(v,L){return $().newStreamWritableFromWritableStream(v,L)},me.toWeb=function(v){return $().newWritableStreamFromStreamWritable(v)},Kg}function a4(){if(rR)return Jg;rR=!0;let t=or,e=hr(),{isReadable:r,isWritable:n,isIterable:i,isNodeStream:s,isReadableNodeStream:o,isWritableNodeStream:a,isDuplexNodeStream:u,isReadableStream:c,isWritableStream:l}=Ji(),p=No(),{AbortError:h,codes:{ERR_INVALID_ARG_TYPE:y,ERR_INVALID_RETURN_VALUE:b}}=hn(),{destroyer:w}=Pa(),m=Ki(),E=sd(),T=sb(),{createDeferredPromise:S}=Vr(),P=hR(),A=globalThis.Blob||e.Blob,N=typeof A<"u"?function(H){return H instanceof A}:function(H){return!1},C=globalThis.AbortController||ff().AbortController,{FunctionPrototypeCall:W}=Zt();class z extends m{constructor(H){super(H),H?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),H?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}Jg=function Q(H,fe){if(u(H))return H;if(o(H))return ne({readable:H});if(a(H))return ne({writable:H});if(s(H))return ne({writable:!1,readable:!1});if(c(H))return ne({readable:E.fromWeb(H)});if(l(H))return ne({writable:T.fromWeb(H)});if(typeof H=="function"){let{value:Te,write:Ae,final:Z,destroy:we}=j(H);if(i(Te))return P(z,Te,{objectMode:!0,write:Ae,final:Z,destroy:we});let D=Te?.then;if(typeof D=="function"){let ae,Y=W(D,Te,F=>{if(F!=null)throw new b("nully","body",F)},F=>{w(ae,F)});return ae=new z({objectMode:!0,readable:!1,write:Ae,final(F){Z(async()=>{try{await Y,t.nextTick(F,null)}catch(te){t.nextTick(F,te)}})},destroy:we})}throw new b("Iterable, AsyncIterable or AsyncFunction",fe,Te)}if(N(H))return Q(H.arrayBuffer());if(i(H))return P(z,H,{objectMode:!0,writable:!1});if(c(H?.readable)&&l(H?.writable))return z.fromWeb(H);if(typeof H?.writable=="object"||typeof H?.readable=="object"){let Te=H!=null&&H.readable?o(H?.readable)?H?.readable:Q(H.readable):void 0,Ae=H!=null&&H.writable?a(H?.writable)?H?.writable:Q(H.writable):void 0;return ne({readable:Te,writable:Ae})}let me=H?.then;if(typeof me=="function"){let Te;return W(me,H,Ae=>{Ae!=null&&Te.push(Ae),Te.push(null)},Ae=>{w(Te,Ae)}),Te=new z({objectMode:!0,writable:!1,read(){}})}throw new y(fe,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],H)};function j(Q){let{promise:H,resolve:fe}=S(),me=new C,Te=me.signal;return{value:Q(async function*(){for(;;){let Z=H;H=null;let{chunk:we,done:D,cb:ae}=await Z;if(t.nextTick(ae),D)return;if(Te.aborted)throw new h(void 0,{cause:Te.reason});({promise:H,resolve:fe}=S()),yield we}}(),{signal:Te}),write(Z,we,D){let ae=fe;fe=null,ae({chunk:Z,done:!1,cb:D})},final(Z){let we=fe;fe=null,we({done:!0,cb:Z})},destroy(Z,we){me.abort(),we(Z)}}}function ne(Q){let H=Q.readable&&typeof Q.readable.read!="function"?E.wrap(Q.readable):Q.readable,fe=Q.writable,me=!!r(H),Te=!!n(fe),Ae,Z,we,D,ae;function Y(F){let te=D;D=null,te?te(F):F&&ae.destroy(F)}return ae=new z({readableObjectMode:!!(H!=null&&H.readableObjectMode),writableObjectMode:!!(fe!=null&&fe.writableObjectMode),readable:me,writable:Te}),Te&&(p(fe,F=>{Te=!1,F&&w(H,F),Y(F)}),ae._write=function(F,te,pe){fe.write(F,te)?pe():Ae=pe},ae._final=function(F){fe.end(),Z=F},fe.on("drain",function(){if(Ae){let F=Ae;Ae=null,F()}}),fe.on("finish",function(){if(Z){let F=Z;Z=null,F()}})),me&&(p(H,F=>{me=!1,F&&w(H,F),Y(F)}),H.on("readable",function(){if(we){let F=we;we=null,F()}}),H.on("end",function(){ae.push(null)}),ae._read=function(){for(;;){let F=H.read();if(F===null){we=ae._read;return}if(!ae.push(F))return}}),ae._destroy=function(F,te){!F&&D!==null&&(F=new h),we=null,Ae=null,Z=null,D===null?te(F):(D=te,w(fe,F),w(H,F))},ae}return Jg}function Ki(){if(nR)return Xg;nR=!0;let{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:e,ObjectKeys:r,ObjectSetPrototypeOf:n}=Zt();Xg=o;let i=sd(),s=sb();n(o.prototype,i.prototype),n(o,i);{let l=r(s.prototype);for(let p=0;p<l.length;p++){let h=l[p];o.prototype[h]||(o.prototype[h]=s.prototype[h])}}function o(l){if(!(this instanceof o))return new o(l);i.call(this,l),s.call(this,l),l?(this.allowHalfOpen=l.allowHalfOpen!==!1,l.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),l.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t(o.prototype,{writable:{__proto__:null,...e(s.prototype,"writable")},writableHighWaterMark:{__proto__:null,...e(s.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...e(s.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...e(s.prototype,"writableBuffer")},writableLength:{__proto__:null,...e(s.prototype,"writableLength")},writableFinished:{__proto__:null,...e(s.prototype,"writableFinished")},writableCorked:{__proto__:null,...e(s.prototype,"writableCorked")},writableEnded:{__proto__:null,...e(s.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...e(s.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(l){this._readableState&&this._writableState&&(this._readableState.destroyed=l,this._writableState.destroyed=l)}}});let a;function u(){return a===void 0&&(a={}),a}o.fromWeb=function(l,p){return u().newStreamDuplexFromReadableWritablePair(l,p)},o.toWeb=function(l){return u().newReadableWritablePairFromDuplex(l)};let c;return o.from=function(l){return c||(c=a4()),c(l,"body")},Xg}function pR(){if(iR)return Zg;iR=!0;let{ObjectSetPrototypeOf:t,Symbol:e}=Zt();Zg=o;let{ERR_METHOD_NOT_IMPLEMENTED:r}=hn().codes,n=Ki(),{getHighWaterMark:i}=od();t(o.prototype,n.prototype),t(o,n);let s=e("kCallback");function o(c){if(!(this instanceof o))return new o(c);let l=c?i(this,c,"readableHighWaterMark",!0):null;l===0&&(c={...c,highWaterMark:null,readableHighWaterMark:l,writableHighWaterMark:c.writableHighWaterMark||0}),n.call(this,c),this._readableState.sync=!1,this[s]=null,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",u)}function a(c){typeof this._flush=="function"&&!this.destroyed?this._flush((l,p)=>{if(l){c?c(l):this.destroy(l);return}p!=null&&this.push(p),this.push(null),c&&c()}):(this.push(null),c&&c())}function u(){this._final!==a&&a.call(this)}return o.prototype._final=a,o.prototype._transform=function(c,l,p){throw new r("_transform()")},o.prototype._write=function(c,l,p){let h=this._readableState,y=this._writableState,b=h.length;this._transform(c,l,(w,m)=>{if(w){p(w);return}m!=null&&this.push(m),y.ended||b===h.length||h.length<h.highWaterMark?p():this[s]=p})},o.prototype._read=function(){if(this[s]){let c=this[s];this[s]=null,c()}},Zg}function yR(){if(oR)return Qg;oR=!0;let{ObjectSetPrototypeOf:t}=Zt();Qg=r;let e=pR();t(r.prototype,e.prototype),t(r,e);function r(n){if(!(this instanceof r))return new r(n);e.call(this,n)}return r.prototype._transform=function(n,i,s){s(null,n)},Qg}function ab(){if(sR)return eb;sR=!0;let t=or,{ArrayIsArray:e,Promise:r,SymbolAsyncIterator:n,SymbolDispose:i}=Zt(),s=No(),{once:o}=Vr(),a=Pa(),u=Ki(),{aggregateTwoErrors:c,codes:{ERR_INVALID_ARG_TYPE:l,ERR_INVALID_RETURN_VALUE:p,ERR_MISSING_ARGS:h,ERR_STREAM_DESTROYED:y,ERR_STREAM_PREMATURE_CLOSE:b},AbortError:w}=hn(),{validateFunction:m,validateAbortSignal:E}=lf(),{isIterable:T,isReadable:S,isReadableNodeStream:P,isNodeStream:A,isTransformStream:N,isWebStream:C,isReadableStream:W,isReadableFinished:z}=Ji(),j=globalThis.AbortController||ff().AbortController,ne,Q,H;function fe(F,te,pe){let Ie=!1;F.on("close",()=>{Ie=!0});let M=s(F,{readable:te,writable:pe},I=>{Ie=!I});return{destroy:I=>{Ie||(Ie=!0,a.destroyer(F,I||new y("pipe")))},cleanup:M}}function me(F){return m(F[F.length-1],"streams[stream.length - 1]"),F.pop()}function Te(F){if(T(F))return F;if(P(F))return Ae(F);throw new l("val",["Readable","Iterable","AsyncIterable"],F)}async function*Ae(F){Q||(Q=sd()),yield*Q.prototype[n].call(F)}async function Z(F,te,pe,{end:Ie}){let M,I=null,k=$=>{if($&&(M=$),I){let v=I;I=null,v()}},ie=()=>new r(($,v)=>{M?v(M):I=()=>{M?v(M):$()}});te.on("drain",k);let he=s(te,{readable:!1},k);try{te.writableNeedDrain&&await ie();for await(let $ of F)te.write($)||await ie();Ie&&(te.end(),await ie()),pe()}catch($){pe(M!==$?c(M,$):$)}finally{he(),te.off("drain",k)}}async function we(F,te,pe,{end:Ie}){N(te)&&(te=te.writable);let M=te.getWriter();try{for await(let I of F)await M.ready,M.write(I).catch(()=>{});await M.ready,Ie&&await M.close(),pe()}catch(I){try{await M.abort(I),pe(I)}catch(k){pe(k)}}}function D(...F){return ae(F,o(me(F)))}function ae(F,te,pe){if(F.length===1&&e(F[0])&&(F=F[0]),F.length<2)throw new h("streams");let Ie=new j,M=Ie.signal,I=pe?.signal,k=[];E(I,"options.signal");function ie(){le(new w)}H=H||Vr().addAbortListener;let he;I&&(he=H(I,ie));let $,v,L=[],V=0;function ye(Re){le(Re,--V===0)}function le(Re,Se){var Ge;if(Re&&(!$||$.code==="ERR_STREAM_PREMATURE_CLOSE")&&($=Re),!(!$&&!Se)){for(;L.length;)L.shift()($);(Ge=he)===null||Ge===void 0||Ge[i](),Ie.abort(),Se&&($||k.forEach(Ve=>Ve()),t.nextTick(te,$,v))}}let J;for(let Re=0;Re<F.length;Re++){let Se=F[Re],Ge=Re<F.length-1,Ve=Re>0,Ke=Ge||pe?.end!==!1,_=Re===F.length-1;if(A(Se)){let f=function(d){d&&d.name!=="AbortError"&&d.code!=="ERR_STREAM_PREMATURE_CLOSE"&&ye(d)};if(Ke){let{destroy:d,cleanup:O}=fe(Se,Ge,Ve);L.push(d),S(Se)&&_&&k.push(O)}Se.on("error",f),S(Se)&&_&&k.push(()=>{Se.removeListener("error",f)})}if(Re===0)if(typeof Se=="function"){if(J=Se({signal:M}),!T(J))throw new p("Iterable, AsyncIterable or Stream","source",J)}else T(Se)||P(Se)||N(Se)?J=Se:J=u.from(Se);else if(typeof Se=="function"){if(N(J)){var se;J=Te((se=J)===null||se===void 0?void 0:se.readable)}else J=Te(J);if(J=Se(J,{signal:M}),Ge){if(!T(J,!0))throw new p("AsyncIterable",`transform[${Re-1}]`,J)}else{var Ee;ne||(ne=yR());let f=new ne({objectMode:!0}),d=(Ee=J)===null||Ee===void 0?void 0:Ee.then;if(typeof d=="function")V++,d.call(J,q=>{v=q,q!=null&&f.write(q),Ke&&f.end(),t.nextTick(ye)},q=>{f.destroy(q),t.nextTick(ye,q)});else if(T(J,!0))V++,Z(J,f,ye,{end:Ke});else if(W(J)||N(J)){let q=J.readable||J;V++,Z(q,f,ye,{end:Ke})}else throw new p("AsyncIterable or Promise","destination",J);J=f;let{destroy:O,cleanup:B}=fe(J,!1,!0);L.push(O),_&&k.push(B)}}else if(A(Se)){if(P(J)){V+=2;let f=Y(J,Se,ye,{end:Ke});S(Se)&&_&&k.push(f)}else if(N(J)||W(J)){let f=J.readable||J;V++,Z(f,Se,ye,{end:Ke})}else if(T(J))V++,Z(J,Se,ye,{end:Ke});else throw new l("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],J);J=Se}else if(C(Se)){if(P(J))V++,we(Te(J),Se,ye,{end:Ke});else if(W(J)||T(J))V++,we(J,Se,ye,{end:Ke});else if(N(J))V++,we(J.readable,Se,ye,{end:Ke});else throw new l("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],J);J=Se}else J=u.from(Se)}return(M!=null&&M.aborted||I!=null&&I.aborted)&&t.nextTick(ie),J}function Y(F,te,pe,{end:Ie}){let M=!1;if(te.on("close",()=>{M||pe(new b)}),F.pipe(te,{end:!1}),Ie){let I=function(){M=!0,te.end()};z(F)?t.nextTick(I):F.once("end",I)}else pe();return s(F,{readable:!0,writable:!1},I=>{let k=F._readableState;I&&I.code==="ERR_STREAM_PREMATURE_CLOSE"&&k&&k.ended&&!k.errored&&!k.errorEmitted?F.once("end",pe).once("error",pe):pe(I)}),s(te,{readable:!1,writable:!0},pe)}return eb={pipelineImpl:ae,pipeline:D},eb}function mR(){if(aR)return tb;aR=!0;let{pipeline:t}=ab(),e=Ki(),{destroyer:r}=Pa(),{isNodeStream:n,isReadable:i,isWritable:s,isWebStream:o,isTransformStream:a,isWritableStream:u,isReadableStream:c}=Ji(),{AbortError:l,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:h}}=hn(),y=No();return tb=function(...w){if(w.length===0)throw new h("streams");if(w.length===1)return e.from(w[0]);let m=[...w];if(typeof w[0]=="function"&&(w[0]=e.from(w[0])),typeof w[w.length-1]=="function"){let ne=w.length-1;w[ne]=e.from(w[ne])}for(let ne=0;ne<w.length;++ne)if(!(!n(w[ne])&&!o(w[ne]))){if(ne<w.length-1&&!(i(w[ne])||c(w[ne])||a(w[ne])))throw new p(`streams[${ne}]`,m[ne],"must be readable");if(ne>0&&!(s(w[ne])||u(w[ne])||a(w[ne])))throw new p(`streams[${ne}]`,m[ne],"must be writable")}let E,T,S,P,A;function N(ne){let Q=P;P=null,Q?Q(ne):ne?A.destroy(ne):!j&&!z&&A.destroy()}let C=w[0],W=t(w,N),z=!!(s(C)||u(C)||a(C)),j=!!(i(W)||c(W)||a(W));if(A=new e({writableObjectMode:!!(C!=null&&C.writableObjectMode),readableObjectMode:!!(W!=null&&W.readableObjectMode),writable:z,readable:j}),z){if(n(C))A._write=function(Q,H,fe){C.write(Q,H)?fe():E=fe},A._final=function(Q){C.end(),T=Q},C.on("drain",function(){if(E){let Q=E;E=null,Q()}});else if(o(C)){let H=(a(C)?C.writable:C).getWriter();A._write=async function(fe,me,Te){try{await H.ready,H.write(fe).catch(()=>{}),Te()}catch(Ae){Te(Ae)}},A._final=async function(fe){try{await H.ready,H.close().catch(()=>{}),T=fe}catch(me){fe(me)}}}let ne=a(W)?W.readable:W;y(ne,()=>{if(T){let Q=T;T=null,Q()}})}if(j){if(n(W))W.on("readable",function(){if(S){let ne=S;S=null,ne()}}),W.on("end",function(){A.push(null)}),A._read=function(){for(;;){let ne=W.read();if(ne===null){S=A._read;return}if(!A.push(ne))return}};else if(o(W)){let Q=(a(W)?W.readable:W).getReader();A._read=async function(){for(;;)try{let{value:H,done:fe}=await Q.read();if(!A.push(H))return;if(fe){A.push(null);return}}catch{return}}}}return A._destroy=function(ne,Q){!ne&&P!==null&&(ne=new l),S=null,E=null,T=null,P===null?Q(ne):(P=Q,n(W)&&r(W,ne))},A},tb}function u4(){if(uR)return nd;uR=!0;let t=globalThis.AbortController||ff().AbortController,{codes:{ERR_INVALID_ARG_VALUE:e,ERR_INVALID_ARG_TYPE:r,ERR_MISSING_ARGS:n,ERR_OUT_OF_RANGE:i},AbortError:s}=hn(),{validateAbortSignal:o,validateInteger:a,validateObject:u}=lf(),c=Zt().Symbol("kWeak"),l=Zt().Symbol("kResistStopPropagation"),{finished:p}=No(),h=mR(),{addAbortSignalNoValidate:y}=id(),{isWritable:b,isNodeStream:w}=Ji(),{deprecate:m}=Vr(),{ArrayPrototypePush:E,Boolean:T,MathFloor:S,Number:P,NumberIsNaN:A,Promise:N,PromiseReject:C,PromiseResolve:W,PromisePrototypeThen:z,Symbol:j}=Zt(),ne=j("kEmpty"),Q=j("kEof");function H(I,k){if(k!=null&&u(k,"options"),k?.signal!=null&&o(k.signal,"options.signal"),w(I)&&!b(I))throw new e("stream",I,"must be writable");let ie=h(this,I);return k!=null&&k.signal&&y(k.signal,ie),ie}function fe(I,k){if(typeof I!="function")throw new r("fn",["Function","AsyncFunction"],I);k!=null&&u(k,"options"),k?.signal!=null&&o(k.signal,"options.signal");let ie=1;k?.concurrency!=null&&(ie=S(k.concurrency));let he=ie-1;return k?.highWaterMark!=null&&(he=S(k.highWaterMark)),a(ie,"options.concurrency",1),a(he,"options.highWaterMark",0),he+=ie,async function*(){let v=Vr().AbortSignalAny([k?.signal].filter(T)),L=this,V=[],ye={signal:v},le,J,se=!1,Ee=0;function Re(){se=!0,Se()}function Se(){Ee-=1,Ge()}function Ge(){J&&!se&&Ee<ie&&V.length<he&&(J(),J=null)}async function Ve(){try{for await(let Ke of L){if(se)return;if(v.aborted)throw new s;try{if(Ke=I(Ke,ye),Ke===ne)continue;Ke=W(Ke)}catch(_){Ke=C(_)}Ee+=1,z(Ke,Se,Re),V.push(Ke),le&&(le(),le=null),!se&&(V.length>=he||Ee>=ie)&&await new N(_=>{J=_})}V.push(Q)}catch(Ke){let _=C(Ke);z(_,Se,Re),V.push(_)}finally{se=!0,le&&(le(),le=null)}}Ve();try{for(;;){for(;V.length>0;){let Ke=await V[0];if(Ke===Q)return;if(v.aborted)throw new s;Ke!==ne&&(yield Ke),V.shift(),Ge()}await new N(Ke=>{le=Ke})}}finally{se=!0,J&&(J(),J=null)}}.call(this)}function me(I=void 0){return I!=null&&u(I,"options"),I?.signal!=null&&o(I.signal,"options.signal"),async function*(){let ie=0;for await(let $ of this){var he;if(I!=null&&(he=I.signal)!==null&&he!==void 0&&he.aborted)throw new s({cause:I.signal.reason});yield[ie++,$]}}.call(this)}async function Te(I,k=void 0){for await(let ie of D.call(this,I,k))return!0;return!1}async function Ae(I,k=void 0){if(typeof I!="function")throw new r("fn",["Function","AsyncFunction"],I);return!await Te.call(this,async(...ie)=>!await I(...ie),k)}async function Z(I,k){for await(let ie of D.call(this,I,k))return ie}async function we(I,k){if(typeof I!="function")throw new r("fn",["Function","AsyncFunction"],I);async function ie(he,$){return await I(he,$),ne}for await(let he of fe.call(this,ie,k));}function D(I,k){if(typeof I!="function")throw new r("fn",["Function","AsyncFunction"],I);async function ie(he,$){return await I(he,$)?he:ne}return fe.call(this,ie,k)}class ae extends n{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function Y(I,k,ie){var he;if(typeof I!="function")throw new r("reducer",["Function","AsyncFunction"],I);ie!=null&&u(ie,"options"),ie?.signal!=null&&o(ie.signal,"options.signal");let $=arguments.length>1;if(ie!=null&&(he=ie.signal)!==null&&he!==void 0&&he.aborted){let le=new s(void 0,{cause:ie.signal.reason});throw this.once("error",()=>{}),await p(this.destroy(le)),le}let v=new t,L=v.signal;if(ie!=null&&ie.signal){let le={once:!0,[c]:this,[l]:!0};ie.signal.addEventListener("abort",()=>v.abort(),le)}let V=!1;try{for await(let le of this){var ye;if(V=!0,ie!=null&&(ye=ie.signal)!==null&&ye!==void 0&&ye.aborted)throw new s;$?k=await I(k,le,{signal:L}):(k=le,$=!0)}if(!V&&!$)throw new ae}finally{v.abort()}return k}async function F(I){I!=null&&u(I,"options"),I?.signal!=null&&o(I.signal,"options.signal");let k=[];for await(let he of this){var ie;if(I!=null&&(ie=I.signal)!==null&&ie!==void 0&&ie.aborted)throw new s(void 0,{cause:I.signal.reason});E(k,he)}return k}function te(I,k){let ie=fe.call(this,I,k);return async function*(){for await(let $ of ie)yield*$}.call(this)}function pe(I){if(I=P(I),A(I))return 0;if(I<0)throw new i("number",">= 0",I);return I}function Ie(I,k=void 0){return k!=null&&u(k,"options"),k?.signal!=null&&o(k.signal,"options.signal"),I=pe(I),async function*(){var he;if(k!=null&&(he=k.signal)!==null&&he!==void 0&&he.aborted)throw new s;for await(let v of this){var $;if(k!=null&&($=k.signal)!==null&&$!==void 0&&$.aborted)throw new s;I--<=0&&(yield v)}}.call(this)}function M(I,k=void 0){return k!=null&&u(k,"options"),k?.signal!=null&&o(k.signal,"options.signal"),I=pe(I),async function*(){var he;if(k!=null&&(he=k.signal)!==null&&he!==void 0&&he.aborted)throw new s;for await(let v of this){var $;if(k!=null&&($=k.signal)!==null&&$!==void 0&&$.aborted)throw new s;if(I-- >0&&(yield v),I<=0)return}}.call(this)}return nd.streamReturningOperators={asIndexedPairs:m(me,"readable.asIndexedPairs will be removed in a future version."),drop:Ie,filter:D,flatMap:te,map:fe,take:M,compose:H},nd.promiseReturningOperators={every:Ae,forEach:we,reduce:Y,toArray:F,some:Te,find:Z},nd}function gR(){if(fR)return rb;fR=!0;let{ArrayPrototypePop:t,Promise:e}=Zt(),{isIterable:r,isNodeStream:n,isWebStream:i}=Ji(),{pipelineImpl:s}=ab(),{finished:o}=No();bR();function a(...u){return new e((c,l)=>{let p,h,y=u[u.length-1];if(y&&typeof y=="object"&&!n(y)&&!r(y)&&!i(y)){let b=t(u);p=b.signal,h=b.end}s(u,(b,w)=>{b?l(b):c(w)},{signal:p,end:h})})}return rb={finished:o,pipeline:a},rb}function bR(){if(lR)return nb;lR=!0;let{Buffer:t}=hr(),{ObjectDefineProperty:e,ObjectKeys:r,ReflectApply:n}=Zt(),{promisify:{custom:i}}=Vr(),{streamReturningOperators:s,promiseReturningOperators:o}=u4(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:a}}=hn(),u=mR(),{setDefaultHighWaterMark:c,getDefaultHighWaterMark:l}=od(),{pipeline:p}=ab(),{destroyer:h}=Pa(),y=No(),b=gR(),w=Ji(),m=nb=ob().Stream;m.isDestroyed=w.isDestroyed,m.isDisturbed=w.isDisturbed,m.isErrored=w.isErrored,m.isReadable=w.isReadable,m.isWritable=w.isWritable,m.Readable=sd();for(let T of r(s)){let P=function(...A){if(new.target)throw a();return m.Readable.from(n(S,this||cR,A))},S=s[T];e(P,"name",{__proto__:null,value:S.name}),e(P,"length",{__proto__:null,value:S.length}),e(m.Readable.prototype,T,{__proto__:null,value:P,enumerable:!1,configurable:!0,writable:!0})}for(let T of r(o)){let P=function(...A){if(new.target)throw a();return n(S,this||cR,A)},S=o[T];e(P,"name",{__proto__:null,value:S.name}),e(P,"length",{__proto__:null,value:S.length}),e(m.Readable.prototype,T,{__proto__:null,value:P,enumerable:!1,configurable:!0,writable:!0})}m.Writable=sb(),m.Duplex=Ki(),m.Transform=pR(),m.PassThrough=yR(),m.pipeline=p;let{addAbortSignal:E}=id();return m.addAbortSignal=E,m.finished=y,m.destroy=h,m.compose=u,m.setDefaultHighWaterMark=c,m.getDefaultHighWaterMark=l,e(m,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return b}}),e(p,i,{__proto__:null,enumerable:!0,get(){return b.pipeline}}),e(y,i,{__proto__:null,enumerable:!0,get(){return b.finished}}),m.Stream=m,m._isUint8Array=function(S){return S instanceof Uint8Array},m._uint8ArrayToBuffer=function(S){return t.from(S.buffer,S.byteOffset,S.byteLength)},nb}function f4(){if(dR)return Xt;dR=!0;let t=bR(),e=gR(),r=t.Readable.destroy;return Xt=t.Readable,Xt._uint8ArrayToBuffer=t._uint8ArrayToBuffer,Xt._isUint8Array=t._isUint8Array,Xt.isDisturbed=t.isDisturbed,Xt.isErrored=t.isErrored,Xt.isReadable=t.isReadable,Xt.Readable=t.Readable,Xt.Writable=t.Writable,Xt.Duplex=t.Duplex,Xt.Transform=t.Transform,Xt.PassThrough=t.PassThrough,Xt.addAbortSignal=t.addAbortSignal,Xt.finished=t.finished,Xt.destroy=t.destroy,Xt.destroy=r,Xt.pipeline=t.pipeline,Xt.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return e}}),Xt.Stream=t.Stream,Xt.default=Xt,Xt}var kg,F$,af,q$,td,W$,Dg,H$,Fg,z$,qg,V$,rd,G$,Wg,Y$,Hg,K$,uf,J$,zg,X$,Vg,Z$,Gg,Q$,Yg,eR,Pe,Kg,tR,Ne,Jg,rR,Xg,nR,Zg,iR,Qg,oR,eb,sR,tb,aR,nd,uR,rb,fR,nb,lR,cR,Xt,dR,xt,ib,l4,c4,d4,h4,p4,y4,m4,g4,$n=Rt(()=>{x();cu();ng();wa();qy();sf();Zc();mc();kg={},F$=!1;af={},q$=!1;td={},W$=!1;Dg={},H$=!1;Fg={},z$=!1;qg={},V$=!1;rd={},G$=!1;Wg={},Y$=!1;Hg={},K$=!1;uf={},J$=!1;zg={},X$=!1;Vg={},Z$=!1;Gg={},Q$=!1;Yg={},eR=!1,Pe=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;Kg={},tR=!1,Ne=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;Jg={},rR=!1;Xg={},nR=!1;Zg={},iR=!1;Qg={},oR=!1;eb={},sR=!1;tb={},aR=!1;nd={},uR=!1;rb={},fR=!1;nb={},lR=!1,cR=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;Xt={},dR=!1;xt=f4();xt._uint8ArrayToBuffer;xt._isUint8Array;xt.isDisturbed;xt.isErrored;xt.isReadable;xt.Readable;xt.Writable;xt.Duplex;xt.Transform;xt.PassThrough;xt.addAbortSignal;xt.finished;xt.destroy;xt.pipeline;xt.compose;xt.Stream;ib=xt.Readable;ib.wrap=function(t,e){return e=Object.assign({objectMode:t.readableObjectMode!=null||t.objectMode!=null||!0},e),e.destroy=function(r,n){t.destroy(r),n(r)},new ib(e).wrap(t)};l4=xt.Writable,c4=xt.Duplex,d4=xt.Transform,h4=xt.PassThrough,p4=xt.finished,y4=xt.pipeline,m4=xt.Stream,g4={finished:Qc(xt.finished),pipeline:Qc(xt.pipeline)}});var ud=de((ad,_R)=>{x();(function(t,e){typeof ad=="object"&&typeof _R<"u"?e(ad):typeof define=="function"&&define.amd?define(["exports"],e):e((t=typeof globalThis<"u"?globalThis:t||self).WebStreamsPolyfill={})})(ad,function(t){"use strict";function e(){}function r(g){return typeof g=="object"&&g!==null||typeof g=="function"}let n=e;function i(g,R){try{Object.defineProperty(g,"name",{value:R,configurable:!0})}catch{}}let s=Promise,o=Promise.resolve.bind(s),a=Promise.prototype.then,u=Promise.reject.bind(s),c=o;function l(g){return new s(g)}function p(g){return l(R=>R(g))}function h(g){return u(g)}function y(g,R,U){return a.call(g,R,U)}function b(g,R,U){y(y(g,R,U),void 0,n)}function w(g,R){b(g,R)}function m(g,R){b(g,void 0,R)}function E(g,R,U){return y(g,R,U)}function T(g){y(g,void 0,n)}let S=g=>{if(typeof queueMicrotask=="function")S=queueMicrotask;else{let R=p(void 0);S=U=>y(R,U)}return S(g)};function P(g,R,U){if(typeof g!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(g,R,U)}function A(g,R,U){try{return p(P(g,R,U))}catch(K){return h(K)}}class N{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(R){let U=this._back,K=U;U._elements.length===16383&&(K={_elements:[],_next:void 0}),U._elements.push(R),K!==U&&(this._back=K,U._next=K),++this._size}shift(){let R=this._front,U=R,K=this._cursor,ge=K+1,ve=R._elements,_e=ve[K];return ge===16384&&(U=R._next,ge=0),--this._size,this._cursor=ge,R!==U&&(this._front=U),ve[K]=void 0,_e}forEach(R){let U=this._cursor,K=this._front,ge=K._elements;for(;!(U===ge.length&&K._next===void 0||U===ge.length&&(K=K._next,ge=K._elements,U=0,ge.length===0));)R(ge[U]),++U}peek(){let R=this._front,U=this._cursor;return R._elements[U]}}let C=Symbol("[[AbortSteps]]"),W=Symbol("[[ErrorSteps]]"),z=Symbol("[[CancelSteps]]"),j=Symbol("[[PullSteps]]"),ne=Symbol("[[ReleaseSteps]]");function Q(g,R){g._ownerReadableStream=R,R._reader=g,R._state==="readable"?Te(g):R._state==="closed"?function(U){Te(U),we(U)}(g):Ae(g,R._storedError)}function H(g,R){return Fn(g._ownerReadableStream,R)}function fe(g){let R=g._ownerReadableStream;R._state==="readable"?Z(g,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(U,K){Ae(U,K)}(g,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),R._readableStreamController[ne](),R._reader=void 0,g._ownerReadableStream=void 0}function me(g){return new TypeError("Cannot "+g+" a stream using a released reader")}function Te(g){g._closedPromise=l((R,U)=>{g._closedPromise_resolve=R,g._closedPromise_reject=U})}function Ae(g,R){Te(g),Z(g,R)}function Z(g,R){g._closedPromise_reject!==void 0&&(T(g._closedPromise),g._closedPromise_reject(R),g._closedPromise_resolve=void 0,g._closedPromise_reject=void 0)}function we(g){g._closedPromise_resolve!==void 0&&(g._closedPromise_resolve(void 0),g._closedPromise_resolve=void 0,g._closedPromise_reject=void 0)}let D=Number.isFinite||function(g){return typeof g=="number"&&isFinite(g)},ae=Math.trunc||function(g){return g<0?Math.ceil(g):Math.floor(g)};function Y(g,R){if(g!==void 0&&typeof(U=g)!="object"&&typeof U!="function")throw new TypeError(`${R} is not an object.`);var U}function F(g,R){if(typeof g!="function")throw new TypeError(`${R} is not a function.`)}function te(g,R){if(!function(U){return typeof U=="object"&&U!==null||typeof U=="function"}(g))throw new TypeError(`${R} is not an object.`)}function pe(g,R,U){if(g===void 0)throw new TypeError(`Parameter ${R} is required in '${U}'.`)}function Ie(g,R,U){if(g===void 0)throw new TypeError(`${R} is required in '${U}'.`)}function M(g){return Number(g)}function I(g){return g===0?0:g}function k(g,R){let U=Number.MAX_SAFE_INTEGER,K=Number(g);if(K=I(K),!D(K))throw new TypeError(`${R} is not a finite number`);if(K=function(ge){return I(ae(ge))}(K),K<0||K>U)throw new TypeError(`${R} is outside the accepted range of 0 to ${U}, inclusive`);return D(K)&&K!==0?K:0}function ie(g,R){if(!ho(g))throw new TypeError(`${R} is not a ReadableStream.`)}function he(g){return new ye(g)}function $(g,R){g._reader._readRequests.push(R)}function v(g,R,U){let K=g._reader._readRequests.shift();U?K._closeSteps():K._chunkSteps(R)}function L(g){return g._reader._readRequests.length}function V(g){let R=g._reader;return R!==void 0&&!!le(R)}class ye{constructor(R){if(pe(R,1,"ReadableStreamDefaultReader"),ie(R,"First parameter"),po(R))throw new TypeError("This stream has already been locked for exclusive reading by another reader");Q(this,R),this._readRequests=new N}get closed(){return le(this)?this._closedPromise:h(Ee("closed"))}cancel(R=void 0){return le(this)?this._ownerReadableStream===void 0?h(me("cancel")):H(this,R):h(Ee("cancel"))}read(){if(!le(this))return h(Ee("read"));if(this._ownerReadableStream===void 0)return h(me("read from"));let R,U,K=l((ge,ve)=>{R=ge,U=ve});return J(this,{_chunkSteps:ge=>R({value:ge,done:!1}),_closeSteps:()=>R({value:void 0,done:!0}),_errorSteps:ge=>U(ge)}),K}releaseLock(){if(!le(this))throw Ee("releaseLock");this._ownerReadableStream!==void 0&&function(R){fe(R);let U=new TypeError("Reader was released");se(R,U)}(this)}}function le(g){return!!r(g)&&!!Object.prototype.hasOwnProperty.call(g,"_readRequests")&&g instanceof ye}function J(g,R){let U=g._ownerReadableStream;U._disturbed=!0,U._state==="closed"?R._closeSteps():U._state==="errored"?R._errorSteps(U._storedError):U._readableStreamController[j](R)}function se(g,R){let U=g._readRequests;g._readRequests=new N,U.forEach(K=>{K._errorSteps(R)})}function Ee(g){return new TypeError(`ReadableStreamDefaultReader.prototype.${g} can only be used on a ReadableStreamDefaultReader`)}var Re,Se,Ge;function Ve(g){return g.slice()}function Ke(g,R,U,K,ge){new Uint8Array(g).set(new Uint8Array(U,K,ge),R)}Object.defineProperties(ye.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),i(ye.prototype.cancel,"cancel"),i(ye.prototype.read,"read"),i(ye.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(ye.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});let _=g=>(_=typeof g.transfer=="function"?R=>R.transfer():typeof structuredClone=="function"?R=>structuredClone(R,{transfer:[R]}):R=>R,_(g)),f=g=>(f=typeof g.detached=="boolean"?R=>R.detached:R=>R.byteLength===0,f(g));function d(g,R,U){if(g.slice)return g.slice(R,U);let K=U-R,ge=new ArrayBuffer(K);return Ke(ge,0,g,R,K),ge}function O(g,R){let U=g[R];if(U!=null){if(typeof U!="function")throw new TypeError(`${String(R)} is not a function`);return U}}function B(g){try{let R=g.done,U=g.value;return y(c(U),K=>({done:R,value:K}))}catch(R){return h(R)}}let q=(Ge=(Re=Symbol.asyncIterator)!==null&&Re!==void 0?Re:(Se=Symbol.for)===null||Se===void 0?void 0:Se.call(Symbol,"Symbol.asyncIterator"))!==null&&Ge!==void 0?Ge:"@@asyncIterator";function ee(g,R="sync",U){if(U===void 0)if(R==="async"){if((U=O(g,q))===void 0)return function(ge){let ve={next(){let _e;try{_e=re(ge)}catch(be){return h(be)}return B(_e)},return(_e){let be;try{let $e=O(ge.iterator,"return");if($e===void 0)return p({done:!0,value:_e});be=P($e,ge.iterator,[_e])}catch($e){return h($e)}return r(be)?B(be):h(new TypeError("The iterator.return() method must return an object"))}};return{iterator:ve,nextMethod:ve.next,done:!1}}(ee(g,"sync",O(g,Symbol.iterator)))}else U=O(g,Symbol.iterator);if(U===void 0)throw new TypeError("The object is not iterable");let K=P(U,g,[]);if(!r(K))throw new TypeError("The iterator method must return an object");return{iterator:K,nextMethod:K.next,done:!1}}function re(g){let R=P(g.nextMethod,g.iterator,[]);if(!r(R))throw new TypeError("The iterator.next() method must return an object");return R}class ue{constructor(R,U){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=R,this._preventCancel=U}next(){let R=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?E(this._ongoingPromise,R,R):R(),this._ongoingPromise}return(R){let U=()=>this._returnSteps(R);return this._ongoingPromise=this._ongoingPromise?E(this._ongoingPromise,U,U):U(),this._ongoingPromise}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let R=this._reader,U,K,ge=l((ve,_e)=>{U=ve,K=_e});return J(R,{_chunkSteps:ve=>{this._ongoingPromise=void 0,S(()=>U({value:ve,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,fe(R),U({value:void 0,done:!0})},_errorSteps:ve=>{this._ongoingPromise=void 0,this._isFinished=!0,fe(R),K(ve)}}),ge}_returnSteps(R){if(this._isFinished)return Promise.resolve({value:R,done:!0});this._isFinished=!0;let U=this._reader;if(!this._preventCancel){let K=H(U,R);return fe(U),E(K,()=>({value:R,done:!0}))}return fe(U),p({value:R,done:!0})}}let Le={next(){return ke(this)?this._asyncIteratorImpl.next():h(je("next"))},return(g){return ke(this)?this._asyncIteratorImpl.return(g):h(je("return"))},[q](){return this}};function ke(g){if(!r(g)||!Object.prototype.hasOwnProperty.call(g,"_asyncIteratorImpl"))return!1;try{return g._asyncIteratorImpl instanceof ue}catch{return!1}}function je(g){return new TypeError(`ReadableStreamAsyncIterator.${g} can only be used on a ReadableSteamAsyncIterator`)}Object.defineProperty(Le,q,{enumerable:!1});let Xe=Number.isNaN||function(g){return g!=g};function en(g){let R=d(g.buffer,g.byteOffset,g.byteOffset+g.byteLength);return new Uint8Array(R)}function mn(g){let R=g._queue.shift();return g._queueTotalSize-=R.size,g._queueTotalSize<0&&(g._queueTotalSize=0),R.value}function ur(g,R,U){if(typeof(K=U)!="number"||Xe(K)||K<0||U===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var K;g._queue.push({value:R,size:U}),g._queueTotalSize+=U}function tr(g){g._queue=new N,g._queueTotalSize=0}function uo(g){return g===DataView}class Rr{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!G(this))throw nh("view");return this._view}respond(R){if(!G(this))throw nh("respond");if(pe(R,1,"respond"),R=k(R,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(f(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");il(this._associatedReadableByteStreamController,R)}respondWithNewView(R){if(!G(this))throw nh("respondWithNewView");if(pe(R,1,"respondWithNewView"),!ArrayBuffer.isView(R))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(f(R.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");ol(this._associatedReadableByteStreamController,R)}}Object.defineProperties(Rr.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),i(Rr.prototype.respond,"respond"),i(Rr.prototype.respondWithNewView,"respondWithNewView"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Rr.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Bt{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!gn(this))throw nu("byobRequest");return rh(this)}get desiredSize(){if(!gn(this))throw nu("desiredSize");return X0(this)}close(){if(!gn(this))throw nu("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let R=this._controlledReadableByteStream._state;if(R!=="readable")throw new TypeError(`The stream (in ${R} state) is not in the readable state and cannot be closed`);dr(this)}enqueue(R){if(!gn(this))throw nu("enqueue");if(pe(R,1,"enqueue"),!ArrayBuffer.isView(R))throw new TypeError("chunk must be an array buffer view");if(R.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(R.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let U=this._controlledReadableByteStream._state;if(U!=="readable")throw new TypeError(`The stream (in ${U} state) is not in the readable state and cannot be enqueued to`);nl(this,R)}error(R=void 0){if(!gn(this))throw nu("error");In(this,R)}[z](R){xe(this),tr(this);let U=this._cancelAlgorithm(R);return tn(this),U}[j](R){let U=this._controlledReadableByteStream;if(this._queueTotalSize>0)return void J0(this,R);let K=this._autoAllocateChunkSize;if(K!==void 0){let ge;try{ge=new ArrayBuffer(K)}catch(_e){return void R._errorSteps(_e)}let ve={buffer:ge,bufferByteLength:K,byteOffset:0,byteLength:K,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(ve)}$(U,R),X(this)}[ne](){if(this._pendingPullIntos.length>0){let R=this._pendingPullIntos.peek();R.readerType="none",this._pendingPullIntos=new N,this._pendingPullIntos.push(R)}}}function gn(g){return!!r(g)&&!!Object.prototype.hasOwnProperty.call(g,"_controlledReadableByteStream")&&g instanceof Bt}function G(g){return!!r(g)&&!!Object.prototype.hasOwnProperty.call(g,"_associatedReadableByteStreamController")&&g instanceof Rr}function X(g){if(function(U){let K=U._controlledReadableByteStream;return K._state!=="readable"||U._closeRequested||!U._started?!1:!!(V(K)&&L(K)>0||ih(K)&&tw(K)>0||X0(U)>0)}(g)){if(g._pulling)return void(g._pullAgain=!0);g._pulling=!0,b(g._pullAlgorithm(),()=>(g._pulling=!1,g._pullAgain&&(g._pullAgain=!1,X(g)),null),U=>(In(g,U),null))}}function xe(g){Ti(g),g._pendingPullIntos=new N}function Me(g,R){let U=!1;g._state==="closed"&&(U=!0);let K=zt(R);R.readerType==="default"?v(g,K,U):function(ge,ve,_e){let be=ge._reader,$e=be._readIntoRequests.shift();_e?$e._closeSteps(ve):$e._chunkSteps(ve)}(g,K,U)}function De(g,R){for(let U=0;U<R.length;++U)Me(g,R[U])}function zt(g){let R=g.bytesFilled,U=g.elementSize;return new g.viewConstructor(g.buffer,g.byteOffset,R/U)}function rr(g,R,U,K){g._queue.push({buffer:R,byteOffset:U,byteLength:K}),g._queueTotalSize+=K}function fo(g,R,U,K){let ge;try{ge=d(R,U,U+K)}catch(ve){throw In(g,ve),ve}rr(g,ge,0,K)}function bn(g,R){R.bytesFilled>0&&fo(g,R.buffer,R.byteOffset,R.bytesFilled),br(g)}function Ei(g,R){let U=Math.min(g._queueTotalSize,R.byteLength-R.bytesFilled),K=R.bytesFilled+U,ge=U,ve=!1,_e=K-K%R.elementSize;_e>=R.minimumFill&&(ge=_e-R.bytesFilled,ve=!0);let be=g._queue;for(;ge>0;){let $e=be.peek(),Fe=Math.min(ge,$e.byteLength),He=R.byteOffset+R.bytesFilled;Ke(R.buffer,He,$e.buffer,$e.byteOffset,Fe),$e.byteLength===Fe?be.shift():($e.byteOffset+=Fe,$e.byteLength-=Fe),g._queueTotalSize-=Fe,Vo(g,Fe,R),ge-=Fe}return ve}function Vo(g,R,U){U.bytesFilled+=R}function Si(g){g._queueTotalSize===0&&g._closeRequested?(tn(g),fu(g._controlledReadableByteStream)):X(g)}function Ti(g){g._byobRequest!==null&&(g._byobRequest._associatedReadableByteStreamController=void 0,g._byobRequest._view=null,g._byobRequest=null)}function Ai(g){let R=[];for(;g._pendingPullIntos.length>0&&g._queueTotalSize!==0;){let U=g._pendingPullIntos.peek();Ei(g,U)&&(br(g),R.push(U))}return R}function $i(g,R,U,K){let ge=g._controlledReadableByteStream,ve=R.constructor,_e=function(Be){return uo(Be)?1:Be.BYTES_PER_ELEMENT}(ve),{byteOffset:be,byteLength:$e}=R,Fe=U*_e,He;try{He=_(R.buffer)}catch(Be){return void K._errorSteps(Be)}let at={buffer:He,bufferByteLength:He.byteLength,byteOffset:be,byteLength:$e,bytesFilled:0,minimumFill:Fe,elementSize:_e,viewConstructor:ve,readerType:"byob"};if(g._pendingPullIntos.length>0)return g._pendingPullIntos.push(at),void ew(ge,K);if(ge._state!=="closed"){if(g._queueTotalSize>0){if(Ei(g,at)){let Be=zt(at);return Si(g),void K._chunkSteps(Be)}if(g._closeRequested){let Be=new TypeError("Insufficient bytes to fill elements in the given buffer");return In(g,Be),void K._errorSteps(Be)}}g._pendingPullIntos.push(at),ew(ge,K),X(g)}else{let Be=new ve(at.buffer,at.byteOffset,0);K._closeSteps(Be)}}function _n(g,R){let U=g._pendingPullIntos.peek();Ti(g),g._controlledReadableByteStream._state==="closed"?function(K,ge){ge.readerType==="none"&&br(K);let ve=K._controlledReadableByteStream;if(ih(ve)){let _e=[];for(let be=0;be<tw(ve);++be)_e.push(br(K));De(ve,_e)}}(g,U):function(K,ge,ve){if(Vo(0,ge,ve),ve.readerType==="none"){bn(K,ve);let $e=Ai(K);return void De(K._controlledReadableByteStream,$e)}if(ve.bytesFilled<ve.minimumFill)return;br(K);let _e=ve.bytesFilled%ve.elementSize;if(_e>0){let $e=ve.byteOffset+ve.bytesFilled;fo(K,ve.buffer,$e-_e,_e)}ve.bytesFilled-=_e;let be=Ai(K);Me(K._controlledReadableByteStream,ve),De(K._controlledReadableByteStream,be)}(g,R,U),X(g)}function br(g){return g._pendingPullIntos.shift()}function tn(g){g._pullAlgorithm=void 0,g._cancelAlgorithm=void 0}function dr(g){let R=g._controlledReadableByteStream;if(!g._closeRequested&&R._state==="readable")if(g._queueTotalSize>0)g._closeRequested=!0;else{if(g._pendingPullIntos.length>0){let U=g._pendingPullIntos.peek();if(U.bytesFilled%U.elementSize!=0){let K=new TypeError("Insufficient bytes to fill elements in the given buffer");throw In(g,K),K}}tn(g),fu(R)}}function nl(g,R){let U=g._controlledReadableByteStream;if(g._closeRequested||U._state!=="readable")return;let{buffer:K,byteOffset:ge,byteLength:ve}=R;if(f(K))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");let _e=_(K);if(g._pendingPullIntos.length>0){let be=g._pendingPullIntos.peek();if(f(be.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");Ti(g),be.buffer=_(be.buffer),be.readerType==="none"&&bn(g,be)}if(V(U))(function(be){let $e=be._controlledReadableByteStream._reader;for(;$e._readRequests.length>0;){if(be._queueTotalSize===0)return;J0(be,$e._readRequests.shift())}})(g),L(U)===0?rr(g,_e,ge,ve):(g._pendingPullIntos.length>0&&br(g),v(U,new Uint8Array(_e,ge,ve),!1));else if(ih(U)){rr(g,_e,ge,ve);let be=Ai(g);De(g._controlledReadableByteStream,be)}else rr(g,_e,ge,ve);X(g)}function In(g,R){let U=g._controlledReadableByteStream;U._state==="readable"&&(xe(g),tr(g),tn(g),$w(U,R))}function J0(g,R){let U=g._queue.shift();g._queueTotalSize-=U.byteLength,Si(g);let K=new Uint8Array(U.buffer,U.byteOffset,U.byteLength);R._chunkSteps(K)}function rh(g){if(g._byobRequest===null&&g._pendingPullIntos.length>0){let R=g._pendingPullIntos.peek(),U=new Uint8Array(R.buffer,R.byteOffset+R.bytesFilled,R.byteLength-R.bytesFilled),K=Object.create(Rr.prototype);(function(ge,ve,_e){ge._associatedReadableByteStreamController=ve,ge._view=_e})(K,g,U),g._byobRequest=K}return g._byobRequest}function X0(g){let R=g._controlledReadableByteStream._state;return R==="errored"?null:R==="closed"?0:g._strategyHWM-g._queueTotalSize}function il(g,R){let U=g._pendingPullIntos.peek();if(g._controlledReadableByteStream._state==="closed"){if(R!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(R===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(U.bytesFilled+R>U.byteLength)throw new RangeError("bytesWritten out of range")}U.buffer=_(U.buffer),_n(g,R)}function ol(g,R){let U=g._pendingPullIntos.peek();if(g._controlledReadableByteStream._state==="closed"){if(R.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(R.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(U.byteOffset+U.bytesFilled!==R.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(U.bufferByteLength!==R.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(U.bytesFilled+R.byteLength>U.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let K=R.byteLength;U.buffer=_(R.buffer),_n(g,K)}function Z0(g,R,U,K,ge,ve,_e){R._controlledReadableByteStream=g,R._pullAgain=!1,R._pulling=!1,R._byobRequest=null,R._queue=R._queueTotalSize=void 0,tr(R),R._closeRequested=!1,R._started=!1,R._strategyHWM=ve,R._pullAlgorithm=K,R._cancelAlgorithm=ge,R._autoAllocateChunkSize=_e,R._pendingPullIntos=new N,g._readableStreamController=R,b(p(U()),()=>(R._started=!0,X(R),null),be=>(In(R,be),null))}function nh(g){return new TypeError(`ReadableStreamBYOBRequest.prototype.${g} can only be used on a ReadableStreamBYOBRequest`)}function nu(g){return new TypeError(`ReadableByteStreamController.prototype.${g} can only be used on a ReadableByteStreamController`)}function W2(g,R){if((g=`${g}`)!="byob")throw new TypeError(`${R} '${g}' is not a valid enumeration value for ReadableStreamReaderMode`);return g}function Q0(g){return new lo(g)}function ew(g,R){g._reader._readIntoRequests.push(R)}function tw(g){return g._reader._readIntoRequests.length}function ih(g){let R=g._reader;return R!==void 0&&!!Go(R)}Object.defineProperties(Bt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),i(Bt.prototype.close,"close"),i(Bt.prototype.enqueue,"enqueue"),i(Bt.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Bt.prototype,Symbol.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class lo{constructor(R){if(pe(R,1,"ReadableStreamBYOBReader"),ie(R,"First parameter"),po(R))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!gn(R._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Q(this,R),this._readIntoRequests=new N}get closed(){return Go(this)?this._closedPromise:h(sl("closed"))}cancel(R=void 0){return Go(this)?this._ownerReadableStream===void 0?h(me("cancel")):H(this,R):h(sl("cancel"))}read(R,U={}){if(!Go(this))return h(sl("read"));if(!ArrayBuffer.isView(R))return h(new TypeError("view must be an array buffer view"));if(R.byteLength===0)return h(new TypeError("view must have non-zero byteLength"));if(R.buffer.byteLength===0)return h(new TypeError("view's buffer must have non-zero byteLength"));if(f(R.buffer))return h(new TypeError("view's buffer has been detached"));let K;try{K=function($e,Fe){var He;return Y($e,Fe),{min:k((He=$e?.min)!==null&&He!==void 0?He:1,`${Fe} has member 'min' that`)}}(U,"options")}catch($e){return h($e)}let ge=K.min;if(ge===0)return h(new TypeError("options.min must be greater than 0"));if(function($e){return uo($e.constructor)}(R)){if(ge>R.byteLength)return h(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(ge>R.length)return h(new RangeError("options.min must be less than or equal to view's length"));if(this._ownerReadableStream===void 0)return h(me("read from"));let ve,_e,be=l(($e,Fe)=>{ve=$e,_e=Fe});return rw(this,R,ge,{_chunkSteps:$e=>ve({value:$e,done:!1}),_closeSteps:$e=>ve({value:$e,done:!0}),_errorSteps:$e=>_e($e)}),be}releaseLock(){if(!Go(this))throw sl("releaseLock");this._ownerReadableStream!==void 0&&function(R){fe(R);let U=new TypeError("Reader was released");nw(R,U)}(this)}}function Go(g){return!!r(g)&&!!Object.prototype.hasOwnProperty.call(g,"_readIntoRequests")&&g instanceof lo}function rw(g,R,U,K){let ge=g._ownerReadableStream;ge._disturbed=!0,ge._state==="errored"?K._errorSteps(ge._storedError):$i(ge._readableStreamController,R,U,K)}function nw(g,R){let U=g._readIntoRequests;g._readIntoRequests=new N,U.forEach(K=>{K._errorSteps(R)})}function sl(g){return new TypeError(`ReadableStreamBYOBReader.prototype.${g} can only be used on a ReadableStreamBYOBReader`)}function iu(g,R){let{highWaterMark:U}=g;if(U===void 0)return R;if(Xe(U)||U<0)throw new RangeError("Invalid highWaterMark");return U}function al(g){let{size:R}=g;return R||(()=>1)}function ul(g,R){Y(g,R);let U=g?.highWaterMark,K=g?.size;return{highWaterMark:U===void 0?void 0:M(U),size:K===void 0?void 0:H2(K,`${R} has member 'size' that`)}}function H2(g,R){return F(g,R),U=>M(g(U))}function z2(g,R,U){return F(g,U),K=>A(g,R,[K])}function V2(g,R,U){return F(g,U),()=>A(g,R,[])}function G2(g,R,U){return F(g,U),K=>P(g,R,[K])}function Y2(g,R,U){return F(g,U),(K,ge)=>A(g,R,[K,ge])}function iw(g,R){if(!Fs(g))throw new TypeError(`${R} is not a WritableStream.`)}Object.defineProperties(lo.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),i(lo.prototype.cancel,"cancel"),i(lo.prototype.read,"read"),i(lo.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(lo.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});class co{constructor(R={},U={}){R===void 0?R=null:te(R,"First parameter");let K=ul(U,"Second parameter"),ge=function(_e,be){Y(_e,be);let $e=_e?.abort,Fe=_e?.close,He=_e?.start,at=_e?.type,Be=_e?.write;return{abort:$e===void 0?void 0:z2($e,_e,`${be} has member 'abort' that`),close:Fe===void 0?void 0:V2(Fe,_e,`${be} has member 'close' that`),start:He===void 0?void 0:G2(He,_e,`${be} has member 'start' that`),write:Be===void 0?void 0:Y2(Be,_e,`${be} has member 'write' that`),type:at}}(R,"First parameter");if(sw(this),ge.type!==void 0)throw new RangeError("Invalid type is specified");let ve=al(K);(function(_e,be,$e,Fe){let He=Object.create(Ws.prototype),at,Be,Ze,Vt;at=be.start!==void 0?()=>be.start(He):()=>{},Be=be.write!==void 0?Gt=>be.write(Gt,He):()=>p(void 0),Ze=be.close!==void 0?()=>be.close():()=>p(void 0),Vt=be.abort!==void 0?Gt=>be.abort(Gt):()=>p(void 0),hw(_e,He,at,Be,Ze,Vt,$e,Fe)})(this,ge,iu(K,1),ve)}get locked(){if(!Fs(this))throw hl("locked");return qs(this)}abort(R=void 0){return Fs(this)?qs(this)?h(new TypeError("Cannot abort a stream that already has a writer")):fl(this,R):h(hl("abort"))}close(){return Fs(this)?qs(this)?h(new TypeError("Cannot close a stream that already has a writer")):oi(this)?h(new TypeError("Cannot close an already-closing stream")):aw(this):h(hl("close"))}getWriter(){if(!Fs(this))throw hl("getWriter");return ow(this)}}function ow(g){return new Ri(g)}function sw(g){g._state="writable",g._storedError=void 0,g._writer=void 0,g._writableStreamController=void 0,g._writeRequests=new N,g._inFlightWriteRequest=void 0,g._closeRequest=void 0,g._inFlightCloseRequest=void 0,g._pendingAbortRequest=void 0,g._backpressure=!1}function Fs(g){return!!r(g)&&!!Object.prototype.hasOwnProperty.call(g,"_writableStreamController")&&g instanceof co}function qs(g){return g._writer!==void 0}function fl(g,R){var U;if(g._state==="closed"||g._state==="errored")return p(void 0);g._writableStreamController._abortReason=R,(U=g._writableStreamController._abortController)===null||U===void 0||U.abort(R);let K=g._state;if(K==="closed"||K==="errored")return p(void 0);if(g._pendingAbortRequest!==void 0)return g._pendingAbortRequest._promise;let ge=!1;K==="erroring"&&(ge=!0,R=void 0);let ve=l((_e,be)=>{g._pendingAbortRequest={_promise:void 0,_resolve:_e,_reject:be,_reason:R,_wasAlreadyErroring:ge}});return g._pendingAbortRequest._promise=ve,ge||sh(g,R),ve}function aw(g){let R=g._state;if(R==="closed"||R==="errored")return h(new TypeError(`The stream (in ${R} state) is not in the writable state and cannot be closed`));let U=l((ve,_e)=>{let be={_resolve:ve,_reject:_e};g._closeRequest=be}),K=g._writer;var ge;return K!==void 0&&g._backpressure&&R==="writable"&&ph(K),ur(ge=g._writableStreamController,dw,0),dl(ge),U}function oh(g,R){g._state!=="writable"?ah(g):sh(g,R)}function sh(g,R){let U=g._writableStreamController;g._state="erroring",g._storedError=R;let K=g._writer;K!==void 0&&fw(K,R),!function(ge){return!(ge._inFlightWriteRequest===void 0&&ge._inFlightCloseRequest===void 0)}(g)&&U._started&&ah(g)}function ah(g){g._state="errored",g._writableStreamController[W]();let R=g._storedError;if(g._writeRequests.forEach(K=>{K._reject(R)}),g._writeRequests=new N,g._pendingAbortRequest===void 0)return void ll(g);let U=g._pendingAbortRequest;if(g._pendingAbortRequest=void 0,U._wasAlreadyErroring)return U._reject(R),void ll(g);b(g._writableStreamController[C](U._reason),()=>(U._resolve(),ll(g),null),K=>(U._reject(K),ll(g),null))}function oi(g){return g._closeRequest!==void 0||g._inFlightCloseRequest!==void 0}function ll(g){g._closeRequest!==void 0&&(g._closeRequest._reject(g._storedError),g._closeRequest=void 0);let R=g._writer;R!==void 0&&dh(R,g._storedError)}function uh(g,R){let U=g._writer;U!==void 0&&R!==g._backpressure&&(R?function(K){yl(K)}(U):ph(U)),g._backpressure=R}Object.defineProperties(co.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),i(co.prototype.abort,"abort"),i(co.prototype.close,"close"),i(co.prototype.getWriter,"getWriter"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(co.prototype,Symbol.toStringTag,{value:"WritableStream",configurable:!0});class Ri{constructor(R){if(pe(R,1,"WritableStreamDefaultWriter"),iw(R,"First parameter"),qs(R))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=R,R._writer=this;let U=R._state;if(U==="writable")!oi(R)&&R._backpressure?yl(this):bw(this),pl(this);else if(U==="erroring")hh(this,R._storedError),pl(this);else if(U==="closed")bw(this),pl(K=this),gw(K);else{let ge=R._storedError;hh(this,ge),mw(this,ge)}var K}get closed(){return Yo(this)?this._closedPromise:h(Ko("closed"))}get desiredSize(){if(!Yo(this))throw Ko("desiredSize");if(this._ownerWritableStream===void 0)throw su("desiredSize");return function(R){let U=R._ownerWritableStream,K=U._state;return K==="errored"||K==="erroring"?null:K==="closed"?0:pw(U._writableStreamController)}(this)}get ready(){return Yo(this)?this._readyPromise:h(Ko("ready"))}abort(R=void 0){return Yo(this)?this._ownerWritableStream===void 0?h(su("abort")):function(U,K){return fl(U._ownerWritableStream,K)}(this,R):h(Ko("abort"))}close(){if(!Yo(this))return h(Ko("close"));let R=this._ownerWritableStream;return R===void 0?h(su("close")):oi(R)?h(new TypeError("Cannot close an already-closing stream")):uw(this)}releaseLock(){if(!Yo(this))throw Ko("releaseLock");this._ownerWritableStream!==void 0&&lw(this)}write(R=void 0){return Yo(this)?this._ownerWritableStream===void 0?h(su("write to")):cw(this,R):h(Ko("write"))}}function Yo(g){return!!r(g)&&!!Object.prototype.hasOwnProperty.call(g,"_ownerWritableStream")&&g instanceof Ri}function uw(g){return aw(g._ownerWritableStream)}function K2(g,R){g._closedPromiseState==="pending"?dh(g,R):function(U,K){mw(U,K)}(g,R)}function fw(g,R){g._readyPromiseState==="pending"?_w(g,R):function(U,K){hh(U,K)}(g,R)}function lw(g){let R=g._ownerWritableStream,U=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");fw(g,U),K2(g,U),R._writer=void 0,g._ownerWritableStream=void 0}function cw(g,R){let U=g._ownerWritableStream,K=U._writableStreamController,ge=function(be,$e){if(be._strategySizeAlgorithm===void 0)return 1;try{return be._strategySizeAlgorithm($e)}catch(Fe){return ou(be,Fe),1}}(K,R);if(U!==g._ownerWritableStream)return h(su("write to"));let ve=U._state;if(ve==="errored")return h(U._storedError);if(oi(U)||ve==="closed")return h(new TypeError("The stream is closing or closed and cannot be written to"));if(ve==="erroring")return h(U._storedError);let _e=function(be){return l(($e,Fe)=>{let He={_resolve:$e,_reject:Fe};be._writeRequests.push(He)})}(U);return function(be,$e,Fe){try{ur(be,$e,Fe)}catch(at){return void ou(be,at)}let He=be._controlledWritableStream;!oi(He)&&He._state==="writable"&&uh(He,lh(be)),dl(be)}(K,R,ge),_e}Object.defineProperties(Ri.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),i(Ri.prototype.abort,"abort"),i(Ri.prototype.close,"close"),i(Ri.prototype.releaseLock,"releaseLock"),i(Ri.prototype.write,"write"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Ri.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});let dw={};class Ws{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!fh(this))throw ch("abortReason");return this._abortReason}get signal(){if(!fh(this))throw ch("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(R=void 0){if(!fh(this))throw ch("error");this._controlledWritableStream._state==="writable"&&yw(this,R)}[C](R){let U=this._abortAlgorithm(R);return cl(this),U}[W](){tr(this)}}function fh(g){return!!r(g)&&!!Object.prototype.hasOwnProperty.call(g,"_controlledWritableStream")&&g instanceof Ws}function hw(g,R,U,K,ge,ve,_e,be){R._controlledWritableStream=g,g._writableStreamController=R,R._queue=void 0,R._queueTotalSize=void 0,tr(R),R._abortReason=void 0,R._abortController=function(){if(typeof AbortController=="function")return new AbortController}(),R._started=!1,R._strategySizeAlgorithm=be,R._strategyHWM=_e,R._writeAlgorithm=K,R._closeAlgorithm=ge,R._abortAlgorithm=ve;let $e=lh(R);uh(g,$e),b(p(U()),()=>(R._started=!0,dl(R),null),Fe=>(R._started=!0,oh(g,Fe),null))}function cl(g){g._writeAlgorithm=void 0,g._closeAlgorithm=void 0,g._abortAlgorithm=void 0,g._strategySizeAlgorithm=void 0}function pw(g){return g._strategyHWM-g._queueTotalSize}function dl(g){let R=g._controlledWritableStream;if(!g._started||R._inFlightWriteRequest!==void 0)return;if(R._state==="erroring")return void ah(R);if(g._queue.length===0)return;let U=g._queue.peek().value;U===dw?function(K){let ge=K._controlledWritableStream;(function(_e){_e._inFlightCloseRequest=_e._closeRequest,_e._closeRequest=void 0})(ge),mn(K);let ve=K._closeAlgorithm();cl(K),b(ve,()=>(function(_e){_e._inFlightCloseRequest._resolve(void 0),_e._inFlightCloseRequest=void 0,_e._state==="erroring"&&(_e._storedError=void 0,_e._pendingAbortRequest!==void 0&&(_e._pendingAbortRequest._resolve(),_e._pendingAbortRequest=void 0)),_e._state="closed";let be=_e._writer;be!==void 0&&gw(be)}(ge),null),_e=>(function(be,$e){be._inFlightCloseRequest._reject($e),be._inFlightCloseRequest=void 0,be._pendingAbortRequest!==void 0&&(be._pendingAbortRequest._reject($e),be._pendingAbortRequest=void 0),oh(be,$e)}(ge,_e),null))}(g):function(K,ge){let ve=K._controlledWritableStream;(function(be){be._inFlightWriteRequest=be._writeRequests.shift()})(ve);let _e=K._writeAlgorithm(ge);b(_e,()=>{(function($e){$e._inFlightWriteRequest._resolve(void 0),$e._inFlightWriteRequest=void 0})(ve);let be=ve._state;if(mn(K),!oi(ve)&&be==="writable"){let $e=lh(K);uh(ve,$e)}return dl(K),null},be=>(ve._state==="writable"&&cl(K),function($e,Fe){$e._inFlightWriteRequest._reject(Fe),$e._inFlightWriteRequest=void 0,oh($e,Fe)}(ve,be),null))}(g,U)}function ou(g,R){g._controlledWritableStream._state==="writable"&&yw(g,R)}function lh(g){return pw(g)<=0}function yw(g,R){let U=g._controlledWritableStream;cl(g),sh(U,R)}function hl(g){return new TypeError(`WritableStream.prototype.${g} can only be used on a WritableStream`)}function ch(g){return new TypeError(`WritableStreamDefaultController.prototype.${g} can only be used on a WritableStreamDefaultController`)}function Ko(g){return new TypeError(`WritableStreamDefaultWriter.prototype.${g} can only be used on a WritableStreamDefaultWriter`)}function su(g){return new TypeError("Cannot "+g+" a stream using a released writer")}function pl(g){g._closedPromise=l((R,U)=>{g._closedPromise_resolve=R,g._closedPromise_reject=U,g._closedPromiseState="pending"})}function mw(g,R){pl(g),dh(g,R)}function dh(g,R){g._closedPromise_reject!==void 0&&(T(g._closedPromise),g._closedPromise_reject(R),g._closedPromise_resolve=void 0,g._closedPromise_reject=void 0,g._closedPromiseState="rejected")}function gw(g){g._closedPromise_resolve!==void 0&&(g._closedPromise_resolve(void 0),g._closedPromise_resolve=void 0,g._closedPromise_reject=void 0,g._closedPromiseState="resolved")}function yl(g){g._readyPromise=l((R,U)=>{g._readyPromise_resolve=R,g._readyPromise_reject=U}),g._readyPromiseState="pending"}function hh(g,R){yl(g),_w(g,R)}function bw(g){yl(g),ph(g)}function _w(g,R){g._readyPromise_reject!==void 0&&(T(g._readyPromise),g._readyPromise_reject(R),g._readyPromise_resolve=void 0,g._readyPromise_reject=void 0,g._readyPromiseState="rejected")}function ph(g){g._readyPromise_resolve!==void 0&&(g._readyPromise_resolve(void 0),g._readyPromise_resolve=void 0,g._readyPromise_reject=void 0,g._readyPromiseState="fulfilled")}Object.defineProperties(Ws.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Ws.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});let ww=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:void 0,J2=function(){let g=ww?.DOMException;return function(R){if(typeof R!="function"&&typeof R!="object"||R.name!=="DOMException")return!1;try{return new R,!0}catch{return!1}}(g)?g:void 0}()||function(){let g=function(R,U){this.message=R||"",this.name=U||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return i(g,"DOMException"),g.prototype=Object.create(Error.prototype),Object.defineProperty(g.prototype,"constructor",{value:g,writable:!0,configurable:!0}),g}();function vw(g,R,U,K,ge,ve){let _e=he(g),be=ow(R);g._disturbed=!0;let $e=!1,Fe=p(void 0);return l((He,at)=>{let Be;if(ve!==void 0){if(Be=()=>{let Qe=ve.reason!==void 0?ve.reason:new J2("Aborted","AbortError"),jt=[];K||jt.push(()=>R._state==="writable"?fl(R,Qe):p(void 0)),ge||jt.push(()=>g._state==="readable"?Fn(g,Qe):p(void 0)),It(()=>Promise.all(jt.map(gt=>gt())),!0,Qe)},ve.aborted)return void Be();ve.addEventListener("abort",Be)}var Ze,Vt,Gt;if(qr(g,_e._closedPromise,Qe=>(K?yt(!0,Qe):It(()=>fl(R,Qe),!0,Qe),null)),qr(R,be._closedPromise,Qe=>(ge?yt(!0,Qe):It(()=>Fn(g,Qe),!0,Qe),null)),Ze=g,Vt=_e._closedPromise,Gt=()=>(U?yt():It(()=>function(Qe){let jt=Qe._ownerWritableStream,gt=jt._state;return oi(jt)||gt==="closed"?p(void 0):gt==="errored"?h(jt._storedError):uw(Qe)}(be)),null),Ze._state==="closed"?Gt():w(Vt,Gt),oi(R)||R._state==="closed"){let Qe=new TypeError("the destination writable stream closed before all data could be piped to it");ge?yt(!0,Qe):It(()=>Fn(g,Qe),!0,Qe)}function Fr(){let Qe=Fe;return y(Fe,()=>Qe!==Fe?Fr():void 0)}function qr(Qe,jt,gt){Qe._state==="errored"?gt(Qe._storedError):m(jt,gt)}function It(Qe,jt,gt){function bt(){return b(Qe(),()=>Pr(jt,gt),et=>Pr(!0,et)),null}$e||($e=!0,R._state!=="writable"||oi(R)?bt():w(Fr(),bt))}function yt(Qe,jt){$e||($e=!0,R._state!=="writable"||oi(R)?Pr(Qe,jt):w(Fr(),()=>Pr(Qe,jt)))}function Pr(Qe,jt){return lw(be),fe(_e),ve!==void 0&&ve.removeEventListener("abort",Be),Qe?at(jt):He(void 0),null}T(l((Qe,jt)=>{(function gt(bt){bt?Qe():y($e?p(!0):y(be._readyPromise,()=>l((et,Ct)=>{J(_e,{_chunkSteps:ot=>{Fe=y(cw(be,ot),void 0,e),et(!1)},_closeSteps:()=>et(!0),_errorSteps:Ct})})),gt,jt)})(!1)}))})}class Oi{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!ml(this))throw bl("desiredSize");return yh(this)}close(){if(!ml(this))throw bl("close");if(!zs(this))throw new TypeError("The stream is not in a state that permits close");Jo(this)}enqueue(R=void 0){if(!ml(this))throw bl("enqueue");if(!zs(this))throw new TypeError("The stream is not in a state that permits enqueue");return Hs(this,R)}error(R=void 0){if(!ml(this))throw bl("error");Dn(this,R)}[z](R){tr(this);let U=this._cancelAlgorithm(R);return gl(this),U}[j](R){let U=this._controlledReadableStream;if(this._queue.length>0){let K=mn(this);this._closeRequested&&this._queue.length===0?(gl(this),fu(U)):au(this),R._chunkSteps(K)}else $(U,R),au(this)}[ne](){}}function ml(g){return!!r(g)&&!!Object.prototype.hasOwnProperty.call(g,"_controlledReadableStream")&&g instanceof Oi}function au(g){if(Ew(g)){if(g._pulling)return void(g._pullAgain=!0);g._pulling=!0,b(g._pullAlgorithm(),()=>(g._pulling=!1,g._pullAgain&&(g._pullAgain=!1,au(g)),null),R=>(Dn(g,R),null))}}function Ew(g){let R=g._controlledReadableStream;return!zs(g)||!g._started?!1:po(R)&&L(R)>0?!0:yh(g)>0}function gl(g){g._pullAlgorithm=void 0,g._cancelAlgorithm=void 0,g._strategySizeAlgorithm=void 0}function Jo(g){if(!zs(g))return;let R=g._controlledReadableStream;g._closeRequested=!0,g._queue.length===0&&(gl(g),fu(R))}function Hs(g,R){if(!zs(g))return;let U=g._controlledReadableStream;if(po(U)&&L(U)>0)v(U,R,!1);else{let K;try{K=g._strategySizeAlgorithm(R)}catch(ge){throw Dn(g,ge),ge}try{ur(g,R,K)}catch(ge){throw Dn(g,ge),ge}}au(g)}function Dn(g,R){let U=g._controlledReadableStream;U._state==="readable"&&(tr(g),gl(g),$w(U,R))}function yh(g){let R=g._controlledReadableStream._state;return R==="errored"?null:R==="closed"?0:g._strategyHWM-g._queueTotalSize}function zs(g){let R=g._controlledReadableStream._state;return!g._closeRequested&&R==="readable"}function Sw(g,R,U,K,ge,ve,_e){R._controlledReadableStream=g,R._queue=void 0,R._queueTotalSize=void 0,tr(R),R._started=!1,R._closeRequested=!1,R._pullAgain=!1,R._pulling=!1,R._strategySizeAlgorithm=_e,R._strategyHWM=ve,R._pullAlgorithm=K,R._cancelAlgorithm=ge,g._readableStreamController=R,b(p(U()),()=>(R._started=!0,au(R),null),be=>(Dn(R,be),null))}function bl(g){return new TypeError(`ReadableStreamDefaultController.prototype.${g} can only be used on a ReadableStreamDefaultController`)}function X2(g,R){return gn(g._readableStreamController)?function(U){let K,ge,ve,_e,be,$e=he(U),Fe=!1,He=!1,at=!1,Be=!1,Ze=!1,Vt=l(gt=>{be=gt});function Gt(gt){m(gt._closedPromise,bt=>(gt!==$e||(In(ve._readableStreamController,bt),In(_e._readableStreamController,bt),Be&&Ze||be(void 0)),null))}function Fr(){Go($e)&&(fe($e),$e=he(U),Gt($e)),J($e,{_chunkSteps:gt=>{S(()=>{He=!1,at=!1;let bt=gt,et=gt;if(!Be&&!Ze)try{et=en(gt)}catch(Ct){return In(ve._readableStreamController,Ct),In(_e._readableStreamController,Ct),void be(Fn(U,Ct))}Be||nl(ve._readableStreamController,bt),Ze||nl(_e._readableStreamController,et),Fe=!1,He?It():at&&yt()})},_closeSteps:()=>{Fe=!1,Be||dr(ve._readableStreamController),Ze||dr(_e._readableStreamController),ve._readableStreamController._pendingPullIntos.length>0&&il(ve._readableStreamController,0),_e._readableStreamController._pendingPullIntos.length>0&&il(_e._readableStreamController,0),Be&&Ze||be(void 0)},_errorSteps:()=>{Fe=!1}})}function qr(gt,bt){le($e)&&(fe($e),$e=Q0(U),Gt($e));let et=bt?_e:ve,Ct=bt?ve:_e;rw($e,gt,1,{_chunkSteps:ot=>{S(()=>{He=!1,at=!1;let Lt=bt?Ze:Be;if(bt?Be:Ze)Lt||ol(et._readableStreamController,ot);else{let rn;try{rn=en(ot)}catch(_r){return In(et._readableStreamController,_r),In(Ct._readableStreamController,_r),void be(Fn(U,_r))}Lt||ol(et._readableStreamController,ot),nl(Ct._readableStreamController,rn)}Fe=!1,He?It():at&&yt()})},_closeSteps:ot=>{Fe=!1;let Lt=bt?Ze:Be,rn=bt?Be:Ze;Lt||dr(et._readableStreamController),rn||dr(Ct._readableStreamController),ot!==void 0&&(Lt||ol(et._readableStreamController,ot),!rn&&Ct._readableStreamController._pendingPullIntos.length>0&&il(Ct._readableStreamController,0)),Lt&&rn||be(void 0)},_errorSteps:()=>{Fe=!1}})}function It(){if(Fe)return He=!0,p(void 0);Fe=!0;let gt=rh(ve._readableStreamController);return gt===null?Fr():qr(gt._view,!1),p(void 0)}function yt(){if(Fe)return at=!0,p(void 0);Fe=!0;let gt=rh(_e._readableStreamController);return gt===null?Fr():qr(gt._view,!0),p(void 0)}function Pr(gt){if(Be=!0,K=gt,Ze){let bt=Ve([K,ge]),et=Fn(U,bt);be(et)}return Vt}function Qe(gt){if(Ze=!0,ge=gt,Be){let bt=Ve([K,ge]),et=Fn(U,bt);be(et)}return Vt}function jt(){}return ve=Aw(jt,It,Pr),_e=Aw(jt,yt,Qe),Gt($e),[ve,_e]}(g):function(U,K){let ge=he(U),ve,_e,be,$e,Fe,He=!1,at=!1,Be=!1,Ze=!1,Vt=l(yt=>{Fe=yt});function Gt(){return He?(at=!0,p(void 0)):(He=!0,J(ge,{_chunkSteps:yt=>{S(()=>{at=!1;let Pr=yt,Qe=yt;Be||Hs(be._readableStreamController,Pr),Ze||Hs($e._readableStreamController,Qe),He=!1,at&&Gt()})},_closeSteps:()=>{He=!1,Be||Jo(be._readableStreamController),Ze||Jo($e._readableStreamController),Be&&Ze||Fe(void 0)},_errorSteps:()=>{He=!1}}),p(void 0))}function Fr(yt){if(Be=!0,ve=yt,Ze){let Pr=Ve([ve,_e]),Qe=Fn(U,Pr);Fe(Qe)}return Vt}function qr(yt){if(Ze=!0,_e=yt,Be){let Pr=Ve([ve,_e]),Qe=Fn(U,Pr);Fe(Qe)}return Vt}function It(){}return be=uu(It,Gt,Fr),$e=uu(It,Gt,qr),m(ge._closedPromise,yt=>(Dn(be._readableStreamController,yt),Dn($e._readableStreamController,yt),Be&&Ze||Fe(void 0),null)),[be,$e]}(g)}function Z2(g){return r(R=g)&&R.getReader!==void 0?function(U){let K;function ge(){let _e;try{_e=U.read()}catch(be){return h(be)}return E(_e,be=>{if(!r(be))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(be.done)Jo(K._readableStreamController);else{let $e=be.value;Hs(K._readableStreamController,$e)}})}function ve(_e){try{return p(U.cancel(_e))}catch(be){return h(be)}}return K=uu(e,ge,ve,0),K}(g.getReader()):function(U){let K,ge=ee(U,"async");function ve(){let be;try{be=re(ge)}catch($e){return h($e)}return E(p(be),$e=>{if(!r($e))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");if($e.done)Jo(K._readableStreamController);else{let Fe=$e.value;Hs(K._readableStreamController,Fe)}})}function _e(be){let $e=ge.iterator,Fe;try{Fe=O($e,"return")}catch(He){return h(He)}return Fe===void 0?p(void 0):E(A(Fe,$e,[be]),He=>{if(!r(He))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")})}return K=uu(e,ve,_e,0),K}(g);var R}function Q2(g,R,U){return F(g,U),K=>A(g,R,[K])}function eC(g,R,U){return F(g,U),K=>A(g,R,[K])}function tC(g,R,U){return F(g,U),K=>P(g,R,[K])}function rC(g,R){if((g=`${g}`)!="bytes")throw new TypeError(`${R} '${g}' is not a valid enumeration value for ReadableStreamType`);return g}function Tw(g,R){Y(g,R);let U=g?.preventAbort,K=g?.preventCancel,ge=g?.preventClose,ve=g?.signal;return ve!==void 0&&function(_e,be){if(!function($e){if(typeof $e!="object"||$e===null)return!1;try{return typeof $e.aborted=="boolean"}catch{return!1}}(_e))throw new TypeError(`${be} is not an AbortSignal.`)}(ve,`${R} has member 'signal' that`),{preventAbort:!!U,preventCancel:!!K,preventClose:!!ge,signal:ve}}Object.defineProperties(Oi.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),i(Oi.prototype.close,"close"),i(Oi.prototype.enqueue,"enqueue"),i(Oi.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Oi.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class Or{constructor(R={},U={}){R===void 0?R=null:te(R,"First parameter");let K=ul(U,"Second parameter"),ge=function(ve,_e){Y(ve,_e);let be=ve,$e=be?.autoAllocateChunkSize,Fe=be?.cancel,He=be?.pull,at=be?.start,Be=be?.type;return{autoAllocateChunkSize:$e===void 0?void 0:k($e,`${_e} has member 'autoAllocateChunkSize' that`),cancel:Fe===void 0?void 0:Q2(Fe,be,`${_e} has member 'cancel' that`),pull:He===void 0?void 0:eC(He,be,`${_e} has member 'pull' that`),start:at===void 0?void 0:tC(at,be,`${_e} has member 'start' that`),type:Be===void 0?void 0:rC(Be,`${_e} has member 'type' that`)}}(R,"First parameter");if(mh(this),ge.type==="bytes"){if(K.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");(function(ve,_e,be){let $e=Object.create(Bt.prototype),Fe,He,at;Fe=_e.start!==void 0?()=>_e.start($e):()=>{},He=_e.pull!==void 0?()=>_e.pull($e):()=>p(void 0),at=_e.cancel!==void 0?Ze=>_e.cancel(Ze):()=>p(void 0);let Be=_e.autoAllocateChunkSize;if(Be===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");Z0(ve,$e,Fe,He,at,be,Be)})(this,ge,iu(K,0))}else{let ve=al(K);(function(_e,be,$e,Fe){let He=Object.create(Oi.prototype),at,Be,Ze;at=be.start!==void 0?()=>be.start(He):()=>{},Be=be.pull!==void 0?()=>be.pull(He):()=>p(void 0),Ze=be.cancel!==void 0?Vt=>be.cancel(Vt):()=>p(void 0),Sw(_e,He,at,Be,Ze,$e,Fe)})(this,ge,iu(K,1),ve)}}get locked(){if(!ho(this))throw Xo("locked");return po(this)}cancel(R=void 0){return ho(this)?po(this)?h(new TypeError("Cannot cancel a stream that already has a reader")):Fn(this,R):h(Xo("cancel"))}getReader(R=void 0){if(!ho(this))throw Xo("getReader");return function(U,K){Y(U,K);let ge=U?.mode;return{mode:ge===void 0?void 0:W2(ge,`${K} has member 'mode' that`)}}(R,"First parameter").mode===void 0?he(this):Q0(this)}pipeThrough(R,U={}){if(!ho(this))throw Xo("pipeThrough");pe(R,1,"pipeThrough");let K=function(ve,_e){Y(ve,_e);let be=ve?.readable;Ie(be,"readable","ReadableWritablePair"),ie(be,`${_e} has member 'readable' that`);let $e=ve?.writable;return Ie($e,"writable","ReadableWritablePair"),iw($e,`${_e} has member 'writable' that`),{readable:be,writable:$e}}(R,"First parameter"),ge=Tw(U,"Second parameter");if(po(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(qs(K.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return T(vw(this,K.writable,ge.preventClose,ge.preventAbort,ge.preventCancel,ge.signal)),K.readable}pipeTo(R,U={}){if(!ho(this))return h(Xo("pipeTo"));if(R===void 0)return h("Parameter 1 is required in 'pipeTo'.");if(!Fs(R))return h(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let K;try{K=Tw(U,"Second parameter")}catch(ge){return h(ge)}return po(this)?h(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):qs(R)?h(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):vw(this,R,K.preventClose,K.preventAbort,K.preventCancel,K.signal)}tee(){if(!ho(this))throw Xo("tee");return Ve(X2(this))}values(R=void 0){if(!ho(this))throw Xo("values");return function(U,K){let ge=he(U),ve=new ue(ge,K),_e=Object.create(Le);return _e._asyncIteratorImpl=ve,_e}(this,function(U,K){return Y(U,K),{preventCancel:!!U?.preventCancel}}(R,"First parameter").preventCancel)}[q](R){return this.values(R)}static from(R){return Z2(R)}}function uu(g,R,U,K=1,ge=()=>1){let ve=Object.create(Or.prototype);return mh(ve),Sw(ve,Object.create(Oi.prototype),g,R,U,K,ge),ve}function Aw(g,R,U){let K=Object.create(Or.prototype);return mh(K),Z0(K,Object.create(Bt.prototype),g,R,U,0,void 0),K}function mh(g){g._state="readable",g._reader=void 0,g._storedError=void 0,g._disturbed=!1}function ho(g){return!!r(g)&&!!Object.prototype.hasOwnProperty.call(g,"_readableStreamController")&&g instanceof Or}function po(g){return g._reader!==void 0}function Fn(g,R){if(g._disturbed=!0,g._state==="closed")return p(void 0);if(g._state==="errored")return h(g._storedError);fu(g);let U=g._reader;if(U!==void 0&&Go(U)){let K=U._readIntoRequests;U._readIntoRequests=new N,K.forEach(ge=>{ge._closeSteps(void 0)})}return E(g._readableStreamController[z](R),e)}function fu(g){g._state="closed";let R=g._reader;if(R!==void 0&&(we(R),le(R))){let U=R._readRequests;R._readRequests=new N,U.forEach(K=>{K._closeSteps()})}}function $w(g,R){g._state="errored",g._storedError=R;let U=g._reader;U!==void 0&&(Z(U,R),le(U)?se(U,R):nw(U,R))}function Xo(g){return new TypeError(`ReadableStream.prototype.${g} can only be used on a ReadableStream`)}function Rw(g,R){Y(g,R);let U=g?.highWaterMark;return Ie(U,"highWaterMark","QueuingStrategyInit"),{highWaterMark:M(U)}}Object.defineProperties(Or,{from:{enumerable:!0}}),Object.defineProperties(Or.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),i(Or.from,"from"),i(Or.prototype.cancel,"cancel"),i(Or.prototype.getReader,"getReader"),i(Or.prototype.pipeThrough,"pipeThrough"),i(Or.prototype.pipeTo,"pipeTo"),i(Or.prototype.tee,"tee"),i(Or.prototype.values,"values"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Or.prototype,Symbol.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(Or.prototype,q,{value:Or.prototype.values,writable:!0,configurable:!0});let Ow=g=>g.byteLength;i(Ow,"size");class _l{constructor(R){pe(R,1,"ByteLengthQueuingStrategy"),R=Rw(R,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=R.highWaterMark}get highWaterMark(){if(!Iw(this))throw Pw("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Iw(this))throw Pw("size");return Ow}}function Pw(g){return new TypeError(`ByteLengthQueuingStrategy.prototype.${g} can only be used on a ByteLengthQueuingStrategy`)}function Iw(g){return!!r(g)&&!!Object.prototype.hasOwnProperty.call(g,"_byteLengthQueuingStrategyHighWaterMark")&&g instanceof _l}Object.defineProperties(_l.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(_l.prototype,Symbol.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});let Cw=()=>1;i(Cw,"size");class wl{constructor(R){pe(R,1,"CountQueuingStrategy"),R=Rw(R,"First parameter"),this._countQueuingStrategyHighWaterMark=R.highWaterMark}get highWaterMark(){if(!xw(this))throw Nw("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!xw(this))throw Nw("size");return Cw}}function Nw(g){return new TypeError(`CountQueuingStrategy.prototype.${g} can only be used on a CountQueuingStrategy`)}function xw(g){return!!r(g)&&!!Object.prototype.hasOwnProperty.call(g,"_countQueuingStrategyHighWaterMark")&&g instanceof wl}function nC(g,R,U){return F(g,U),K=>A(g,R,[K])}function iC(g,R,U){return F(g,U),K=>P(g,R,[K])}function oC(g,R,U){return F(g,U),(K,ge)=>A(g,R,[K,ge])}function sC(g,R,U){return F(g,U),K=>A(g,R,[K])}Object.defineProperties(wl.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(wl.prototype,Symbol.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class vl{constructor(R={},U={},K={}){R===void 0&&(R=null);let ge=ul(U,"Second parameter"),ve=ul(K,"Third parameter"),_e=function(Be,Ze){Y(Be,Ze);let Vt=Be?.cancel,Gt=Be?.flush,Fr=Be?.readableType,qr=Be?.start,It=Be?.transform,yt=Be?.writableType;return{cancel:Vt===void 0?void 0:sC(Vt,Be,`${Ze} has member 'cancel' that`),flush:Gt===void 0?void 0:nC(Gt,Be,`${Ze} has member 'flush' that`),readableType:Fr,start:qr===void 0?void 0:iC(qr,Be,`${Ze} has member 'start' that`),transform:It===void 0?void 0:oC(It,Be,`${Ze} has member 'transform' that`),writableType:yt}}(R,"First parameter");if(_e.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(_e.writableType!==void 0)throw new RangeError("Invalid writableType specified");let be=iu(ve,0),$e=al(ve),Fe=iu(ge,1),He=al(ge),at;(function(Be,Ze,Vt,Gt,Fr,qr){function It(){return Ze}function yt(bt){return function(et,Ct){let ot=et._transformStreamController;return et._backpressure?E(et._backpressureChangePromise,()=>{let Lt=et._writable;if(Lt._state==="erroring")throw Lt._storedError;return jw(ot,Ct)}):jw(ot,Ct)}(Be,bt)}function Pr(bt){return function(et,Ct){let ot=et._transformStreamController;if(ot._finishPromise!==void 0)return ot._finishPromise;let Lt=et._readable;ot._finishPromise=l((_r,wh)=>{ot._finishPromise_resolve=_r,ot._finishPromise_reject=wh});let rn=ot._cancelAlgorithm(Ct);return Tl(ot),b(rn,()=>(Lt._state==="errored"?Vs(ot,Lt._storedError):(Dn(Lt._readableStreamController,Ct),_h(ot)),null),_r=>(Dn(Lt._readableStreamController,_r),Vs(ot,_r),null)),ot._finishPromise}(Be,bt)}function Qe(){return function(bt){let et=bt._transformStreamController;if(et._finishPromise!==void 0)return et._finishPromise;let Ct=bt._readable;et._finishPromise=l((Lt,rn)=>{et._finishPromise_resolve=Lt,et._finishPromise_reject=rn});let ot=et._flushAlgorithm();return Tl(et),b(ot,()=>(Ct._state==="errored"?Vs(et,Ct._storedError):(Jo(Ct._readableStreamController),_h(et)),null),Lt=>(Dn(Ct._readableStreamController,Lt),Vs(et,Lt),null)),et._finishPromise}(Be)}function jt(){return function(bt){return El(bt,!1),bt._backpressureChangePromise}(Be)}function gt(bt){return function(et,Ct){let ot=et._transformStreamController;if(ot._finishPromise!==void 0)return ot._finishPromise;let Lt=et._writable;ot._finishPromise=l((_r,wh)=>{ot._finishPromise_resolve=_r,ot._finishPromise_reject=wh});let rn=ot._cancelAlgorithm(Ct);return Tl(ot),b(rn,()=>(Lt._state==="errored"?Vs(ot,Lt._storedError):(ou(Lt._writableStreamController,Ct),bh(et),_h(ot)),null),_r=>(ou(Lt._writableStreamController,_r),bh(et),Vs(ot,_r),null)),ot._finishPromise}(Be,bt)}Be._writable=function(bt,et,Ct,ot,Lt=1,rn=()=>1){let _r=Object.create(co.prototype);return sw(_r),hw(_r,Object.create(Ws.prototype),bt,et,Ct,ot,Lt,rn),_r}(It,yt,Qe,Pr,Vt,Gt),Be._readable=uu(It,jt,gt,Fr,qr),Be._backpressure=void 0,Be._backpressureChangePromise=void 0,Be._backpressureChangePromise_resolve=void 0,El(Be,!0),Be._transformStreamController=void 0})(this,l(Be=>{at=Be}),Fe,He,be,$e),function(Be,Ze){let Vt=Object.create(yo.prototype),Gt,Fr,qr;Gt=Ze.transform!==void 0?It=>Ze.transform(It,Vt):It=>{try{return Bw(Vt,It),p(void 0)}catch(yt){return h(yt)}},Fr=Ze.flush!==void 0?()=>Ze.flush(Vt):()=>p(void 0),qr=Ze.cancel!==void 0?It=>Ze.cancel(It):()=>p(void 0),function(It,yt,Pr,Qe,jt){yt._controlledTransformStream=It,It._transformStreamController=yt,yt._transformAlgorithm=Pr,yt._flushAlgorithm=Qe,yt._cancelAlgorithm=jt,yt._finishPromise=void 0,yt._finishPromise_resolve=void 0,yt._finishPromise_reject=void 0}(Be,Vt,Gt,Fr,qr)}(this,_e),_e.start!==void 0?at(_e.start(this._transformStreamController)):at(void 0)}get readable(){if(!Mw(this))throw Uw("readable");return this._readable}get writable(){if(!Mw(this))throw Uw("writable");return this._writable}}function Mw(g){return!!r(g)&&!!Object.prototype.hasOwnProperty.call(g,"_transformStreamController")&&g instanceof vl}function Lw(g,R){Dn(g._readable._readableStreamController,R),gh(g,R)}function gh(g,R){Tl(g._transformStreamController),ou(g._writable._writableStreamController,R),bh(g)}function bh(g){g._backpressure&&El(g,!1)}function El(g,R){g._backpressureChangePromise!==void 0&&g._backpressureChangePromise_resolve(),g._backpressureChangePromise=l(U=>{g._backpressureChangePromise_resolve=U}),g._backpressure=R}Object.defineProperties(vl.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(vl.prototype,Symbol.toStringTag,{value:"TransformStream",configurable:!0});class yo{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Sl(this))throw Al("desiredSize");return yh(this._controlledTransformStream._readable._readableStreamController)}enqueue(R=void 0){if(!Sl(this))throw Al("enqueue");Bw(this,R)}error(R=void 0){if(!Sl(this))throw Al("error");var U;U=R,Lw(this._controlledTransformStream,U)}terminate(){if(!Sl(this))throw Al("terminate");(function(R){let U=R._controlledTransformStream;Jo(U._readable._readableStreamController);let K=new TypeError("TransformStream terminated");gh(U,K)})(this)}}function Sl(g){return!!r(g)&&!!Object.prototype.hasOwnProperty.call(g,"_controlledTransformStream")&&g instanceof yo}function Tl(g){g._transformAlgorithm=void 0,g._flushAlgorithm=void 0,g._cancelAlgorithm=void 0}function Bw(g,R){let U=g._controlledTransformStream,K=U._readable._readableStreamController;if(!zs(K))throw new TypeError("Readable side is not in a state that permits enqueue");try{Hs(K,R)}catch(ve){throw gh(U,ve),U._readable._storedError}(function(ve){return!Ew(ve)})(K)!==U._backpressure&&El(U,!0)}function jw(g,R){return E(g._transformAlgorithm(R),void 0,U=>{throw Lw(g._controlledTransformStream,U),U})}function Al(g){return new TypeError(`TransformStreamDefaultController.prototype.${g} can only be used on a TransformStreamDefaultController`)}function _h(g){g._finishPromise_resolve!==void 0&&(g._finishPromise_resolve(),g._finishPromise_resolve=void 0,g._finishPromise_reject=void 0)}function Vs(g,R){g._finishPromise_reject!==void 0&&(T(g._finishPromise),g._finishPromise_reject(R),g._finishPromise_resolve=void 0,g._finishPromise_reject=void 0)}function Uw(g){return new TypeError(`TransformStream.prototype.${g} can only be used on a TransformStream`)}Object.defineProperties(yo.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),i(yo.prototype.enqueue,"enqueue"),i(yo.prototype.error,"error"),i(yo.prototype.terminate,"terminate"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(yo.prototype,Symbol.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),t.ByteLengthQueuingStrategy=_l,t.CountQueuingStrategy=wl,t.ReadableByteStreamController=Bt,t.ReadableStream=Or,t.ReadableStreamBYOBReader=lo,t.ReadableStreamBYOBRequest=Rr,t.ReadableStreamDefaultController=Oi,t.ReadableStreamDefaultReader=ye,t.TransformStream=vl,t.TransformStreamDefaultController=yo,t.WritableStream=co,t.WritableStreamDefaultController=Ws,t.WritableStreamDefaultWriter=Ri})});var fd=de(fb=>{"use strict";x();Object.defineProperty(fb,"__esModule",{value:!0});var cf=($n(),ht(An)),b4=ud(),_4=Wr(),{debug:w4,warn:v4}=(0,_4.createLoggers)("core","protocol-helpers");function vR(t){return class extends t{set nodeStream(e){this._nodeStream=e}get nodeStream(){if(!this._nodeStream)throw new Error("ManagedStream not correctly initialized nodeStream is undefined");return this._nodeStream}set wotStream(e){this._wotStream=e}get wotStream(){if(!this._wotStream)throw new Error("ManagedStream not correctly initialized wotStream is undefined");return this._wotStream}}}var ER=vR(cf.Readable),SR=vR(b4.ReadableStream);function wR(t){return t instanceof SR||t instanceof ER}var ub=class{static updatePropertyFormWithTemplate(e,r){for(let n of r.forms??[])if(n.href,n.contentType!=null){e.contentType=n.contentType;return}}static updateActionFormWithTemplate(e,r){for(let n of r.forms??[])if(n.href,n.contentType!=null){e.contentType=n.contentType;return}}static updateEventFormWithTemplate(e,r){for(let n of r.forms??[])if(n.href,n.contentType!=null){e.contentType=n.contentType;return}}static getPropertyContentType(e,r,n){if(r!=null&&n!=null&&e?.properties!=null&&e.properties[r]!=null&&e.properties[r].forms!=null&&Array.isArray(e.properties[r].forms)){for(let i of e.properties[r].forms)if(i.href?.startsWith(n)&&i.contentType!=null)return i.contentType}}static getActionContentType(e,r,n){if(r!=null&&n!=null&&e?.actions&&e.actions!=null&&Array.isArray(e.actions[r]?.forms)){for(let i of e.actions[r].forms)if(i.href&&i.href.startsWith(n)&&i.contentType!=null)return i.contentType}}static getEventContentType(e,r,n){if(r!=null&&n!=null&&e?.events&&e?.events[r]?.forms!=null&&Array.isArray(e.events[r].forms)){for(let i of e.events[r].forms)if(i.href&&i.href.startsWith(n)&&i.contentType!=null)return i.contentType}}static toWoTStream(e){if(wR(e))return e.wotStream;let r=new SR({start:n=>{e.on("data",i=>n.enqueue(i)),e.on("error",i=>n.error(i)),e.on("end",()=>n.close())},cancel:n=>{e instanceof cf.Readable&&e.destroy(n)}});return e instanceof cf.Readable?r.nodeStream=e:r.nodeStream=new cf.Readable(e),r}static toNodeStream(e){if(wR(e))return e.nodeStream;if(e instanceof cf.Readable)return e;let r=e.getReader(),n=new ER({read:i=>{r.read().then(s=>{n.push(s.value),s.done&&n.push(null)})},destroy:(i,s)=>{r.releaseLock(),e.cancel(i).then(()=>s(i))}});return n.wotStream=e,n.nodeStream=n,n}static readStreamFully(e){return new Promise((r,n)=>{if(e!=null){let i=[];e.on("data",s=>i.push(s)),e.on("error",n),e.on("end",()=>{i[0]!=null&&(i[0]instanceof Array||i[0]instanceof oe||i[0]instanceof Uint8Array)?r(oe.concat(i)):i[0]!=null&&typeof i[0]=="string"?r(oe.from(i.join())):r(oe.from(i))})}else w4("Protocol-Helper returns empty buffer for readStreamFully due to undefined stream"),r(oe.alloc(0))})}static findRequestMatchingFormIndex(e,r,n,i){if(e===void 0)return 0;let s=e.filter(o=>{let a=new URL(o.href.replace(/(\{[\S]*\})/,"")),u=n!==void 0?n.indexOf("?")!==-1?n.split("?")[0]:n:void 0;return a.protocol===r+":"&&(u===void 0||a.pathname===u)});if(i!=null){let o=s.filter(a=>a.contentType===i);o.length>0&&(s=o)}return s.length>0?e.indexOf(s[0]):0}static getFormIndexForOperation(e,r,n,i){let s=-1,o=[];switch(r){case"property":if(e.readOnly===!0&&n==="writeproperty"||e.writeOnly===!0&&n==="readproperty")return s;e.readOnly!==!0&&o.push("writeproperty"),e.writeOnly!==!0&&o.push("readproperty");break;case"action":o=["invokeaction"];break;case"event":o=["subscribeevent","unsubscribeevent"];break}if(o.indexOf(n)!==-1&&(n=void 0),e.forms!==void 0&&i!==void 0&&e.forms.length>i){let a=e.forms[i];a!=null&&(n==null||a.op?.includes(n)===!0)&&(s=i)}return e.forms!==void 0&&s===-1&&(n!==void 0?e.forms.every(a=>(a.op?.includes(n)===!0&&(s=e.forms.indexOf(a)),s===-1)):e.forms.every(a=>(s=e.forms.indexOf(a),!1))),s}static getPropertyOpValues(e){let r=[];return e.readOnly!==!0&&r.push("writeproperty"),e.writeOnly!==!0&&r.push("readproperty"),r.length===0&&v4("Property was declared both as readOnly and writeOnly."),e.observable===!0&&(r.push("observeproperty"),r.push("unobserveproperty")),r}};fb.default=ub});var cb=de(xo=>{"use strict";x();var E4=xo&&xo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xo,"__esModule",{value:!0});xo.DefaultContent=xo.Content=void 0;var S4=Jn(),T4=E4(fd()),ld=class{constructor(e,r){this.type=e,this.body=r}toBuffer(){return T4.default.readStreamFully(this.body)}};xo.Content=ld;var lb=class extends ld{constructor(e){super(S4.ContentSerdes.DEFAULT,e)}};xo.DefaultContent=lb});var $s=de((WK,TR)=>{"use strict";x();var A4=($n(),ht(An)),{Buffer:ze}=(Pi(),ht(go)),$4=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0}),db=class t extends A4.Transform{constructor(e,r,n={}){let i=null,s=null;switch(typeof e){case"object":ze.isBuffer(e)?i=e:e&&(n=e);break;case"string":i=e;break;case"undefined":break;default:throw new TypeError("Invalid input")}switch(typeof r){case"object":r&&(n=r);break;case"string":s=r;break;case"undefined":break;default:throw new TypeError("Invalid inputEncoding")}if(!n||typeof n!="object")throw new TypeError("Invalid options");i==null&&(i=n.input),s==null&&(s=n.inputEncoding),delete n.input,delete n.inputEncoding;let o=n.watchPipe==null?!0:n.watchPipe;delete n.watchPipe;let a=!!n.readError;delete n.readError,super(n),this.readError=a,o&&this.on("pipe",u=>{let c=u._readableState.objectMode;if(this.length>0&&c!==this._readableState.objectMode)throw new Error("Do not switch objectMode in the middle of the stream");this._readableState.objectMode=c,this._writableState.objectMode=c}),i!=null&&this.end(i,s)}static isNoFilter(e){return e instanceof this}static compare(e,r){if(!(e instanceof this))throw new TypeError("Arguments must be NoFilters");return e===r?0:e.compare(r)}static concat(e,r){if(!Array.isArray(e))throw new TypeError("list argument must be an Array of NoFilters");if(e.length===0||r===0)return ze.alloc(0);r==null&&(r=e.reduce((o,a)=>{if(!(a instanceof t))throw new TypeError("list argument must be an Array of NoFilters");return o+a.length},0));let n=!0,i=!0,s=e.map(o=>{if(!(o instanceof t))throw new TypeError("list argument must be an Array of NoFilters");let a=o.slice();return ze.isBuffer(a)?i=!1:n=!1,a});if(n)return ze.concat(s,r);if(i)return[].concat(...s).slice(0,r);throw new Error("Concatenating mixed object and byte streams not supported")}_transform(e,r,n){!this._readableState.objectMode&&!ze.isBuffer(e)&&(e=ze.from(e,r)),this.push(e),n()}_bufArray(){let e=this._readableState.buffer;if(!Array.isArray(e)){let r=e.head;for(e=[];r!=null;)e.push(r.data),r=r.next}return e}read(e){let r=super.read(e);if(r!=null){if(this.emit("read",r),this.readError&&r.length<e)throw new Error(`Read ${r.length}, wanted ${e}`)}else if(this.readError)throw new Error(`No data available, wanted ${e}`);return r}readFull(e){let r=null,n=null,i=null;return new Promise((s,o)=>{if(this.length>=e){s(this.read(e));return}if(this.writableFinished){o(new Error(`Stream finished before ${e} bytes were available`));return}r=a=>{this.length>=e&&s(this.read(e))},n=()=>{o(new Error(`Stream finished before ${e} bytes were available`))},i=o,this.on("readable",r),this.on("error",i),this.on("finish",n)}).finally(()=>{r&&(this.removeListener("readable",r),this.removeListener("error",i),this.removeListener("finish",n))})}promise(e){let r=!1;return new Promise((n,i)=>{this.on("finish",()=>{let s=this.read();e!=null&&!r&&(r=!0,e(null,s)),n(s)}),this.on("error",s=>{e!=null&&!r&&(r=!0,e(s)),i(s)})})}compare(e){if(!(e instanceof t))throw new TypeError("Arguments must be NoFilters");if(this===e)return 0;let r=this.slice(),n=e.slice();if(ze.isBuffer(r)&&ze.isBuffer(n))return r.compare(n);throw new Error("Cannot compare streams in object mode")}equals(e){return this.compare(e)===0}slice(e,r){if(this._readableState.objectMode)return this._bufArray().slice(e,r);let n=this._bufArray();switch(n.length){case 0:return ze.alloc(0);case 1:return n[0].slice(e,r);default:return ze.concat(n).slice(e,r)}}get(e){return this.slice()[e]}toJSON(){let e=this.slice();return ze.isBuffer(e)?e.toJSON():e}toString(e,r,n){let i=this.slice(r,n);return ze.isBuffer(i)?!e||e==="utf8"?$4.decode(i):i.toString(e):JSON.stringify(i)}[Symbol.for("nodejs.util.inspect.custom")](e,r){let i=this._bufArray().map(s=>ze.isBuffer(s)?r.stylize(s.toString("hex"),"string"):JSON.stringify(s)).join(", ");return`${this.constructor.name} [${i}]`}get length(){return this._readableState.length}writeBigInt(e){let r=e.toString(16);if(e<0){let n=BigInt(Math.floor(r.length/2));e=(BigInt(1)<<n*BigInt(8))+e,r=e.toString(16)}return r.length%2&&(r=`0${r}`),this.push(ze.from(r,"hex"))}readUBigInt(e){let r=this.read(e);return ze.isBuffer(r)?BigInt(`0x${r.toString("hex")}`):null}readBigInt(e){let r=this.read(e);if(!ze.isBuffer(r))return null;let n=BigInt(`0x${r.toString("hex")}`);if(r[0]&128){let i=BigInt(1)<<BigInt(r.length)*BigInt(8);n-=i}return n}writeUInt8(e){let r=ze.from([e]);return this.push(r)}writeUInt16LE(e){let r=ze.alloc(2);return r.writeUInt16LE(e),this.push(r)}writeUInt16BE(e){let r=ze.alloc(2);return r.writeUInt16BE(e),this.push(r)}writeUInt32LE(e){let r=ze.alloc(4);return r.writeUInt32LE(e),this.push(r)}writeUInt32BE(e){let r=ze.alloc(4);return r.writeUInt32BE(e),this.push(r)}writeInt8(e){let r=ze.from([e]);return this.push(r)}writeInt16LE(e){let r=ze.alloc(2);return r.writeUInt16LE(e),this.push(r)}writeInt16BE(e){let r=ze.alloc(2);return r.writeUInt16BE(e),this.push(r)}writeInt32LE(e){let r=ze.alloc(4);return r.writeUInt32LE(e),this.push(r)}writeInt32BE(e){let r=ze.alloc(4);return r.writeUInt32BE(e),this.push(r)}writeFloatLE(e){let r=ze.alloc(4);return r.writeFloatLE(e),this.push(r)}writeFloatBE(e){let r=ze.alloc(4);return r.writeFloatBE(e),this.push(r)}writeDoubleLE(e){let r=ze.alloc(8);return r.writeDoubleLE(e),this.push(r)}writeDoubleBE(e){let r=ze.alloc(8);return r.writeDoubleBE(e),this.push(r)}writeBigInt64LE(e){let r=ze.alloc(8);return r.writeBigInt64LE(e),this.push(r)}writeBigInt64BE(e){let r=ze.alloc(8);return r.writeBigInt64BE(e),this.push(r)}writeBigUInt64LE(e){let r=ze.alloc(8);return r.writeBigUInt64LE(e),this.push(r)}writeBigUInt64BE(e){let r=ze.alloc(8);return r.writeBigUInt64BE(e),this.push(r)}readUInt8(){let e=this.read(1);return ze.isBuffer(e)?e.readUInt8():null}readUInt16LE(){let e=this.read(2);return ze.isBuffer(e)?e.readUInt16LE():null}readUInt16BE(){let e=this.read(2);return ze.isBuffer(e)?e.readUInt16BE():null}readUInt32LE(){let e=this.read(4);return ze.isBuffer(e)?e.readUInt32LE():null}readUInt32BE(){let e=this.read(4);return ze.isBuffer(e)?e.readUInt32BE():null}readInt8(){let e=this.read(1);return ze.isBuffer(e)?e.readInt8():null}readInt16LE(){let e=this.read(2);return ze.isBuffer(e)?e.readInt16LE():null}readInt16BE(){let e=this.read(2);return ze.isBuffer(e)?e.readInt16BE():null}readInt32LE(){let e=this.read(4);return ze.isBuffer(e)?e.readInt32LE():null}readInt32BE(){let e=this.read(4);return ze.isBuffer(e)?e.readInt32BE():null}readFloatLE(){let e=this.read(4);return ze.isBuffer(e)?e.readFloatLE():null}readFloatBE(){let e=this.read(4);return ze.isBuffer(e)?e.readFloatBE():null}readDoubleLE(){let e=this.read(8);return ze.isBuffer(e)?e.readDoubleLE():null}readDoubleBE(){let e=this.read(8);return ze.isBuffer(e)?e.readDoubleBE():null}readBigInt64LE(){let e=this.read(8);return ze.isBuffer(e)?e.readBigInt64LE():null}readBigInt64BE(){let e=this.read(8);return ze.isBuffer(e)?e.readBigInt64BE():null}readBigUInt64LE(){let e=this.read(8);return ze.isBuffer(e)?e.readBigUInt64LE():null}readBigUInt64BE(){let e=this.read(8);return ze.isBuffer(e)?e.readBigUInt64BE():null}};TR.exports=db});var Zi=de(Xi=>{"use strict";x();Xi.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7};Xi.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36,SET:258};Xi.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31};Xi.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23};Xi.SYMS={NULL:Symbol.for("github.com/hildjj/node-cbor/null"),UNDEFINED:Symbol.for("github.com/hildjj/node-cbor/undef"),PARENT:Symbol.for("github.com/hildjj/node-cbor/parent"),BREAK:Symbol.for("github.com/hildjj/node-cbor/break"),STREAM:Symbol.for("github.com/hildjj/node-cbor/stream")};Xi.SHIFT32=4294967296;Xi.BI={MINUS_ONE:BigInt(-1),NEG_MAX:BigInt(-1)-BigInt(Number.MAX_SAFE_INTEGER),MAXINT32:BigInt("0xffffffff"),MAXINT64:BigInt("0xffffffffffffffff"),SHIFT32:BigInt(Xi.SHIFT32)}});var Ia=de(Kt=>{"use strict";x();var{Buffer:Rs}=(Pi(),ht(go)),AR=$s(),R4=($n(),ht(An)),O4=Zi(),{NUMBYTES:cd,SHIFT32:P4,BI:I4,SYMS:hb}=O4,C4=2097151,N4=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0});Kt.utf8=t=>N4.decode(t);Kt.utf8.checksUTF8=!0;function x4(t){return t instanceof R4.Readable?!0:["read","on","pipe"].every(e=>typeof t[e]=="function")}Kt.isBufferish=function(e){return e&&typeof e=="object"&&(Rs.isBuffer(e)||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof ArrayBuffer||e instanceof DataView)};Kt.bufferishToBuffer=function(e){return Rs.isBuffer(e)?e:ArrayBuffer.isView(e)?Rs.from(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?Rs.from(e):null};Kt.parseCBORint=function(e,r){switch(e){case cd.ONE:return r.readUInt8(0);case cd.TWO:return r.readUInt16BE(0);case cd.FOUR:return r.readUInt32BE(0);case cd.EIGHT:{let n=r.readUInt32BE(0),i=r.readUInt32BE(4);return n>C4?BigInt(n)*I4.SHIFT32+BigInt(i):n*P4+i}default:throw new Error(`Invalid additional info for int: ${e}`)}};Kt.writeHalf=function(e,r){let n=Rs.allocUnsafe(4);n.writeFloatBE(r,0);let i=n.readUInt32BE(0);if((i&8191)!==0)return!1;let s=i>>16&32768,o=i>>23&255,a=i&8388607;if(o>=113&&o<=142)s+=(o-112<<10)+(a>>13);else if(o>=103&&o<113){if(a&(1<<126-o)-1)return!1;s+=a+8388608>>126-o}else return!1;return e.writeUInt16BE(s),!0};Kt.parseHalf=function(e){let r=e[0]&128?-1:1,n=(e[0]&124)>>2,i=(e[0]&3)<<8|e[1];if(n){if(n===31)return r*(i?NaN:1/0)}else return r*5960464477539063e-23*i;return r*2**(n-25)*(1024+i)};Kt.parseCBORfloat=function(e){switch(e.length){case 2:return Kt.parseHalf(e);case 4:return e.readFloatBE(0);case 8:return e.readDoubleBE(0);default:throw new Error(`Invalid float size: ${e.length}`)}};Kt.hex=function(e){return Rs.from(e.replace(/^0x/,""),"hex")};Kt.bin=function(e){e=e.replace(/\s/g,"");let r=0,n=e.length%8||8,i=[];for(;n<=e.length;)i.push(parseInt(e.slice(r,n),2)),r=n,n+=8;return Rs.from(i)};Kt.arrayEqual=function(e,r){return e==null&&r==null?!0:e==null||r==null?!1:e.length===r.length&&e.every((n,i)=>n===r[i])};Kt.bufferToBigInt=function(e){return BigInt(`0x${e.toString("hex")}`)};Kt.cborValueToString=function(e,r=-1){switch(typeof e){case"symbol":{switch(e){case hb.NULL:return"null";case hb.UNDEFINED:return"undefined";case hb.BREAK:return"BREAK"}if(e.description)return e.description;let i=e.toString().match(/^Symbol\((?<name>.*)\)/);return i&&i.groups.name?i.groups.name:"Symbol"}case"string":return JSON.stringify(e);case"bigint":return e.toString();case"number":{let n=Object.is(e,-0)?"-0":String(e);return r>0?`${n}_${r}`:n}case"object":{let n=Kt.bufferishToBuffer(e);if(n){let i=n.toString("hex");return r===-1/0?i:`h'${i}'`}return typeof e[Symbol.for("nodejs.util.inspect.custom")]=="function"?e[Symbol.for("nodejs.util.inspect.custom")]():Array.isArray(e)?"[]":"{}"}}return String(e)};Kt.guessEncoding=function(e,r){if(typeof e=="string")return new AR(e,r??"hex");let n=Kt.bufferishToBuffer(e);if(n)return new AR(n);if(x4(e))return e;throw new Error("Unknown input type")};var M4={"=":"","+":"-","/":"_"};Kt.base64url=function(e){return Kt.bufferishToBuffer(e).toString("base64").replace(/[=+/]/g,r=>M4[r])};Kt.base64=function(e){return Kt.bufferishToBuffer(e).toString("base64")};Kt.isBigEndian=function(){let e=new Uint8Array(4),r=new Uint32Array(e.buffer);return!((r[0]=1)&e[0])}});var RR=de((ZK,$R)=>{"use strict";x();var L4=($n(),ht(An)),B4=$s(),pb=class extends L4.Transform{constructor(e){super(e),this._writableState.objectMode=!1,this._readableState.objectMode=!0,this.bs=new B4,this.__restart()}_transform(e,r,n){for(this.bs.write(e);this.bs.length>=this.__needed;){let i=null,s=this.__needed===null?void 0:this.bs.read(this.__needed);try{i=this.__parser.next(s)}catch(o){return n(o)}this.__needed&&(this.__fresh=!1),i.done?(this.push(i.value),this.__restart()):this.__needed=i.value||1/0}return n()}*_parse(){throw new Error("Must be implemented in subclass")}__restart(){this.__needed=null,this.__parser=this._parse(),this.__fresh=!0}_flush(e){e(this.__fresh?null:new Error("unexpected end of input"))}};$R.exports=pb});var yb=de((tJ,xR)=>{"use strict";x();var j4=Zi(),bi=Ia(),Ca=Symbol("INTERNAL_JSON");function df(t,e){if(bi.isBufferish(t))t.toJSON=e;else if(Array.isArray(t))for(let r of t)df(r,e);else if(t&&typeof t=="object"&&(!(t instanceof xa)||t.tag<21||t.tag>23))for(let r of Object.values(t))df(r,e)}function OR(){return bi.base64(this)}function PR(){return bi.base64url(this)}function IR(){return this.toString("hex")}function U4(t,e,r,n){let i=new DataView(t),[s,o]={2:[i.getUint16,i.setUint16],4:[i.getUint32,i.setUint32],8:[i.getBigUint64,i.setBigUint64]}[e],a=r+n;for(let u=r;u<a;u+=e)o.call(i,u,s.call(i,u,!0))}var NR={0:t=>new Date(t),1:t=>new Date(t*1e3),2:t=>bi.bufferToBigInt(t),3:t=>j4.BI.MINUS_ONE-bi.bufferToBigInt(t),21:(t,e)=>(bi.isBufferish(t)?e[Ca]=PR:df(t,PR),e),22:(t,e)=>(bi.isBufferish(t)?e[Ca]=OR:df(t,OR),e),23:(t,e)=>(bi.isBufferish(t)?e[Ca]=IR:df(t,IR),e),32:t=>new URL(t),33:(t,e)=>{if(!t.match(/^[a-zA-Z0-9_-]+$/))throw new Error("Invalid base64url characters");let r=t.length%4;if(r===1)throw new Error("Invalid base64url length");if(r===2){if("AQgw".indexOf(t[t.length-1])===-1)throw new Error("Invalid base64 padding")}else if(r===3&&"AEIMQUYcgkosw048".indexOf(t[t.length-1])===-1)throw new Error("Invalid base64 padding");return e},34:(t,e)=>{let r=t.match(/^[a-zA-Z0-9+/]+(?<padding>={0,2})$/);if(!r)throw new Error("Invalid base64 characters");if(t.length%4!==0)throw new Error("Invalid base64 length");if(r.groups.padding==="="){if("AQgw".indexOf(t[t.length-2])===-1)throw new Error("Invalid base64 padding")}else if(r.groups.padding==="=="&&"AEIMQUYcgkosw048".indexOf(t[t.length-3])===-1)throw new Error("Invalid base64 padding");return e},35:t=>new RegExp(t),258:t=>new Set(t)},Na={64:Uint8Array,65:Uint16Array,66:Uint32Array,68:Uint8ClampedArray,69:Uint16Array,70:Uint32Array,72:Int8Array,73:Int16Array,74:Int32Array,77:Int16Array,78:Int32Array,81:Float32Array,82:Float64Array,85:Float32Array,86:Float64Array};typeof BigUint64Array<"u"&&(Na[67]=BigUint64Array,Na[71]=BigUint64Array);typeof BigInt64Array<"u"&&(Na[75]=BigInt64Array,Na[79]=BigInt64Array);function k4(t,e){if(!bi.isBufferish(t))throw new TypeError("val not a buffer");let{tag:r}=e,n=Na[r];if(!n)throw new Error(`Invalid typed array tag: ${r}`);let i=r&4,o=2**(((r&16)>>4)+(r&3));!i!==bi.isBigEndian()&&o>1&&U4(t.buffer,o,t.byteOffset,t.byteLength);let a=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new n(a)}for(let t of Object.keys(Na))NR[t]=k4;var CR={},xa=class t{constructor(e,r,n){if(this.tag=e,this.value=r,this.err=n,typeof this.tag!="number")throw new Error(`Invalid tag type (${typeof this.tag})`);if(this.tag<0||(this.tag|0)!==this.tag)throw new Error(`Tag must be a positive integer: ${this.tag}`)}toJSON(){if(this[Ca])return this[Ca].call(this.value);let e={tag:this.tag,value:this.value};return this.err&&(e.err=this.err),e}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(e){return e._pushTag(this.tag),e.pushAny(this.value)}convert(e){let r=e?.[this.tag];if(typeof r!="function"&&(r=t.TAGS[this.tag],typeof r!="function"))return this;try{return r.call(this,this.value,this)}catch(n){return n&&n.message&&n.message.length>0?this.err=n.message:this.err=n,this}}static get TAGS(){return CR}static set TAGS(e){CR=e}static reset(){t.TAGS={...NR}}};xa.INTERNAL_JSON=Ca;xa.reset();xR.exports=xa});var bb=de((iJ,MR)=>{"use strict";x();var{MT:D4,SIMPLE:dd,SYMS:mb}=Zi(),gb=class t{constructor(e){if(typeof e!="number")throw new Error(`Invalid Simple type: ${typeof e}`);if(e<0||e>255||(e|0)!==e)throw new Error(`value must be a small positive integer: ${e}`);this.value=e}toString(){return`simple(${this.value})`}[Symbol.for("nodejs.util.inspect.custom")](e,r){return`simple(${this.value})`}encodeCBOR(e){return e._pushInt(this.value,D4.SIMPLE_FLOAT)}static isSimple(e){return e instanceof t}static decode(e,r=!0,n=!1){switch(e){case dd.FALSE:return!1;case dd.TRUE:return!0;case dd.NULL:return r?null:mb.NULL;case dd.UNDEFINED:return r?void 0:mb.UNDEFINED;case-1:if(!r||!n)throw new Error("Invalid BREAK");return mb.BREAK;default:return new t(e)}}};MR.exports=gb});var yf=de((uJ,UR)=>{"use strict";x();var F4=RR(),q4=yb(),W4=bb(),Os=Ia(),pd=$s(),aJ=($n(),ht(An)),H4=Zi(),{MT:fr,NUMBYTES:Ma,SYMS:Qi,BI:LR}=H4,{Buffer:BR}=(Pi(),ht(go)),La=Symbol("count"),Mo=Symbol("major type"),jR=Symbol("error"),hf=Symbol("not found");function _b(t,e,r){let n=[];return n[La]=r,n[Qi.PARENT]=t,n[Mo]=e,n}function z4(t,e){let r=new pd;return r[La]=-1,r[Qi.PARENT]=t,r[Mo]=e,r}var pf=class extends Error{constructor(e,r){super(`Unexpected data: 0x${e.toString(16)}`),this.name="UnexpectedDataError",this.byte=e,this.value=r}};function hd(t,e){switch(typeof t){case"function":return{options:{},cb:t};case"string":return{options:{encoding:t},cb:e};case"object":return{options:t||{},cb:e};default:throw new TypeError("Unknown option type")}}var yd=class t extends F4{constructor(e={}){let{tags:r={},max_depth:n=-1,preferWeb:i=!1,required:s=!1,encoding:o="hex",extendedResults:a=!1,preventDuplicateKeys:u=!1,...c}=e;super({defaultEncoding:o,...c}),this.running=!0,this.max_depth=n,this.tags=r,this.preferWeb=i,this.extendedResults=a,this.required=s,this.preventDuplicateKeys=u,a&&(this.bs.on("read",this._onRead.bind(this)),this.valueBytes=new pd)}static nullcheck(e){switch(e){case Qi.NULL:return null;case Qi.UNDEFINED:return;case hf:throw new Error("Value not found");default:return e}}static decodeFirstSync(e,r={}){if(e==null)throw new TypeError("input required");({options:r}=hd(r));let{encoding:n="hex",...i}=r,s=new t(i),o=Os.guessEncoding(e,n),a=s._parse(),u=a.next();for(;!u.done;){let l=o.read(u.value);if(l==null||l.length!==u.value)throw new Error("Insufficient data");s.extendedResults&&s.valueBytes.write(l),u=a.next(l)}let c=null;if(s.extendedResults)c=u.value,c.unused=o.read();else if(c=t.nullcheck(u.value),o.length>0){let l=o.read(1);throw o.unshift(l),new pf(l[0],c)}return c}static decodeAllSync(e,r={}){if(e==null)throw new TypeError("input required");({options:r}=hd(r));let{encoding:n="hex",...i}=r,s=new t(i),o=Os.guessEncoding(e,n),a=[];for(;o.length>0;){let u=s._parse(),c=u.next();for(;!c.done;){let l=o.read(c.value);if(l==null||l.length!==c.value)throw new Error("Insufficient data");s.extendedResults&&s.valueBytes.write(l),c=u.next(l)}a.push(t.nullcheck(c.value))}return a}static decodeFirst(e,r={},n=null){if(e==null)throw new TypeError("input required");({options:r,cb:n}=hd(r,n));let{encoding:i="hex",required:s=!1,...o}=r,a=new t(o),u=hf,c=Os.guessEncoding(e,i),l=new Promise((p,h)=>{a.on("data",y=>{u=t.nullcheck(y),a.close()}),a.once("error",y=>a.extendedResults&&y instanceof pf?(u.unused=a.bs.slice(),p(u)):(u!==hf&&(y.value=u),u=jR,a.close(),h(y))),a.once("end",()=>{switch(u){case hf:return s?h(new Error("No CBOR found")):p(u);case jR:return;default:return p(u)}})});return typeof n=="function"&&l.then(p=>n(null,p),n),c.pipe(a),l}static decodeAll(e,r={},n=null){if(e==null)throw new TypeError("input required");({options:r,cb:n}=hd(r,n));let{encoding:i="hex",...s}=r,o=new t(s),a=[];o.on("data",c=>a.push(t.nullcheck(c)));let u=new Promise((c,l)=>{o.on("error",l),o.on("end",()=>c(a))});return typeof n=="function"&&u.then(c=>n(void 0,c),c=>n(c,void 0)),Os.guessEncoding(e,i).pipe(o),u}close(){this.running=!1,this.__fresh=!0}_onRead(e){this.valueBytes.write(e)}*_parse(){let e=null,r=0,n=null;for(;;){if(this.max_depth>=0&&r>this.max_depth)throw new Error(`Maximum depth ${this.max_depth} exceeded`);let[i]=yield 1;if(!this.running)throw this.bs.unshift(BR.from([i])),new pf(i);let s=i>>5,o=i&31,a=e?.[Mo],u=e?.length;switch(o){case Ma.ONE:this.emit("more-bytes",s,1,a,u),[n]=yield 1;break;case Ma.TWO:case Ma.FOUR:case Ma.EIGHT:{let l=1<<o-24;this.emit("more-bytes",s,l,a,u);let p=yield l;n=s===fr.SIMPLE_FLOAT?p:Os.parseCBORint(o,p);break}case 28:case 29:case 30:throw this.running=!1,new Error(`Additional info not implemented: ${o}`);case Ma.INDEFINITE:switch(s){case fr.POS_INT:case fr.NEG_INT:case fr.TAG:throw new Error(`Invalid indefinite encoding for MT ${s}`)}n=-1;break;default:n=o}switch(s){case fr.POS_INT:break;case fr.NEG_INT:n===Number.MAX_SAFE_INTEGER?n=LR.NEG_MAX:n=typeof n=="bigint"?LR.MINUS_ONE-n:-1-n;break;case fr.BYTE_STRING:case fr.UTF8_STRING:switch(n){case 0:this.emit("start-string",s,n,a,u),s===fr.UTF8_STRING?n="":n=this.preferWeb?new Uint8Array(0):BR.allocUnsafe(0);break;case-1:this.emit("start",s,Qi.STREAM,a,u),e=z4(e,s),r++;continue;default:this.emit("start-string",s,n,a,u),n=yield n,s===fr.UTF8_STRING?n=Os.utf8(n):this.preferWeb&&(n=new Uint8Array(n.buffer,n.byteOffset,n.length))}break;case fr.ARRAY:case fr.MAP:switch(n){case 0:n=s===fr.MAP?{}:[];break;case-1:this.emit("start",s,Qi.STREAM,a,u),e=_b(e,s,-1),r++;continue;default:this.emit("start",s,n,a,u),e=_b(e,s,n*(s-3)),r++;continue}break;case fr.TAG:this.emit("start",s,n,a,u),e=_b(e,s,1),e.push(n),r++;continue;case fr.SIMPLE_FLOAT:if(typeof n=="number"){if(o===Ma.ONE&&n<32)throw new Error(`Invalid two-byte encoding of simple value ${n}`);let l=e!=null;n=W4.decode(n,l,l&&e[La]<0)}else n=Os.parseCBORfloat(n)}this.emit("value",n,a,u,o);let c=!1;for(;e!=null;){if(n===Qi.BREAK)e[La]=1;else if(Array.isArray(e))e.push(n);else{let p=e[Mo];if(p!=null&&p!==s)throw this.running=!1,new Error("Invalid major type in indefinite encoding");e.write(n)}if(--e[La]!==0){c=!0;break}if(--r,delete e[La],Array.isArray(e))switch(e[Mo]){case fr.ARRAY:n=e;break;case fr.MAP:{let p=!0;if(e.length%2!==0)throw new Error(`Invalid map length: ${e.length}`);for(let h=0,y=e.length;h<y;h+=2)if(typeof e[h]!="string"||e[h]==="__proto__"){p=!1;break}if(p){n={};for(let h=0,y=e.length;h<y;h+=2){if(this.preventDuplicateKeys&&Object.prototype.hasOwnProperty.call(n,e[h]))throw new Error("Duplicate keys in a map");n[e[h]]=e[h+1]}}else{n=new Map;for(let h=0,y=e.length;h<y;h+=2){if(this.preventDuplicateKeys&&n.has(e[h]))throw new Error("Duplicate keys in a map");n.set(e[h],e[h+1])}}break}case fr.TAG:{n=new q4(e[0],e[1]).convert(this.tags);break}}else if(e instanceof pd)switch(e[Mo]){case fr.BYTE_STRING:n=e.slice(),this.preferWeb&&(n=new Uint8Array(n.buffer,n.byteOffset,n.length));break;case fr.UTF8_STRING:n=e.toString("utf-8");break}this.emit("stop",e[Mo]);let l=e;e=e[Qi.PARENT],delete l[Qi.PARENT],delete l[Mo]}if(!c){if(this.extendedResults){let l=this.valueBytes.slice(),p={value:t.nullcheck(n),bytes:l,length:l.length};return this.valueBytes=new pd,p}return n}}}};yd.NOT_FOUND=hf;UR.exports=yd});var qR=de((cJ,FR)=>{"use strict";x();var V4=($n(),ht(An)),kR=Ia(),G4=yf(),DR=$s(),{MT:gr,NUMBYTES:md,SYMS:wb}=Zi(),{Buffer:Y4}=(Pi(),ht(go));function vb(t){return t>1?"s":""}function K4(t,e){switch(typeof t){case"function":return{options:{},cb:t};case"string":return{options:{encoding:t},cb:e};case"number":return{options:{max_depth:t},cb:e};case"object":return{options:t||{},cb:e};default:throw new TypeError("Unknown option type")}}var Eb=class t extends V4.Transform{constructor(e={}){let{depth:r=1,max_depth:n=10,no_summary:i=!1,tags:s={},preferWeb:o,encoding:a,...u}=e;super({...u,readableObjectMode:!1,writableObjectMode:!1}),this.depth=r,this.max_depth=n,this.all=new DR,s[24]||(s[24]=this._tag_24.bind(this)),this.parser=new G4({tags:s,max_depth:n,preferWeb:o,encoding:a}),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("start-string",this._on_start_string.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("error",this._on_error.bind(this)),i||this.parser.on("data",this._on_data.bind(this)),this.parser.bs.on("read",this._on_read.bind(this))}_tag_24(e){let r=new t({depth:this.depth+1,no_summary:!0});r.on("data",n=>this.push(n)),r.on("error",n=>this.emit("error",n)),r.end(e)}_transform(e,r,n){this.parser.write(e,r,n)}_flush(e){return this.parser._flush(e)}static comment(e,r={},n=null){if(e==null)throw new Error("input required");({options:r,cb:n}=K4(r,n));let i=new DR,{encoding:s="hex",...o}=r,a=new t(o),u=null;return typeof n=="function"?(a.on("end",()=>{n(null,i.toString("utf8"))}),a.on("error",n)):u=new Promise((c,l)=>{a.on("end",()=>{c(i.toString("utf8"))}),a.on("error",l)}),a.pipe(i),kR.guessEncoding(e,s).pipe(a),u}_on_error(e){this.push("ERROR: "),this.push(e.toString()),this.push(`
`)}_on_read(e){this.all.write(e);let r=e.toString("hex");this.push(new Array(this.depth+1).join("  ")),this.push(r);let n=(this.max_depth-this.depth)*2-r.length;n<1&&(n=1),this.push(new Array(n+1).join(" ")),this.push("-- ")}_on_more(e,r,n,i){let s="";switch(this.depth++,e){case gr.POS_INT:s="Positive number,";break;case gr.NEG_INT:s="Negative number,";break;case gr.ARRAY:s="Array, length";break;case gr.MAP:s="Map, count";break;case gr.BYTE_STRING:s="Bytes, length";break;case gr.UTF8_STRING:s="String, length";break;case gr.SIMPLE_FLOAT:r===1?s="Simple value,":s="Float,";break}this.push(`${s} next ${r} byte${vb(r)}
`)}_on_start_string(e,r,n,i){let s="";switch(this.depth++,e){case gr.BYTE_STRING:s=`Bytes, length: ${r}`;break;case gr.UTF8_STRING:s=`String, length: ${r.toString()}`;break}this.push(`${s}
`)}_on_start(e,r,n,i){switch(this.depth++,n){case gr.ARRAY:this.push(`[${i}], `);break;case gr.MAP:i%2?this.push(`{Val:${Math.floor(i/2)}}, `):this.push(`{Key:${Math.floor(i/2)}}, `);break}switch(e){case gr.TAG:this.push(`Tag #${r}`),r===24&&this.push(" Encoded CBOR data item");break;case gr.ARRAY:r===wb.STREAM?this.push("Array (streaming)"):this.push(`Array, ${r} item${vb(r)}`);break;case gr.MAP:r===wb.STREAM?this.push("Map (streaming)"):this.push(`Map, ${r} pair${vb(r)}`);break;case gr.BYTE_STRING:this.push("Bytes (streaming)");break;case gr.UTF8_STRING:this.push("String (streaming)");break}this.push(`
`)}_on_stop(e){this.depth--}_on_value(e,r,n,i){if(e!==wb.BREAK)switch(r){case gr.ARRAY:this.push(`[${n}], `);break;case gr.MAP:n%2?this.push(`{Val:${Math.floor(n/2)}}, `):this.push(`{Key:${Math.floor(n/2)}}, `);break}let s=kR.cborValueToString(e,-1/0);switch(typeof e=="string"||Y4.isBuffer(e)?(e.length>0&&(this.push(s),this.push(`
`)),this.depth--):(this.push(s),this.push(`
`)),i){case md.ONE:case md.TWO:case md.FOUR:case md.EIGHT:this.depth--}}_on_data(){this.push("0x"),this.push(this.all.read().toString("hex")),this.push(`
`)}};FR.exports=Eb});var VR=de((pJ,zR)=>{"use strict";x();var J4=($n(),ht(An)),X4=yf(),WR=Ia(),Z4=$s(),{MT:Gr,SYMS:HR}=Zi();function Q4(t,e){switch(typeof t){case"function":return{options:{},cb:t};case"string":return{options:{encoding:t},cb:e};case"object":return{options:t||{},cb:e};default:throw new TypeError("Unknown option type")}}var Sb=class t extends J4.Transform{constructor(e={}){let{separator:r=`
`,stream_errors:n=!1,tags:i,max_depth:s,preferWeb:o,encoding:a,...u}=e;super({...u,readableObjectMode:!1,writableObjectMode:!1}),this.float_bytes=-1,this.separator=r,this.stream_errors=n,this.parser=new X4({tags:i,max_depth:s,preferWeb:o,encoding:a}),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("data",this._on_data.bind(this)),this.parser.on("error",this._on_error.bind(this))}_transform(e,r,n){return this.parser.write(e,r,n)}_flush(e){return this.parser._flush(r=>this.stream_errors?(r&&this._on_error(r),e()):e(r))}static diagnose(e,r={},n=null){if(e==null)throw new TypeError("input required");({options:r,cb:n}=Q4(r,n));let{encoding:i="hex",...s}=r,o=new Z4,a=new t(s),u=null;return typeof n=="function"?(a.on("end",()=>n(null,o.toString("utf8"))),a.on("error",n)):u=new Promise((c,l)=>{a.on("end",()=>c(o.toString("utf8"))),a.on("error",l)}),a.pipe(o),WR.guessEncoding(e,i).pipe(a),u}_on_error(e){this.stream_errors?this.push(e.toString()):this.emit("error",e)}_on_more(e,r,n,i){e===Gr.SIMPLE_FLOAT&&(this.float_bytes={2:1,4:2,8:3}[r])}_fore(e,r){switch(e){case Gr.BYTE_STRING:case Gr.UTF8_STRING:case Gr.ARRAY:r>0&&this.push(", ");break;case Gr.MAP:r>0&&(r%2?this.push(": "):this.push(", "))}}_on_value(e,r,n){if(e===HR.BREAK)return;this._fore(r,n);let i=this.float_bytes;this.float_bytes=-1,this.push(WR.cborValueToString(e,i))}_on_start(e,r,n,i){switch(this._fore(n,i),e){case Gr.TAG:this.push(`${r}(`);break;case Gr.ARRAY:this.push("[");break;case Gr.MAP:this.push("{");break;case Gr.BYTE_STRING:case Gr.UTF8_STRING:this.push("(");break}r===HR.STREAM&&this.push("_ ")}_on_stop(e){switch(e){case Gr.TAG:this.push(")");break;case Gr.ARRAY:this.push("]");break;case Gr.MAP:this.push("}");break;case Gr.BYTE_STRING:case Gr.UTF8_STRING:this.push(")");break}}_on_data(){this.push(this.separator)}};zR.exports=Sb});var Ab=de((gJ,JR)=>{"use strict";x();var e3=($n(),ht(An)),Tb=$s(),gd=Ia(),t3=Zi(),{MT:Ft,NUMBYTES:Rn,SHIFT32:GR,SIMPLE:_d,SYMS:YR,TAG:eo,BI:bd}=t3,{Buffer:Sr}=(Pi(),ht(go)),r3=Ft.SIMPLE_FLOAT<<5|Rn.TWO,n3=Ft.SIMPLE_FLOAT<<5|Rn.FOUR,i3=Ft.SIMPLE_FLOAT<<5|Rn.EIGHT,o3=Ft.SIMPLE_FLOAT<<5|_d.TRUE,s3=Ft.SIMPLE_FLOAT<<5|_d.FALSE,a3=Ft.SIMPLE_FLOAT<<5|_d.UNDEFINED,u3=Ft.SIMPLE_FLOAT<<5|_d.NULL,mf=Sr.from([255]),f3=Sr.from("f97e00","hex"),l3=Sr.from("f9fc00","hex"),c3=Sr.from("f97c00","hex"),d3=Sr.from("f98000","hex"),wd={},KR={};function h3(t){if(!t)return"number";switch(t.toLowerCase()){case"number":return"number";case"float":return"float";case"int":case"integer":return"int";case"string":return"string"}throw new TypeError(`dateType invalid, got "${t}"`)}var $t=class t extends e3.Transform{constructor(e={}){let{canonical:r=!1,encodeUndefined:n,disallowUndefinedKeys:i=!1,dateType:s="number",collapseBigIntegers:o=!1,detectLoops:a=!1,omitUndefinedProperties:u=!1,genTypes:c=[],...l}=e;if(super({...l,readableObjectMode:!1,writableObjectMode:!0}),this.canonical=r,this.encodeUndefined=n,this.disallowUndefinedKeys=i,this.dateType=h3(s),this.collapseBigIntegers=this.canonical?!0:o,this.detectLoops=void 0,typeof a=="boolean")a&&(this.detectLoops=new WeakSet);else if(a instanceof WeakSet)this.detectLoops=a;else throw new TypeError("detectLoops must be boolean or WeakSet");if(this.omitUndefinedProperties=u,this.semanticTypes={...t.SEMANTIC_TYPES},Array.isArray(c))for(let p=0,h=c.length;p<h;p+=2)this.addSemanticType(c[p],c[p+1]);else for(let[p,h]of Object.entries(c))this.addSemanticType(p,h)}_transform(e,r,n){let i=this.pushAny(e);return n(i===!1?new Error("Push Error"):void 0)}_flush(e){return e()}_pushUInt8(e){let r=Sr.allocUnsafe(1);return r.writeUInt8(e,0),this.push(r)}_pushUInt16BE(e){let r=Sr.allocUnsafe(2);return r.writeUInt16BE(e,0),this.push(r)}_pushUInt32BE(e){let r=Sr.allocUnsafe(4);return r.writeUInt32BE(e,0),this.push(r)}_pushFloatBE(e){let r=Sr.allocUnsafe(4);return r.writeFloatBE(e,0),this.push(r)}_pushDoubleBE(e){let r=Sr.allocUnsafe(8);return r.writeDoubleBE(e,0),this.push(r)}_pushNaN(){return this.push(f3)}_pushInfinity(e){let r=e<0?l3:c3;return this.push(r)}_pushFloat(e){if(this.canonical){let r=Sr.allocUnsafe(2);if(gd.writeHalf(r,e))return this._pushUInt8(r3)&&this.push(r)}return Math.fround(e)===e?this._pushUInt8(n3)&&this._pushFloatBE(e):this._pushUInt8(i3)&&this._pushDoubleBE(e)}_pushInt(e,r,n){let i=r<<5;if(e<24)return this._pushUInt8(i|e);if(e<=255)return this._pushUInt8(i|Rn.ONE)&&this._pushUInt8(e);if(e<=65535)return this._pushUInt8(i|Rn.TWO)&&this._pushUInt16BE(e);if(e<=4294967295)return this._pushUInt8(i|Rn.FOUR)&&this._pushUInt32BE(e);let s=Number.MAX_SAFE_INTEGER;return r===Ft.NEG_INT&&s--,e<=s?this._pushUInt8(i|Rn.EIGHT)&&this._pushUInt32BE(Math.floor(e/GR))&&this._pushUInt32BE(e%GR):r===Ft.NEG_INT?this._pushFloat(n):this._pushFloat(e)}_pushIntNum(e){return Object.is(e,-0)?this.push(d3):e<0?this._pushInt(-e-1,Ft.NEG_INT,e):this._pushInt(e,Ft.POS_INT)}_pushNumber(e){return isNaN(e)?this._pushNaN():isFinite(e)?Math.round(e)===e?this._pushIntNum(e):this._pushFloat(e):this._pushInfinity(e)}_pushString(e){let r=Sr.byteLength(e,"utf8");return this._pushInt(r,Ft.UTF8_STRING)&&this.push(e,"utf8")}_pushBoolean(e){return this._pushUInt8(e?o3:s3)}_pushUndefined(e){switch(typeof this.encodeUndefined){case"undefined":return this._pushUInt8(a3);case"function":return this.pushAny(this.encodeUndefined(e));case"object":{let r=gd.bufferishToBuffer(this.encodeUndefined);if(r)return this.push(r)}}return this.pushAny(this.encodeUndefined)}_pushNull(e){return this._pushUInt8(u3)}_pushTag(e){return this._pushInt(e,Ft.TAG)}_pushJSBigint(e){let r=Ft.POS_INT,n=eo.POS_BIGINT;if(e<0&&(e=-e+bd.MINUS_ONE,r=Ft.NEG_INT,n=eo.NEG_BIGINT),this.collapseBigIntegers&&e<=bd.MAXINT64)return e<=4294967295?this._pushInt(Number(e),r):this._pushUInt8(r<<5|Rn.EIGHT)&&this._pushUInt32BE(Number(e/bd.SHIFT32))&&this._pushUInt32BE(Number(e%bd.SHIFT32));let i=e.toString(16);i.length%2&&(i=`0${i}`);let s=Sr.from(i,"hex");return this._pushTag(n)&&t._pushBuffer(this,s)}_pushObject(e,r){if(!e)return this._pushNull(e);if(r={indefinite:!1,skipTypes:!1,...r},!r.indefinite&&this.detectLoops){if(this.detectLoops.has(e))throw new Error(`Loop detected while CBOR encoding.
Call removeLoopDetectors before resuming.`);this.detectLoops.add(e)}if(!r.skipTypes){let o=e.encodeCBOR;if(typeof o=="function")return o.call(e,this);let a=this.semanticTypes[e.constructor.name];if(a)return a.call(e,this,e)}let n=Object.keys(e).filter(o=>{let a=typeof e[o];return a!=="function"&&(!this.omitUndefinedProperties||a!=="undefined")}),i={};if(this.canonical&&n.sort((o,a)=>{let u=i[o]||(i[o]=t.encode(o)),c=i[a]||(i[a]=t.encode(a));return u.compare(c)}),r.indefinite){if(!this._pushUInt8(Ft.MAP<<5|Rn.INDEFINITE))return!1}else if(!this._pushInt(n.length,Ft.MAP))return!1;let s=null;for(let o=0,a=n.length;o<a;o++){let u=n[o];if(this.canonical&&(s=i[u])){if(!this.push(s))return!1}else if(!this._pushString(u))return!1;if(!this.pushAny(e[u]))return!1}if(r.indefinite){if(!this.push(mf))return!1}else this.detectLoops&&this.detectLoops.delete(e);return!0}_encodeAll(e){let r=new Tb({highWaterMark:this.readableHighWaterMark});this.pipe(r);for(let n of e)this.pushAny(n);return this.end(),r.read()}addSemanticType(e,r){let n=typeof e=="string"?e:e.name,i=this.semanticTypes[n];if(r){if(typeof r!="function")throw new TypeError("fun must be of type function");this.semanticTypes[n]=r}else i&&delete this.semanticTypes[n];return i}pushAny(e){switch(typeof e){case"number":return this._pushNumber(e);case"bigint":return this._pushJSBigint(e);case"string":return this._pushString(e);case"boolean":return this._pushBoolean(e);case"undefined":return this._pushUndefined(e);case"object":return this._pushObject(e);case"symbol":switch(e){case YR.NULL:return this._pushNull(null);case YR.UNDEFINED:return this._pushUndefined(void 0);default:throw new TypeError(`Unknown symbol: ${e.toString()}`)}default:throw new TypeError(`Unknown type: ${typeof e}, ${typeof e.toString=="function"?e.toString():""}`)}}static pushArray(e,r,n){n={indefinite:!1,...n};let i=r.length;if(n.indefinite){if(!e._pushUInt8(Ft.ARRAY<<5|Rn.INDEFINITE))return!1}else if(!e._pushInt(i,Ft.ARRAY))return!1;for(let s=0;s<i;s++)if(!e.pushAny(r[s]))return!1;return!(n.indefinite&&!e.push(mf))}removeLoopDetectors(){return this.detectLoops?(this.detectLoops=new WeakSet,!0):!1}static _pushDate(e,r){switch(e.dateType){case"string":return e._pushTag(eo.DATE_STRING)&&e._pushString(r.toISOString());case"int":return e._pushTag(eo.DATE_EPOCH)&&e._pushIntNum(Math.round(r.getTime()/1e3));case"float":return e._pushTag(eo.DATE_EPOCH)&&e._pushFloat(r.getTime()/1e3);case"number":default:return e._pushTag(eo.DATE_EPOCH)&&e.pushAny(r.getTime()/1e3)}}static _pushBuffer(e,r){return e._pushInt(r.length,Ft.BYTE_STRING)&&e.push(r)}static _pushNoFilter(e,r){return t._pushBuffer(e,r.slice())}static _pushRegexp(e,r){return e._pushTag(eo.REGEXP)&&e.pushAny(r.source)}static _pushSet(e,r){if(!e._pushTag(eo.SET)||!e._pushInt(r.size,Ft.ARRAY))return!1;for(let n of r)if(!e.pushAny(n))return!1;return!0}static _pushURL(e,r){return e._pushTag(eo.URI)&&e.pushAny(r.toString())}static _pushBoxed(e,r){return e.pushAny(r.valueOf())}static _pushMap(e,r,n){n={indefinite:!1,...n};let i=[...r.entries()];if(e.omitUndefinedProperties&&(i=i.filter(([s,o])=>o!==void 0)),n.indefinite){if(!e._pushUInt8(Ft.MAP<<5|Rn.INDEFINITE))return!1}else if(!e._pushInt(i.length,Ft.MAP))return!1;if(e.canonical){let s=new t({genTypes:e.semanticTypes,canonical:e.canonical,detectLoops:!!e.detectLoops,dateType:e.dateType,disallowUndefinedKeys:e.disallowUndefinedKeys,collapseBigIntegers:e.collapseBigIntegers}),o=new Tb({highWaterMark:e.readableHighWaterMark});s.pipe(o),i.sort(([a],[u])=>{s.pushAny(a);let c=o.read();s.pushAny(u);let l=o.read();return c.compare(l)});for(let[a,u]of i){if(e.disallowUndefinedKeys&&typeof a>"u")throw new Error("Invalid Map key: undefined");if(!(e.pushAny(a)&&e.pushAny(u)))return!1}}else for(let[s,o]of i){if(e.disallowUndefinedKeys&&typeof s>"u")throw new Error("Invalid Map key: undefined");if(!(e.pushAny(s)&&e.pushAny(o)))return!1}return!(n.indefinite&&!e.push(mf))}static _pushTypedArray(e,r){let n=64,i=r.BYTES_PER_ELEMENT,{name:s}=r.constructor;return s.startsWith("Float")?(n|=16,i/=2):s.includes("U")||(n|=8),(s.includes("Clamped")||i!==1&&!gd.isBigEndian())&&(n|=4),n|={1:0,2:1,4:2,8:3}[i],e._pushTag(n)?t._pushBuffer(e,Sr.from(r.buffer,r.byteOffset,r.byteLength)):!1}static _pushArrayBuffer(e,r){return t._pushBuffer(e,Sr.from(r))}static encodeIndefinite(e,r,n={}){if(r==null){if(this==null)throw new Error("No object to encode");r=this}let{chunkSize:i=4096}=n,s=!0,o=typeof r,a=null;if(o==="string"){s=s&&e._pushUInt8(Ft.UTF8_STRING<<5|Rn.INDEFINITE);let u=0;for(;u<r.length;){let c=u+i;s=s&&e._pushString(r.slice(u,c)),u=c}s=s&&e.push(mf)}else if(a=gd.bufferishToBuffer(r)){s=s&&e._pushUInt8(Ft.BYTE_STRING<<5|Rn.INDEFINITE);let u=0;for(;u<a.length;){let c=u+i;s=s&&t._pushBuffer(e,a.slice(u,c)),u=c}s=s&&e.push(mf)}else if(Array.isArray(r))s=s&&t.pushArray(e,r,{indefinite:!0});else if(r instanceof Map)s=s&&t._pushMap(e,r,{indefinite:!0});else{if(o!=="object")throw new Error("Invalid indefinite encoding");s=s&&e._pushObject(r,{indefinite:!0,skipTypes:!0})}return s}static encode(...e){return new t()._encodeAll(e)}static encodeCanonical(...e){return new t({canonical:!0})._encodeAll(e)}static encodeOne(e,r){return new t(r)._encodeAll([e])}static encodeAsync(e,r){return new Promise((n,i)=>{let s=[],o=new t(r);o.on("data",a=>s.push(a)),o.on("error",i),o.on("finish",()=>n(Sr.concat(s))),o.pushAny(e),o.end()})}static get SEMANTIC_TYPES(){return KR}static set SEMANTIC_TYPES(e){KR=e}static reset(){t.SEMANTIC_TYPES={...wd}}};Object.assign(wd,{Array:$t.pushArray,Date:$t._pushDate,Buffer:$t._pushBuffer,[Sr.name]:$t._pushBuffer,Map:$t._pushMap,NoFilter:$t._pushNoFilter,[Tb.name]:$t._pushNoFilter,RegExp:$t._pushRegexp,Set:$t._pushSet,ArrayBuffer:$t._pushArrayBuffer,Uint8ClampedArray:$t._pushTypedArray,Uint8Array:$t._pushTypedArray,Uint16Array:$t._pushTypedArray,Uint32Array:$t._pushTypedArray,Int8Array:$t._pushTypedArray,Int16Array:$t._pushTypedArray,Int32Array:$t._pushTypedArray,Float32Array:$t._pushTypedArray,Float64Array:$t._pushTypedArray,URL:$t._pushURL,Boolean:$t._pushBoxed,Number:$t._pushBoxed,String:$t._pushBoxed});typeof BigUint64Array<"u"&&(wd[BigUint64Array.name]=$t._pushTypedArray);typeof BigInt64Array<"u"&&(wd[BigInt64Array.name]=$t._pushTypedArray);$t.reset();JR.exports=$t});var QR=de((wJ,ZR)=>{"use strict";x();var{Buffer:XR}=(Pi(),ht(go)),p3=Ab(),y3=yf(),{MT:m3}=Zi(),$b=class t extends Map{constructor(e){super(e)}static _encode(e){return p3.encodeCanonical(e).toString("base64")}static _decode(e){return y3.decodeFirstSync(e,"base64")}get(e){return super.get(t._encode(e))}set(e,r){return super.set(t._encode(e),r)}delete(e){return super.delete(t._encode(e))}has(e){return super.has(t._encode(e))}*keys(){for(let e of super.keys())yield t._decode(e)}*entries(){for(let e of super.entries())yield[t._decode(e[0]),e[1]]}[Symbol.iterator](){return this.entries()}forEach(e,r){if(typeof e!="function")throw new TypeError("Must be function");for(let n of super.entries())e.call(this,n[1],t._decode(n[0]),this)}encodeCBOR(e){if(!e._pushInt(this.size,m3.MAP))return!1;if(e.canonical){let r=Array.from(super.entries()).map(n=>[XR.from(n[0],"base64"),n[1]]);r.sort((n,i)=>n[0].compare(i[0]));for(let n of r)if(!(e.push(n[0])&&e.pushAny(n[1])))return!1}else for(let r of super.entries())if(!(e.push(XR.from(r[0],"base64"))&&e.pushAny(r[1])))return!1;return!0}};ZR.exports=$b});var eO=de(pt=>{"use strict";x();pt.Commented=qR();pt.Diagnose=VR();pt.Decoder=yf();pt.Encoder=Ab();pt.Simple=bb();pt.Tagged=yb();pt.Map=QR();pt.comment=pt.Commented.comment;pt.decodeAll=pt.Decoder.decodeAll;pt.decodeFirst=pt.Decoder.decodeFirst;pt.decodeAllSync=pt.Decoder.decodeAllSync;pt.decodeFirstSync=pt.Decoder.decodeFirstSync;pt.diagnose=pt.Diagnose.diagnose;pt.encode=pt.Encoder.encode;pt.encodeCanonical=pt.Encoder.encodeCanonical;pt.encodeOne=pt.Encoder.encodeOne;pt.encodeAsync=pt.Encoder.encodeAsync;pt.decode=pt.Decoder.decodeFirstSync;pt.leveldb={decode:pt.Decoder.decodeFirstSync,encode:pt.Encoder.encode,buffer:!0,name:"cbor"};pt.reset=function(){pt.Encoder.reset(),pt.Tagged.reset()}});var Pb=de(Ob=>{"use strict";x();Object.defineProperty(Ob,"__esModule",{value:!0});var g3=Wr(),tO=eO(),{debug:rO}=(0,g3.createLoggers)("core","cbor-codec"),Rb=class{constructor(e){this.subMediaType=e??"application/cbor"}getMediaType(){return this.subMediaType}bytesToValue(e,r,n){rO(`CborCodec parsing '${e.toString()}'`);try{return(0,tO.decode)(e)}catch(i){if(e.byteLength===0)return null;throw i}}valueToBytes(e,r,n){return rO("CborCodec serializing",e),e===void 0?oe.alloc(0):(0,tO.encode)(e)}};Ob.default=Rb});var Nb=de(Cb=>{"use strict";x();Object.defineProperty(Cb,"__esModule",{value:!0});var b3=Jn(),_3=Wr(),{debug:nO}=(0,_3.createLoggers)("core","json-codec"),Ib=class{constructor(e){this.subMediaType=e??b3.ContentSerdes.DEFAULT}getMediaType(){return this.subMediaType}bytesToValue(e,r,n){nO(`JsonCodec parsing '${e.toString()}'`);let i;try{i=JSON.parse(e.toString())}catch(s){if(s instanceof SyntaxError)e.byteLength===0?i=void 0:i=e.toString();else throw s}return i}valueToBytes(e,r,n){nO("JsonCodec serializing",e);let i="";return e!==void 0&&(i=JSON.stringify(e)),oe.from(i)}};Cb.default=Ib});var Lb=de(Mb=>{"use strict";x();Object.defineProperty(Mb,"__esModule",{value:!0});var w3=Wr(),{debug:iO}=(0,w3.createLoggers)("core","text-codec"),xb=class{constructor(e){this.subMediaType=e??"text/plain"}getMediaType(){return this.subMediaType}bytesToValue(e,r,n){return iO(`TextCodec parsing '${e.toString()}'`),e.toString(n?.charset)}valueToBytes(e,r,n){iO(`TextCodec serializing '${e}'`);let i="";e!==void 0&&(typeof e=="string"?i=e:i=JSON.stringify(e));let s;if(n&&n.charset)switch(n.charset){case"ascii":s="ascii";break;case"utf8":s="utf8";break;case"utf-8":s="utf-8";break;case"utf16le":s="utf16le";break;case"ucs2":s="ucs2";break;case"ucs-2":s="ucs-2";break;case"base64":s="base64";break;case"latin1":s="latin1";break;case"binary":s="binary";break;case"hex":s="hex";break}let o=oe.alloc(i.length);return o.write(i,s),o}};Mb.default=xb});var Ub=de(jb=>{"use strict";x();Object.defineProperty(jb,"__esModule",{value:!0});var Bb=class{constructor(e){this.subMediaType=e}getMediaType(){return this.subMediaType}bytesToValue(e,r,n){return e.toString("ascii")}valueToBytes(e,r,n){let i="";return e!==void 0&&(i=JSON.stringify(e)),oe.from(i,"base64")}};jb.default=Bb});var gf=de(Yr=>{"use strict";x();Object.defineProperty(Yr,"__esModule",{value:!0});var UJ=Yr.THIS_IS_NOT_AN_OBJECT="This is not an object",kJ=Yr.THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT="This is not a Float16Array object",DJ=Yr.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY="This constructor is not a subclass of Float16Array",FJ=Yr.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT="The constructor property value is not an object",qJ=Yr.SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT="Species constructor didn't return TypedArray object",WJ=Yr.DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH="Derived constructor created TypedArray object which was too small length",HJ=Yr.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER="Attempting to access detached ArrayBuffer",zJ=Yr.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT="Cannot convert undefined or null to object",VJ=Yr.CANNOT_MIX_BIGINT_AND_OTHER_TYPES="Cannot mix BigInt and other types, use explicit conversions",GJ=Yr.ITERATOR_PROPERTY_IS_NOT_CALLABLE="@@iterator property is not callable",YJ=Yr.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE="Reduce of empty array with no initial value",KJ=Yr.THE_COMPARISON_FUNCTION_MUST_BE_EITHER_A_FUNCTION_OR_UNDEFINED="The comparison function must be either a function or undefined",JJ=Yr.OFFSET_IS_OUT_OF_BOUNDS="Offset is out of bounds"});var Lo=de(Ue=>{"use strict";x();Object.defineProperty(Ue,"__esModule",{value:!0});var v3=gf();function Mt(t){return(e,...r)=>Db(t,e,r)}function Ba(t,e){return Mt(Fb(t,e).get)}var{apply:Db,construct:E3,defineProperty:S3,get:T3,getOwnPropertyDescriptor:Fb,getPrototypeOf:bf,has:A3,ownKeys:$3,set:R3,setPrototypeOf:O3}=Reflect;Ue.ReflectSetPrototypeOf=O3;Ue.ReflectSet=R3;Ue.ReflectOwnKeys=$3;Ue.ReflectHas=A3;Ue.ReflectGetPrototypeOf=bf;Ue.ReflectGetOwnPropertyDescriptor=Fb;Ue.ReflectGet=T3;Ue.ReflectDefineProperty=S3;Ue.ReflectConstruct=E3;Ue.ReflectApply=Db;var eX=Ue.NativeProxy=Proxy,{EPSILON:P3,MAX_SAFE_INTEGER:I3,isFinite:C3,isNaN:N3}=Number;Ue.NumberIsNaN=N3;Ue.NumberIsFinite=C3;Ue.MAX_SAFE_INTEGER=I3;Ue.EPSILON=P3;var{iterator:vd,species:x3,toStringTag:sO,for:M3}=Symbol;Ue.SymbolFor=M3;Ue.SymbolToStringTag=sO;Ue.SymbolSpecies=x3;Ue.SymbolIterator=vd;var Ed=Ue.NativeObject=Object,{create:L3,defineProperty:B3,freeze:j3,is:U3}=Ed;Ue.ObjectIs=U3;Ue.ObjectFreeze=j3;Ue.ObjectDefineProperty=B3;Ue.ObjectCreate=L3;var kb=Ed.prototype,tX=Ue.ObjectPrototype__lookupGetter__=kb.__lookupGetter__?Mt(kb.__lookupGetter__):(t,e)=>{if(t==null)throw V3(v3.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);let r=Ed(t);do{let n=Fb(r,e);if(n!==void 0)return k3(n,"get")?n.get:void 0}while((r=bf(r))!==null)},k3=Ue.ObjectHasOwn=Ed.hasOwn||Mt(kb.hasOwnProperty),aO=Array,rX=Ue.ArrayIsArray=aO.isArray,Sd=aO.prototype,nX=Ue.ArrayPrototypeJoin=Mt(Sd.join),iX=Ue.ArrayPrototypePush=Mt(Sd.push),oX=Ue.ArrayPrototypeToLocaleString=Mt(Sd.toLocaleString),D3=Ue.NativeArrayPrototypeSymbolIterator=Sd[vd],sX=Ue.ArrayPrototypeSymbolIterator=Mt(D3),{abs:F3,trunc:q3}=Math;Ue.MathTrunc=q3;Ue.MathAbs=F3;var uO=Ue.NativeArrayBuffer=ArrayBuffer,aX=Ue.ArrayBufferIsView=uO.isView,fO=uO.prototype,uX=Ue.ArrayBufferPrototypeSlice=Mt(fO.slice),fX=Ue.ArrayBufferPrototypeGetByteLength=Ba(fO,"byteLength"),oO=Ue.NativeSharedArrayBuffer=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:null,lX=Ue.SharedArrayBufferPrototypeGetByteLength=oO&&Ba(oO.prototype,"byteLength"),lO=Ue.TypedArray=bf(Uint8Array),W3=lO.from,Kr=Ue.TypedArrayPrototype=lO.prototype,cX=Ue.NativeTypedArrayPrototypeSymbolIterator=Kr[vd],dX=Ue.TypedArrayPrototypeKeys=Mt(Kr.keys),hX=Ue.TypedArrayPrototypeValues=Mt(Kr.values),pX=Ue.TypedArrayPrototypeEntries=Mt(Kr.entries),yX=Ue.TypedArrayPrototypeSet=Mt(Kr.set),mX=Ue.TypedArrayPrototypeReverse=Mt(Kr.reverse),gX=Ue.TypedArrayPrototypeFill=Mt(Kr.fill),bX=Ue.TypedArrayPrototypeCopyWithin=Mt(Kr.copyWithin),_X=Ue.TypedArrayPrototypeSort=Mt(Kr.sort),wX=Ue.TypedArrayPrototypeSlice=Mt(Kr.slice),vX=Ue.TypedArrayPrototypeSubarray=Mt(Kr.subarray),EX=Ue.TypedArrayPrototypeGetBuffer=Ba(Kr,"buffer"),SX=Ue.TypedArrayPrototypeGetByteOffset=Ba(Kr,"byteOffset"),TX=Ue.TypedArrayPrototypeGetLength=Ba(Kr,"length"),AX=Ue.TypedArrayPrototypeGetSymbolToStringTag=Ba(Kr,sO),$X=Ue.NativeUint8Array=Uint8Array,H3=Ue.NativeUint16Array=Uint16Array,z3=(...t)=>Db(W3,H3,t);Ue.Uint16ArrayFrom=z3;var RX=Ue.NativeUint32Array=Uint32Array,OX=Ue.NativeFloat32Array=Float32Array,cO=Ue.ArrayIteratorPrototype=bf([][vd]()),PX=Ue.ArrayIteratorPrototypeNext=Mt(cO.next),IX=Ue.GeneratorPrototypeNext=Mt(function*(){}().next),CX=Ue.IteratorPrototype=bf(cO),dO=DataView.prototype,NX=Ue.DataViewPrototypeGetUint16=Mt(dO.getUint16),xX=Ue.DataViewPrototypeSetUint16=Mt(dO.setUint16),V3=Ue.NativeTypeError=TypeError,MX=Ue.NativeRangeError=RangeError,G3=Ue.NativeWeakSet=WeakSet,hO=G3.prototype,LX=Ue.WeakSetPrototypeAdd=Mt(hO.add),BX=Ue.WeakSetPrototypeHas=Mt(hO.has),Y3=Ue.NativeWeakMap=WeakMap,qb=Y3.prototype,jX=Ue.WeakMapPrototypeGet=Mt(qb.get),UX=Ue.WeakMapPrototypeHas=Mt(qb.has),kX=Ue.WeakMapPrototypeSet=Mt(qb.set)});var Wb=de(Td=>{"use strict";x();Object.defineProperty(Td,"__esModule",{value:!0});Td.safeIfNeeded=J3;Td.wrap=X3;var Ht=Lo(),pO=new Ht.NativeWeakMap,K3=(0,Ht.ObjectCreate)(null,{next:{value:function(){let e=(0,Ht.WeakMapPrototypeGet)(pO,this);return(0,Ht.ArrayIteratorPrototypeNext)(e)}},[Ht.SymbolIterator]:{value:function(){return this}}});function J3(t){if(t[Ht.SymbolIterator]===Ht.NativeArrayPrototypeSymbolIterator&&Ht.ArrayIteratorPrototype.next===Ht.ArrayIteratorPrototypeNext)return t;let e=(0,Ht.ObjectCreate)(K3);return(0,Ht.WeakMapPrototypeSet)(pO,e,(0,Ht.ArrayPrototypeSymbolIterator)(t)),e}var yO=new Ht.NativeWeakMap,mO=(0,Ht.ObjectCreate)(Ht.IteratorPrototype,{next:{value:function(){let e=(0,Ht.WeakMapPrototypeGet)(yO,this);return(0,Ht.GeneratorPrototypeNext)(e)},writable:!0,configurable:!0}});for(let t of(0,Ht.ReflectOwnKeys)(Ht.ArrayIteratorPrototype))t!=="next"&&(0,Ht.ObjectDefineProperty)(mO,t,(0,Ht.ReflectGetOwnPropertyDescriptor)(Ht.ArrayIteratorPrototype,t));function X3(t){let e=(0,Ht.ObjectCreate)(mO);return(0,Ht.WeakMapPrototypeSet)(yO,e,t),e}});var _f=de(Xn=>{"use strict";x();Object.defineProperty(Xn,"__esModule",{value:!0});Xn.isAnyArrayBuffer=rq;Xn.isCanonicalIntegerIndexString=oq;Xn.isNativeBigIntTypedArray=eq;Xn.isNativeTypedArray=gO;Xn.isObject=Z3;Xn.isObjectLike=Q3;Xn.isOrdinaryArray=nq;Xn.isOrdinaryNativeTypedArray=iq;Xn.isSharedArrayBuffer=bO;var Tr=Lo();function Z3(t){return t!==null&&typeof t=="object"||typeof t=="function"}function Q3(t){return t!==null&&typeof t=="object"}function gO(t){return(0,Tr.TypedArrayPrototypeGetSymbolToStringTag)(t)!==void 0}function eq(t){let e=(0,Tr.TypedArrayPrototypeGetSymbolToStringTag)(t);return e==="BigInt64Array"||e==="BigUint64Array"}function tq(t){try{return(0,Tr.ArrayIsArray)(t)?!1:((0,Tr.ArrayBufferPrototypeGetByteLength)(t),!0)}catch{return!1}}function bO(t){if(Tr.NativeSharedArrayBuffer===null)return!1;try{return(0,Tr.SharedArrayBufferPrototypeGetByteLength)(t),!0}catch{return!1}}function rq(t){return tq(t)||bO(t)}function nq(t){return(0,Tr.ArrayIsArray)(t)?t[Tr.SymbolIterator]===Tr.NativeArrayPrototypeSymbolIterator&&Tr.ArrayIteratorPrototype.next===Tr.ArrayIteratorPrototypeNext:!1}function iq(t){return gO(t)?t[Tr.SymbolIterator]===Tr.NativeTypedArrayPrototypeSymbolIterator&&Tr.ArrayIteratorPrototype.next===Tr.ArrayIteratorPrototypeNext:!1}function oq(t){if(typeof t!="string")return!1;let e=+t;return t!==e+""||!(0,Tr.NumberIsFinite)(e)?!1:e===(0,Tr.MathTrunc)(e)}});var _O=de($d=>{"use strict";x();Object.defineProperty($d,"__esModule",{value:!0});$d.hasFloat16ArrayBrand=uq;var Hb=_f(),sq=gf(),Ad=Lo(),aq=$d.brand=(0,Ad.SymbolFor)("__Float16Array__");function uq(t){if(!(0,Hb.isObjectLike)(t))return!1;let e=(0,Ad.ReflectGetPrototypeOf)(t);if(!(0,Hb.isObjectLike)(e))return!1;let r=e.constructor;if(r===void 0)return!1;if(!(0,Hb.isObject)(r))throw(0,Ad.NativeTypeError)(sq.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT);return(0,Ad.ReflectHas)(r,aq)}});var Rd=de(wf=>{"use strict";x();Object.defineProperty(wf,"__esModule",{value:!0});wf.convertToNumber=hq;wf.roundToFloat16=SO;wf.roundToFloat16Bits=dq;var jn=Lo(),zb=1/jn.EPSILON;function fq(t){return t+zb-zb}var vO=6103515625e-14,lq=65504,EO=.0009765625,wO=EO*vO,cq=EO*zb;function SO(t){let e=+t;if(!(0,jn.NumberIsFinite)(e)||e===0)return e;let r=e>0?1:-1,n=(0,jn.MathAbs)(e);if(n<vO)return r*fq(n/wO)*wO;let i=(1+cq)*n,s=i-(i-n);return s>lq||(0,jn.NumberIsNaN)(s)?r*(1/0):r*s}var TO=new jn.NativeArrayBuffer(4),AO=new jn.NativeFloat32Array(TO),$O=new jn.NativeUint32Array(TO),Zn=new jn.NativeUint16Array(512),Qn=new jn.NativeUint8Array(512);for(let t=0;t<256;++t){let e=t-127;e<-24?(Zn[t]=0,Zn[t|256]=32768,Qn[t]=24,Qn[t|256]=24):e<-14?(Zn[t]=1024>>-e-14,Zn[t|256]=1024>>-e-14|32768,Qn[t]=-e-1,Qn[t|256]=-e-1):e<=15?(Zn[t]=e+15<<10,Zn[t|256]=e+15<<10|32768,Qn[t]=13,Qn[t|256]=13):e<128?(Zn[t]=31744,Zn[t|256]=64512,Qn[t]=24,Qn[t|256]=24):(Zn[t]=31744,Zn[t|256]=64512,Qn[t]=13,Qn[t|256]=13)}function dq(t){AO[0]=SO(t);let e=$O[0],r=e>>23&511;return Zn[r]+((e&8388607)>>Qn[r])}var Vb=new jn.NativeUint32Array(2048);for(let t=1;t<1024;++t){let e=t<<13,r=0;for(;(e&8388608)===0;)e<<=1,r-=8388608;e&=-8388609,r+=947912704,Vb[t]=e|r}for(let t=1024;t<2048;++t)Vb[t]=939524096+(t-1024<<13);var ja=new jn.NativeUint32Array(64);for(let t=1;t<31;++t)ja[t]=t<<23;ja[31]=1199570944;ja[32]=2147483648;for(let t=33;t<63;++t)ja[t]=2147483648+(t-32<<23);ja[63]=3347054592;var RO=new jn.NativeUint16Array(64);for(let t=1;t<64;++t)t!==32&&(RO[t]=1024);function hq(t){let e=t>>10;return $O[0]=Vb[RO[e]+(t&1023)]+ja[e],AO[0]}});var IO=de(Ps=>{"use strict";x();Object.defineProperty(Ps,"__esModule",{value:!0});Ps.IsDetachedBuffer=mq;Ps.SpeciesConstructor=yq;Ps.ToIntegerOrInfinity=PO;Ps.ToLength=pq;Ps.defaultCompare=gq;var Gb=_f(),OO=gf(),Un=Lo();function PO(t){let e=+t;return(0,Un.NumberIsNaN)(e)||e===0?0:(0,Un.MathTrunc)(e)}function pq(t){let e=PO(t);return e<0?0:e<Un.MAX_SAFE_INTEGER?e:Un.MAX_SAFE_INTEGER}function yq(t,e){if(!(0,Gb.isObject)(t))throw(0,Un.NativeTypeError)(OO.THIS_IS_NOT_AN_OBJECT);let r=t.constructor;if(r===void 0)return e;if(!(0,Gb.isObject)(r))throw(0,Un.NativeTypeError)(OO.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT);let n=r[Un.SymbolSpecies];return n??e}function mq(t){if((0,Gb.isSharedArrayBuffer)(t))return!1;try{return(0,Un.ArrayBufferPrototypeSlice)(t,0,0),!1}catch{}return!0}function gq(t,e){let r=(0,Un.NumberIsNaN)(t),n=(0,Un.NumberIsNaN)(e);if(r&&n)return 0;if(r)return 1;if(n||t<e)return-1;if(t>e)return 1;if(t===0&&e===0){let i=(0,Un.ObjectIs)(t,0),s=(0,Un.ObjectIs)(e,0);if(!i&&s)return-1;if(i&&!s)return 1}return 0}});var Kb=de(Nd=>{"use strict";x();Object.defineProperty(Nd,"__esModule",{value:!0});Nd.isFloat16Array=Is;var Ua=Wb(),Pd=_O(),ct=Rd(),Jr=_f(),Jt=gf(),ce=Lo(),Qt=IO(),Yb=2,Id=new ce.NativeWeakMap;function Is(t){return(0,ce.WeakMapPrototypeHas)(Id,t)||!(0,ce.ArrayBufferIsView)(t)&&(0,Pd.hasFloat16ArrayBrand)(t)}function At(t){if(!Is(t))throw(0,ce.NativeTypeError)(Jt.THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT)}function Od(t,e){let r=Is(t),n=(0,Jr.isNativeTypedArray)(t);if(!r&&!n)throw(0,ce.NativeTypeError)(Jt.SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT);if(typeof e=="number"){let i;if(r){let s=it(t);i=(0,ce.TypedArrayPrototypeGetLength)(s)}else i=(0,ce.TypedArrayPrototypeGetLength)(t);if(i<e)throw(0,ce.NativeTypeError)(Jt.DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH)}if((0,Jr.isNativeBigIntTypedArray)(t))throw(0,ce.NativeTypeError)(Jt.CANNOT_MIX_BIGINT_AND_OTHER_TYPES)}function it(t){let e=(0,ce.WeakMapPrototypeGet)(Id,t);if(e!==void 0){let i=(0,ce.TypedArrayPrototypeGetBuffer)(e);if((0,Qt.IsDetachedBuffer)(i))throw(0,ce.NativeTypeError)(Jt.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);return e}let r=t.buffer;if((0,Qt.IsDetachedBuffer)(r))throw(0,ce.NativeTypeError)(Jt.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);let n=(0,ce.ReflectConstruct)(Bo,[r,t.byteOffset,t.length],t.constructor);return(0,ce.WeakMapPrototypeGet)(Id,n)}function CO(t){let e=(0,ce.TypedArrayPrototypeGetLength)(t),r=[];for(let n=0;n<e;++n)r[n]=(0,ct.convertToNumber)(t[n]);return r}var NO=new ce.NativeWeakSet;for(let t of(0,ce.ReflectOwnKeys)(ce.TypedArrayPrototype)){if(t===ce.SymbolToStringTag)continue;let e=(0,ce.ReflectGetOwnPropertyDescriptor)(ce.TypedArrayPrototype,t);(0,ce.ObjectHasOwn)(e,"get")&&typeof e.get=="function"&&(0,ce.WeakSetPrototypeAdd)(NO,e.get)}var bq=(0,ce.ObjectFreeze)({get(t,e,r){return(0,Jr.isCanonicalIntegerIndexString)(e)&&(0,ce.ObjectHasOwn)(t,e)?(0,ct.convertToNumber)((0,ce.ReflectGet)(t,e)):(0,ce.WeakSetPrototypeHas)(NO,(0,ce.ObjectPrototype__lookupGetter__)(t,e))?(0,ce.ReflectGet)(t,e):(0,ce.ReflectGet)(t,e,r)},set(t,e,r,n){return(0,Jr.isCanonicalIntegerIndexString)(e)&&(0,ce.ObjectHasOwn)(t,e)?(0,ce.ReflectSet)(t,e,(0,ct.roundToFloat16Bits)(r)):(0,ce.ReflectSet)(t,e,r,n)},getOwnPropertyDescriptor(t,e){if((0,Jr.isCanonicalIntegerIndexString)(e)&&(0,ce.ObjectHasOwn)(t,e)){let r=(0,ce.ReflectGetOwnPropertyDescriptor)(t,e);return r.value=(0,ct.convertToNumber)(r.value),r}return(0,ce.ReflectGetOwnPropertyDescriptor)(t,e)},defineProperty(t,e,r){return(0,Jr.isCanonicalIntegerIndexString)(e)&&(0,ce.ObjectHasOwn)(t,e)&&(0,ce.ObjectHasOwn)(r,"value")&&(r.value=(0,ct.roundToFloat16Bits)(r.value)),(0,ce.ReflectDefineProperty)(t,e,r)}}),Bo=class t{constructor(e,r,n){let i;if(Is(e))i=(0,ce.ReflectConstruct)(ce.NativeUint16Array,[it(e)],new.target);else if((0,Jr.isObject)(e)&&!(0,Jr.isAnyArrayBuffer)(e)){let o,a;if((0,Jr.isNativeTypedArray)(e)){o=e,a=(0,ce.TypedArrayPrototypeGetLength)(e);let u=(0,ce.TypedArrayPrototypeGetBuffer)(e);if((0,Qt.IsDetachedBuffer)(u))throw(0,ce.NativeTypeError)(Jt.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);if((0,Jr.isNativeBigIntTypedArray)(e))throw(0,ce.NativeTypeError)(Jt.CANNOT_MIX_BIGINT_AND_OTHER_TYPES);let c=new ce.NativeArrayBuffer(a*Yb);i=(0,ce.ReflectConstruct)(ce.NativeUint16Array,[c],new.target)}else{let u=e[ce.SymbolIterator];if(u!=null&&typeof u!="function")throw(0,ce.NativeTypeError)(Jt.ITERATOR_PROPERTY_IS_NOT_CALLABLE);u!=null?(0,Jr.isOrdinaryArray)(e)?(o=e,a=e.length):(o=[...e],a=o.length):(o=e,a=(0,Qt.ToLength)(o.length)),i=(0,ce.ReflectConstruct)(ce.NativeUint16Array,[a],new.target)}for(let u=0;u<a;++u)i[u]=(0,ct.roundToFloat16Bits)(o[u])}else i=(0,ce.ReflectConstruct)(ce.NativeUint16Array,arguments,new.target);let s=new ce.NativeProxy(i,bq);return(0,ce.WeakMapPrototypeSet)(Id,s,i),s}static from(e,...r){let n=this;if(!(0,ce.ReflectHas)(n,Pd.brand))throw(0,ce.NativeTypeError)(Jt.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY);if(n===t){if(Is(e)&&r.length===0){let l=it(e),p=new ce.NativeUint16Array((0,ce.TypedArrayPrototypeGetBuffer)(l),(0,ce.TypedArrayPrototypeGetByteOffset)(l),(0,ce.TypedArrayPrototypeGetLength)(l));return new t((0,ce.TypedArrayPrototypeGetBuffer)((0,ce.TypedArrayPrototypeSlice)(p)))}if(r.length===0)return new t((0,ce.TypedArrayPrototypeGetBuffer)((0,ce.Uint16ArrayFrom)(e,ct.roundToFloat16Bits)));let u=r[0],c=r[1];return new t((0,ce.TypedArrayPrototypeGetBuffer)((0,ce.Uint16ArrayFrom)(e,function(l,...p){return(0,ct.roundToFloat16Bits)((0,ce.ReflectApply)(u,this,[l,...(0,Ua.safeIfNeeded)(p)]))},c)))}let i,s,o=e[ce.SymbolIterator];if(o!=null&&typeof o!="function")throw(0,ce.NativeTypeError)(Jt.ITERATOR_PROPERTY_IS_NOT_CALLABLE);if(o!=null)(0,Jr.isOrdinaryArray)(e)?(i=e,s=e.length):(0,Jr.isOrdinaryNativeTypedArray)(e)?(i=e,s=(0,ce.TypedArrayPrototypeGetLength)(e)):(i=[...e],s=i.length);else{if(e==null)throw(0,ce.NativeTypeError)(Jt.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);i=(0,ce.NativeObject)(e),s=(0,Qt.ToLength)(i.length)}let a=new n(s);if(r.length===0)for(let u=0;u<s;++u)a[u]=i[u];else{let u=r[0],c=r[1];for(let l=0;l<s;++l)a[l]=(0,ce.ReflectApply)(u,c,[i[l],l])}return a}static of(...e){let r=this;if(!(0,ce.ReflectHas)(r,Pd.brand))throw(0,ce.NativeTypeError)(Jt.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY);let n=e.length;if(r===t){let s=new t(n),o=it(s);for(let a=0;a<n;++a)o[a]=(0,ct.roundToFloat16Bits)(e[a]);return s}let i=new r(n);for(let s=0;s<n;++s)i[s]=e[s];return i}keys(){At(this);let e=it(this);return(0,ce.TypedArrayPrototypeKeys)(e)}values(){At(this);let e=it(this);return(0,Ua.wrap)(function*(){for(let r of(0,ce.TypedArrayPrototypeValues)(e))yield(0,ct.convertToNumber)(r)}())}entries(){At(this);let e=it(this);return(0,Ua.wrap)(function*(){for(let[r,n]of(0,ce.TypedArrayPrototypeEntries)(e))yield[r,(0,ct.convertToNumber)(n)]}())}at(e){At(this);let r=it(this),n=(0,ce.TypedArrayPrototypeGetLength)(r),i=(0,Qt.ToIntegerOrInfinity)(e),s=i>=0?i:n+i;if(!(s<0||s>=n))return(0,ct.convertToNumber)(r[s])}with(e,r){At(this);let n=it(this),i=(0,ce.TypedArrayPrototypeGetLength)(n),s=(0,Qt.ToIntegerOrInfinity)(e),o=s>=0?s:i+s,a=+r;if(o<0||o>=i)throw(0,ce.NativeRangeError)(Jt.OFFSET_IS_OUT_OF_BOUNDS);let u=new ce.NativeUint16Array((0,ce.TypedArrayPrototypeGetBuffer)(n),(0,ce.TypedArrayPrototypeGetByteOffset)(n),(0,ce.TypedArrayPrototypeGetLength)(n)),c=new t((0,ce.TypedArrayPrototypeGetBuffer)((0,ce.TypedArrayPrototypeSlice)(u))),l=it(c);return l[o]=(0,ct.roundToFloat16Bits)(a),c}map(e,...r){At(this);let n=it(this),i=(0,ce.TypedArrayPrototypeGetLength)(n),s=r[0],o=(0,Qt.SpeciesConstructor)(n,t);if(o===t){let u=new t(i),c=it(u);for(let l=0;l<i;++l){let p=(0,ct.convertToNumber)(n[l]);c[l]=(0,ct.roundToFloat16Bits)((0,ce.ReflectApply)(e,s,[p,l,this]))}return u}let a=new o(i);Od(a,i);for(let u=0;u<i;++u){let c=(0,ct.convertToNumber)(n[u]);a[u]=(0,ce.ReflectApply)(e,s,[c,u,this])}return a}filter(e,...r){At(this);let n=it(this),i=(0,ce.TypedArrayPrototypeGetLength)(n),s=r[0],o=[];for(let c=0;c<i;++c){let l=(0,ct.convertToNumber)(n[c]);(0,ce.ReflectApply)(e,s,[l,c,this])&&(0,ce.ArrayPrototypePush)(o,l)}let a=(0,Qt.SpeciesConstructor)(n,t),u=new a(o);return Od(u),u}reduce(e,...r){At(this);let n=it(this),i=(0,ce.TypedArrayPrototypeGetLength)(n);if(i===0&&r.length===0)throw(0,ce.NativeTypeError)(Jt.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE);let s,o;r.length===0?(s=(0,ct.convertToNumber)(n[0]),o=1):(s=r[0],o=0);for(let a=o;a<i;++a)s=e(s,(0,ct.convertToNumber)(n[a]),a,this);return s}reduceRight(e,...r){At(this);let n=it(this),i=(0,ce.TypedArrayPrototypeGetLength)(n);if(i===0&&r.length===0)throw(0,ce.NativeTypeError)(Jt.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE);let s,o;r.length===0?(s=(0,ct.convertToNumber)(n[i-1]),o=i-2):(s=r[0],o=i-1);for(let a=o;a>=0;--a)s=e(s,(0,ct.convertToNumber)(n[a]),a,this);return s}forEach(e,...r){At(this);let n=it(this),i=(0,ce.TypedArrayPrototypeGetLength)(n),s=r[0];for(let o=0;o<i;++o)(0,ce.ReflectApply)(e,s,[(0,ct.convertToNumber)(n[o]),o,this])}find(e,...r){At(this);let n=it(this),i=(0,ce.TypedArrayPrototypeGetLength)(n),s=r[0];for(let o=0;o<i;++o){let a=(0,ct.convertToNumber)(n[o]);if((0,ce.ReflectApply)(e,s,[a,o,this]))return a}}findIndex(e,...r){At(this);let n=it(this),i=(0,ce.TypedArrayPrototypeGetLength)(n),s=r[0];for(let o=0;o<i;++o){let a=(0,ct.convertToNumber)(n[o]);if((0,ce.ReflectApply)(e,s,[a,o,this]))return o}return-1}findLast(e,...r){At(this);let n=it(this),i=(0,ce.TypedArrayPrototypeGetLength)(n),s=r[0];for(let o=i-1;o>=0;--o){let a=(0,ct.convertToNumber)(n[o]);if((0,ce.ReflectApply)(e,s,[a,o,this]))return a}}findLastIndex(e,...r){At(this);let n=it(this),i=(0,ce.TypedArrayPrototypeGetLength)(n),s=r[0];for(let o=i-1;o>=0;--o){let a=(0,ct.convertToNumber)(n[o]);if((0,ce.ReflectApply)(e,s,[a,o,this]))return o}return-1}every(e,...r){At(this);let n=it(this),i=(0,ce.TypedArrayPrototypeGetLength)(n),s=r[0];for(let o=0;o<i;++o)if(!(0,ce.ReflectApply)(e,s,[(0,ct.convertToNumber)(n[o]),o,this]))return!1;return!0}some(e,...r){At(this);let n=it(this),i=(0,ce.TypedArrayPrototypeGetLength)(n),s=r[0];for(let o=0;o<i;++o)if((0,ce.ReflectApply)(e,s,[(0,ct.convertToNumber)(n[o]),o,this]))return!0;return!1}set(e,...r){At(this);let n=it(this),i=(0,Qt.ToIntegerOrInfinity)(r[0]);if(i<0)throw(0,ce.NativeRangeError)(Jt.OFFSET_IS_OUT_OF_BOUNDS);if(e==null)throw(0,ce.NativeTypeError)(Jt.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);if((0,Jr.isNativeBigIntTypedArray)(e))throw(0,ce.NativeTypeError)(Jt.CANNOT_MIX_BIGINT_AND_OTHER_TYPES);if(Is(e))return(0,ce.TypedArrayPrototypeSet)(it(this),it(e),i);if((0,Jr.isNativeTypedArray)(e)){let u=(0,ce.TypedArrayPrototypeGetBuffer)(e);if((0,Qt.IsDetachedBuffer)(u))throw(0,ce.NativeTypeError)(Jt.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER)}let s=(0,ce.TypedArrayPrototypeGetLength)(n),o=(0,ce.NativeObject)(e),a=(0,Qt.ToLength)(o.length);if(i===1/0||a+i>s)throw(0,ce.NativeRangeError)(Jt.OFFSET_IS_OUT_OF_BOUNDS);for(let u=0;u<a;++u)n[u+i]=(0,ct.roundToFloat16Bits)(o[u])}reverse(){At(this);let e=it(this);return(0,ce.TypedArrayPrototypeReverse)(e),this}toReversed(){At(this);let e=it(this),r=new ce.NativeUint16Array((0,ce.TypedArrayPrototypeGetBuffer)(e),(0,ce.TypedArrayPrototypeGetByteOffset)(e),(0,ce.TypedArrayPrototypeGetLength)(e)),n=new t((0,ce.TypedArrayPrototypeGetBuffer)((0,ce.TypedArrayPrototypeSlice)(r))),i=it(n);return(0,ce.TypedArrayPrototypeReverse)(i),n}fill(e,...r){At(this);let n=it(this);return(0,ce.TypedArrayPrototypeFill)(n,(0,ct.roundToFloat16Bits)(e),...(0,Ua.safeIfNeeded)(r)),this}copyWithin(e,r,...n){At(this);let i=it(this);return(0,ce.TypedArrayPrototypeCopyWithin)(i,e,r,...(0,Ua.safeIfNeeded)(n)),this}sort(e){At(this);let r=it(this),n=e!==void 0?e:Qt.defaultCompare;return(0,ce.TypedArrayPrototypeSort)(r,(i,s)=>n((0,ct.convertToNumber)(i),(0,ct.convertToNumber)(s))),this}toSorted(e){At(this);let r=it(this);if(e!==void 0&&typeof e!="function")throw new ce.NativeTypeError(Jt.THE_COMPARISON_FUNCTION_MUST_BE_EITHER_A_FUNCTION_OR_UNDEFINED);let n=e!==void 0?e:Qt.defaultCompare,i=new ce.NativeUint16Array((0,ce.TypedArrayPrototypeGetBuffer)(r),(0,ce.TypedArrayPrototypeGetByteOffset)(r),(0,ce.TypedArrayPrototypeGetLength)(r)),s=new t((0,ce.TypedArrayPrototypeGetBuffer)((0,ce.TypedArrayPrototypeSlice)(i))),o=it(s);return(0,ce.TypedArrayPrototypeSort)(o,(a,u)=>n((0,ct.convertToNumber)(a),(0,ct.convertToNumber)(u))),s}slice(e,r){At(this);let n=it(this),i=(0,Qt.SpeciesConstructor)(n,t);if(i===t){let b=new ce.NativeUint16Array((0,ce.TypedArrayPrototypeGetBuffer)(n),(0,ce.TypedArrayPrototypeGetByteOffset)(n),(0,ce.TypedArrayPrototypeGetLength)(n));return new t((0,ce.TypedArrayPrototypeGetBuffer)((0,ce.TypedArrayPrototypeSlice)(b,e,r)))}let s=(0,ce.TypedArrayPrototypeGetLength)(n),o=(0,Qt.ToIntegerOrInfinity)(e),a=r===void 0?s:(0,Qt.ToIntegerOrInfinity)(r),u;o===-1/0?u=0:o<0?u=s+o>0?s+o:0:u=s<o?s:o;let c;a===-1/0?c=0:a<0?c=s+a>0?s+a:0:c=s<a?s:a;let l=c-u>0?c-u:0,p=new i(l);if(Od(p,l),l===0)return p;let h=(0,ce.TypedArrayPrototypeGetBuffer)(n);if((0,Qt.IsDetachedBuffer)(h))throw(0,ce.NativeTypeError)(Jt.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);let y=0;for(;u<c;)p[y]=(0,ct.convertToNumber)(n[u]),++u,++y;return p}subarray(e,r){At(this);let n=it(this),i=(0,Qt.SpeciesConstructor)(n,t),s=new ce.NativeUint16Array((0,ce.TypedArrayPrototypeGetBuffer)(n),(0,ce.TypedArrayPrototypeGetByteOffset)(n),(0,ce.TypedArrayPrototypeGetLength)(n)),o=(0,ce.TypedArrayPrototypeSubarray)(s,e,r),a=new i((0,ce.TypedArrayPrototypeGetBuffer)(o),(0,ce.TypedArrayPrototypeGetByteOffset)(o),(0,ce.TypedArrayPrototypeGetLength)(o));return Od(a),a}indexOf(e,...r){At(this);let n=it(this),i=(0,ce.TypedArrayPrototypeGetLength)(n),s=(0,Qt.ToIntegerOrInfinity)(r[0]);if(s===1/0)return-1;s<0&&(s+=i,s<0&&(s=0));for(let o=s;o<i;++o)if((0,ce.ObjectHasOwn)(n,o)&&(0,ct.convertToNumber)(n[o])===e)return o;return-1}lastIndexOf(e,...r){At(this);let n=it(this),i=(0,ce.TypedArrayPrototypeGetLength)(n),s=r.length>=1?(0,Qt.ToIntegerOrInfinity)(r[0]):i-1;if(s===-1/0)return-1;s>=0?s=s<i-1?s:i-1:s+=i;for(let o=s;o>=0;--o)if((0,ce.ObjectHasOwn)(n,o)&&(0,ct.convertToNumber)(n[o])===e)return o;return-1}includes(e,...r){At(this);let n=it(this),i=(0,ce.TypedArrayPrototypeGetLength)(n),s=(0,Qt.ToIntegerOrInfinity)(r[0]);if(s===1/0)return!1;s<0&&(s+=i,s<0&&(s=0));let o=(0,ce.NumberIsNaN)(e);for(let a=s;a<i;++a){let u=(0,ct.convertToNumber)(n[a]);if(o&&(0,ce.NumberIsNaN)(u)||u===e)return!0}return!1}join(e){At(this);let r=it(this),n=CO(r);return(0,ce.ArrayPrototypeJoin)(n,e)}toLocaleString(...e){At(this);let r=it(this),n=CO(r);return(0,ce.ArrayPrototypeToLocaleString)(n,...(0,Ua.safeIfNeeded)(e))}get[ce.SymbolToStringTag](){if(Is(this))return"Float16Array"}};Nd.Float16Array=Bo;(0,ce.ObjectDefineProperty)(Bo,"BYTES_PER_ELEMENT",{value:Yb});(0,ce.ObjectDefineProperty)(Bo,Pd.brand,{});(0,ce.ReflectSetPrototypeOf)(Bo,ce.TypedArray);var Cd=Bo.prototype;(0,ce.ObjectDefineProperty)(Cd,"BYTES_PER_ELEMENT",{value:Yb});(0,ce.ObjectDefineProperty)(Cd,ce.SymbolIterator,{value:Cd.values,writable:!0,configurable:!0});(0,ce.ReflectSetPrototypeOf)(Cd,ce.TypedArrayPrototype)});var xO=de(Jb=>{"use strict";x();Object.defineProperty(Jb,"__esModule",{value:!0});Jb.isTypedArray=vq;var _q=Kb(),wq=_f();function vq(t){return(0,wq.isNativeTypedArray)(t)||(0,_q.isFloat16Array)(t)}});var jO=de(xd=>{"use strict";x();Object.defineProperty(xd,"__esModule",{value:!0});xd.getFloat16=Eq;xd.setFloat16=Sq;var MO=Wb(),LO=Rd(),BO=Lo();function Eq(t,e,...r){return(0,LO.convertToNumber)((0,BO.DataViewPrototypeGetUint16)(t,e,...(0,MO.safeIfNeeded)(r)))}function Sq(t,e,r,...n){return(0,BO.DataViewPrototypeSetUint16)(t,e,(0,LO.roundToFloat16Bits)(r),...(0,MO.safeIfNeeded)(n))}});var UO=de(Xb=>{"use strict";x();Object.defineProperty(Xb,"__esModule",{value:!0});Xb.f16round=Aq;var Tq=Rd();function Aq(t){return(0,Tq.roundToFloat16)(t)}});var qO=de(to=>{"use strict";x();Object.defineProperty(to,"__esModule",{value:!0});var kO=Kb();to.Float16Array=kO.Float16Array;to.isFloat16Array=kO.isFloat16Array;var $q=xO();to.isTypedArray=$q.isTypedArray;var DO=jO();to.getFloat16=DO.getFloat16;to.setFloat16=DO.setFloat16;var FO=UO();to.f16round=FO.f16round;to.hfround=FO.f16round});var Zb=de(Md=>{"use strict";x();Object.defineProperty(Md,"__esModule",{value:!0});Md.Endianness=void 0;var WO;(function(t){t.BIG_ENDIAN="BIG_ENDIAN",t.LITTLE_ENDIAN="LITTLE_ENDIAN",t.BIG_ENDIAN_BYTE_SWAP="BIG_ENDIAN_BYTE_SWAP",t.LITTLE_ENDIAN_BYTE_SWAP="LITTLE_ENDIAN_BYTE_SWAP"})(WO||(Md.Endianness=WO={}))});var r_=de(t_=>{"use strict";x();Object.defineProperty(t_,"__esModule",{value:!0});var HO=qO(),Rq=Wr(),zO=Zb(),{debug:Qb,warn:vf}=(0,Rq.createLoggers)("core","octetstream-codec"),e_=class{getMediaType(){return"application/octet-stream"}bytesToValue(e,r,n={}){Qb("OctetstreamCodec parsing",e),Qb("Parameters",n);let i=n.length!=null?parseInt(n.length):(vf("Missing 'length' parameter necessary for write. I'll do my best"),void 0);if(i!==void 0){if(isNaN(i)||i<0)throw new Error("'length' parameter must be a non-negative number");if(i!==e.length)throw new Error(`Lengths do not match, required: ${i} provided: ${e.length}`)}let s=!0;if(n.signed!==void 0){if(n.signed!=="true"&&n.signed!=="false")throw new Error("'signed' parameter must be 'true' or 'false'");s=n.signed==="true"}let o=r?.["ex:bitLength"]!==void 0?parseInt(r["ex:bitLength"]):e.length*8;if(isNaN(o)||o<0)throw new Error("'ex:bitLength' must be a non-negative number");let a=r?.["ex:bitOffset"]!==void 0?parseInt(r["ex:bitOffset"]):0;if(isNaN(a)||a<0)throw new Error("'ex:bitOffset' must be a non-negative number");let u=n.byteSeq?.includes(zO.Endianness.LITTLE_ENDIAN)!==!0,c=r?.type;if(!c)throw new Error("Missing 'type' property in schema");if(/(short|(u)?int(8|16|32)?$|float(16|32|64)?|byte)/.test(c.toLowerCase())){let l=/(u)?(short|int|float|byte)(8|16|32|64)?/.exec(c.toLowerCase());if(l){if(l[1]==="u"){if(n?.signed==="true")throw new Error("Type is unsigned but 'signed' is true");s=!1}if(c=l[2],parseInt(l[3])!==o)throw new Error(`Type is '${(l[1]??"")+l[2]+l[3]}' but 'ex:bitLength' is `+o)}}if(o>e.length*8-a)throw new Error(`'ex:bitLength' is ${o}, but buffer length at offset ${a} is ${e.length*8-a}`);switch(n?.byteSeq?.includes("BYTE_SWAP")===!0&&e.length>1&&e.swap16(),a!==void 0&&o<e.length*8&&(e=this.readBits(e,a,o),o=e.length*8),c){case"boolean":return!e.every(l=>l===0);case"byte":case"short":case"int":case"integer":return this.integerToValue(e,{dataLength:o,bigEndian:u,signed:s});case"float":case"double":case"number":return this.numberToValue(e,{dataLength:o,bigEndian:u});case"string":return e.toString(n.charset);case"object":if(r===void 0||r.properties===void 0)throw new Error("Missing schema for object");return this.objectToValue(e,r,n);case"null":return null;case"array":default:throw new Error("Unable to handle dataType "+c)}}integerToValue(e,r){let{dataLength:n,bigEndian:i,signed:s}=r;switch(n){case 8:return s?e.readInt8(0):e.readUInt8(0);case 16:return i?s?e.readInt16BE(0):e.readUInt16BE(0):s?e.readInt16LE(0):e.readUInt16LE(0);case 32:return i?s?e.readInt32BE(0):e.readUInt32BE(0):s?e.readInt32LE(0):e.readUInt32LE(0);default:{let o=i?s?e.readIntBE(0,n/8):e.readUIntBE(0,n/8):s?e.readIntLE(0,n/8):e.readUIntLE(0,n/8);return Number.isSafeInteger(o)||vf("Result is not a safe integer"),o}}}numberToValue(e,r){let{dataLength:n,bigEndian:i}=r;switch(n){case 16:return(0,HO.getFloat16)(new DataView(e.buffer),e.byteOffset,!i);case 32:return i?e.readFloatBE(0):e.readFloatLE(0);case 64:return i?e.readDoubleBE(0):e.readDoubleLE(0);default:throw new Error("Wrong buffer length for type 'number', must be 16, 32, or 64 is "+n)}}objectToValue(e,r,n={}){if(r?.type!=="object")throw new Error("Schema must be of type 'object'");let i={},s=Object.getOwnPropertyNames(r.properties);for(let o of s){let a=r.properties[o],u=e.length.toString();i[o]=this.bytesToValue(e,a,{...n,length:u})}return i}valueToBytes(e,r,n={}){Qb(`OctetstreamCodec serializing '${e}'`);let i=n.byteSeq?.includes(zO.Endianness.LITTLE_ENDIAN)!==!0,s=!0;if(n.signed!==void 0){if(n.signed!=="true"&&n.signed!=="false")throw new Error("'signed' parameter must be 'true' or 'false'");s=n.signed==="true"}let o=n.length!=null?parseInt(n.length):(vf("Missing 'length' parameter necessary for write. I'll do my best"),void 0);if(o!==void 0&&(isNaN(o)||o<0))throw new Error("'length' parameter must be a non-negative number");let a=r?.["ex:bitLength"]!==void 0?parseInt(r["ex:bitLength"]):void 0;if(a!==void 0&&(isNaN(a)||a<0))throw new Error("'ex:bitLength' must be a non-negative number");let u=r?.["ex:bitOffset"]!==void 0?parseInt(r["ex:bitOffset"]):0;if(isNaN(u)||u<0)throw new Error("'ex:bitOffset' must be a non-negative number");let c=r?.type??void 0;if(e===void 0)throw new Error("Undefined value");if(c===void 0)throw new Error("Missing 'type' property in schema");if(/(short|(u)?int(8|16|32)?$|float(16|32|64)?|byte)/.test(c.toLowerCase())){let l=/(u)?(short|int|float|byte)(8|16|32|64)?/.exec(c.toLowerCase());if(l){if(l[1]==="u"){if(n?.signed==="true")throw new Error("Type is unsigned but 'signed' is true");s=!1}if(c=l[2],a!==void 0){if(parseInt(l[3])!==a)throw new Error(`Type is '${(l[1]??"")+l[2]+l[3]}' but 'ex:bitLength' is `+a)}else a=+l[3]}}if(o===void 0)a!==void 0&&(o=Math.ceil((u+a)/8)),vf("Missing 'length' parameter necessary for write. I'll do my best");else if(a===void 0)a=o*8;else if(o*8<a+u)throw new Error("Length is too short for 'ex:bitLength' and 'ex:bitOffset'");switch(c){case"boolean":if(e===!0){let l=oe.alloc(o??1,0);for(let p=u;p<u+(a??l.length*8);++p)l[Math.floor(p/8)]|=1<<7-p%8;return l}else return oe.alloc(o??1,0);case"byte":case"short":case"int":case"integer":return this.valueToInteger(e,{bitLength:a,byteLength:o,bigEndian:i,offset:u,signed:s,byteSeq:n.byteSeq??""});case"float":case"number":return this.valueToNumber(e,{bitLength:a,byteLength:o,bigEndian:i,offset:u,byteSeq:n.byteSeq??""});case"string":return this.valueToString(e,{bitLength:a,byteLength:o,offset:u,charset:n.charset??"utf8"});case"object":if(r===void 0||r.properties===void 0)throw new Error("Missing schema for object");return e===null?oe.alloc(0):this.valueToObject(e,r,n);case"array":case"undefined":throw new Error("Unable to handle dataType "+c);case"null":return oe.alloc(0);default:throw new Error("Unable to handle dataType "+c)}}valueToInteger(e,r){let n=r.bitLength??32,i=r.offset??0,s=r.byteLength??Math.ceil((i+n)/8),{bigEndian:o,signed:a,byteSeq:u}=r;if(typeof e!="number")throw new Error("Value is not a number");Number.isSafeInteger(e)||vf("Value is not a safe integer",e);let c=Math.pow(2,a?n-1:n)-1;if(a){if(e<-c-1||e>c)throw new Error("Integer overflow when representing "+e+" as a signed integer using "+n+" bit(s)")}else if(e<0||e>c)throw new Error("Integer overflow when representing "+e+" as an unsigned integer using "+n+" bit(s)");let l=oe.alloc(s);if(i!==0)return this.writeBits(l,e,i,n,o),l;switch(u?.includes("BYTE_SwAP")&&s>1&&l.swap16(),s){case 1:a?l.writeInt8(e,0):l.writeUInt8(e,0);break;case 2:o?a?l.writeInt16BE(e,0):l.writeUInt16BE(e,0):a?l.writeInt16LE(e,0):l.writeUInt16LE(e,0);break;case 4:o?a?l.writeInt32BE(e,0):l.writeUInt32BE(e,0):a?l.writeInt32LE(e,0):l.writeUInt32LE(e,0);break;default:a&&e<0&&(e+=1<<8*n);for(let p=0;p<s;++p){let h=e%256;e/=256,l.writeInt8(h,o?s-p-1:p)}}return l}valueToNumber(e,r){if(typeof e!="number")throw new Error("Value is not a number");let n=r.bitLength??(r.byteLength!==void 0?r.byteLength*8:32),i=r.offset??0,{bigEndian:s,byteSeq:o}=r,a=r.byteLength??Math.ceil((i+n)/8),u=Math.floor(i/8),c=oe.alloc(a);if(i%8!==0)throw new Error("Offset must be a multiple of 8");switch(o&&a>1&&c.swap16(),n){case 16:(0,HO.setFloat16)(new DataView(c.buffer),u,e,!s);break;case 32:s?c.writeFloatBE(e,u):c.writeFloatLE(e,0);break;case 64:s?c.writeDoubleBE(e,u):c.writeDoubleLE(e,0);break;default:throw new Error("Wrong buffer length for type 'number', must be 16, 32, or 64 is "+n)}return c}valueToString(e,r){if(typeof e!="string")throw new Error("Value is not a string");let n=r.offset??0,{charset:i}=r,s=String(e);if(!oe.isEncoding(i))throw new Error("Invalid charset "+i);let o=oe.from(s,i),a=r.bitLength??o.length*8;if(o.length>a)throw new Error(`String is ${o.length*8} bits long, but 'ex:bitLength' is ${a}`);let u=r.byteLength??Math.ceil((n+a)/8);if(n%8===0)return oe.concat([oe.alloc(u-a/8),o]);{let c=oe.alloc(u);return this.copyBits(o,0,c,n,a),c}}valueToObject(e,r,n={},i){if(typeof e!="object"||e===null)throw new Error("Value is not an object");if(n.length===void 0)throw new Error("Missing 'length' parameter necessary for write");let s=parseInt(n.length),o=r["ex:bitOffset"]!==void 0?parseInt(r["ex:bitOffset"]):0;if(isNaN(o)||o<0)throw new Error("'ex:bitOffset' must be a non-negative number");if(o>s*8)throw new Error(`'ex:bitOffset' ${o} exceeds 'length' ${s}`);i=i??oe.alloc(s);for(let[a,u]of Object.entries(r.properties)){if(Object.hasOwnProperty.call(e,a)===!1)throw new Error(`Missing property '${a}'`);let c=e[a],l=parseInt(u["ex:bitOffset"]),p=parseInt(u["ex:bitLength"]),h;u.type==="object"?h=this.valueToObject(c,u,n,i):h=this.valueToBytes(c,u,n),this.copyBits(h,l,i,o+l,p)}return i}readBits(e,r,n){if(r<0)throw new Error("bitOffset must be >= 0");if(n<0)throw new Error("bitLength must be >= 0");if(r+n>e.length*8)throw new Error("bitOffset + bitLength must be <= buffer.length * 8");let i=oe.alloc(Math.ceil(n/8)),s=Math.floor(r/8),o=r%8,a=e[s],u=0,c=0;for(let l=0;l<n;l++){let p=a>>7-o&1;u=u<<1|p,o++,o>7&&(s++,o=0,a=e[s]),(l+1===n%8||(l+1)%8===n%8||l===n-1)&&(i[c]=u,u=0,c++)}return i}writeBits(e,r,n,i,s){let o=Math.floor(n/8),a=n%8;for(let u=0;u<i;u++){let c=s?r>>i-1-u&1:r>>u&1;e[o]|=c<<(s?7-a:a),a++,a===8&&(a=0,o++)}}copyBits(e,r,n,i,s){if(r%8===0&&i%8===0&&s%8===0)e.copy(n,i/8,r/8,r+s/8);else{let o=this.readBits(e,r,s);if(o.length<=6)this.writeBits(n,o.readUIntBE(0,o.length),i,s,!0);else for(let a=0;a<o.length;a++){let u=o.readUInt8(a);this.writeBits(n,u,i+a*8,8,!0)}}}};t_.default=e_});var Jn=de(Ns=>{"use strict";x();var Ef=Ns&&Ns.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ns,"__esModule",{value:!0});Ns.ContentSerdes=void 0;var VO=cb(),Oq=Ef(Pb()),Ld=Ef(Nb()),ka=Ef(Lb()),n_=Ef(Ub()),Pq=Ef(r_()),Iq=($n(),ht(An)),Cq=Xr(),Nq=ud(),xq=Wr(),{debug:GO,warn:i_}=(0,xq.createLoggers)("core","content-serdes"),Cs=class t{constructor(){this.codecs=new Map,this.offered=new Set}static get(){return this.instance==null&&(this.instance=new t,this.instance.addCodec(new Ld.default,!0),this.instance.addCodec(new Ld.default("application/senml+json")),this.instance.addCodec(new Ld.default("application/td+json")),this.instance.addCodec(new Ld.default("application/ld+json")),this.instance.addCodec(new Oq.default,!0),this.instance.addCodec(new ka.default),this.instance.addCodec(new ka.default("text/html")),this.instance.addCodec(new ka.default("text/css")),this.instance.addCodec(new ka.default("application/xml")),this.instance.addCodec(new ka.default("application/xhtml+xml")),this.instance.addCodec(new ka.default("image/svg+xml")),this.instance.addCodec(new n_.default("image/png")),this.instance.addCodec(new n_.default("image/gif")),this.instance.addCodec(new n_.default("image/jpeg")),this.instance.addCodec(new Pq.default)),this.instance}static getMediaType(e){return e.split(";")[0].trim()}static getMediaTypeParameters(e){let r=e.split(";").slice(1),n={};return r.forEach(i=>{let s=i.indexOf("=");s>=0?n[i.substr(0,s).trim()]=i.substr(s+1).trim():n[i.trim()]=void 0}),n}addCodec(e,r=!1){t.get().codecs.set(e.getMediaType(),e),r&&t.get().offered.add(e.getMediaType())}getSupportedMediaTypes(){return Array.from(t.get().codecs.keys())}getOfferedMediaTypes(){return Array.from(t.get().offered)}isSupported(e){let r=t.getMediaType(e);return this.codecs.has(r)}contentToValue(e,r){if(e.type===void 0)if(e.body.byteLength>0)e.type=t.DEFAULT;else return;let n=t.getMediaType(e.type),i=t.getMediaTypeParameters(e.type);return this.codecs.has(n)?(GO(`ContentSerdes deserializing from ${e.type}`),this.codecs.get(n).bytesToValue(e.body,r,i)):(i_(`ContentSerdes passthrough due to unsupported media type '${n}'`),e.body.toString())}valueToContent(e,r,n=t.DEFAULT){if(e===void 0&&i_("ContentSerdes valueToContent got no value"),e instanceof Nq.ReadableStream)return new VO.Content(n,Cq.ProtocolHelpers.toNodeStream(e));let i,s=t.getMediaType(n),o=t.getMediaTypeParameters(n),a=this.codecs.get(s);return a?(GO(`ContentSerdes serializing to ${n}`),i=a.valueToBytes(e,r,o)):(i_(`ContentSerdes passthrough due to unsupported serialization format '${n}'`),i=oe.from(e===null?"":e.toString())),new VO.Content(n,Iq.Readable.from([i]))}};Ns.ContentSerdes=Cs;Cs.DEFAULT="application/json";Cs.TD="application/td+json";Cs.JSON_LD="application/ld+json";Ns.default=Cs.get()});var QO=de(_i=>{"use strict";x();Object.defineProperty(_i,"__esModule",{value:!0});_i.formatNames=_i.fastFormats=_i.fullFormats=void 0;function Da(t,e){return{validate:t,compare:e}}_i.fullFormats={date:Da(JO,a_),time:Da(XO,u_),"date-time":Da(jq,ZO),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:Dq,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:Gq,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:Fq,int32:{type:"number",validate:Hq},int64:{type:"number",validate:zq},float:{type:"number",validate:KO},double:{type:"number",validate:KO},password:!0,binary:!0};_i.fastFormats={..._i.fullFormats,date:Da(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,a_),time:Da(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u_),"date-time":Da(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,ZO),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i};_i.formatNames=Object.keys(_i.fullFormats);function Mq(t){return t%4===0&&(t%100!==0||t%400===0)}var Lq=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Bq=[0,31,28,31,30,31,30,31,31,30,31,30,31];function JO(t){let e=Lq.exec(t);if(!e)return!1;let r=+e[1],n=+e[2],i=+e[3];return n>=1&&n<=12&&i>=1&&i<=(n===2&&Mq(r)?29:Bq[n])}function a_(t,e){if(t&&e)return t>e?1:t<e?-1:0}var o_=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function XO(t,e){let r=o_.exec(t);if(!r)return!1;let n=+r[1],i=+r[2],s=+r[3],o=r[5];return(n<=23&&i<=59&&s<=59||n===23&&i===59&&s===60)&&(!e||o!=="")}function u_(t,e){if(!(t&&e))return;let r=o_.exec(t),n=o_.exec(e);if(r&&n)return t=r[1]+r[2]+r[3]+(r[4]||""),e=n[1]+n[2]+n[3]+(n[4]||""),t>e?1:t<e?-1:0}var s_=/t|\s/i;function jq(t){let e=t.split(s_);return e.length===2&&JO(e[0])&&XO(e[1],!0)}function ZO(t,e){if(!(t&&e))return;let[r,n]=t.split(s_),[i,s]=e.split(s_),o=a_(r,i);if(o!==void 0)return o||u_(n,s)}var Uq=/\/|:/,kq=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function Dq(t){return Uq.test(t)&&kq.test(t)}var YO=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function Fq(t){return YO.lastIndex=0,YO.test(t)}var qq=-(2**31),Wq=2**31-1;function Hq(t){return Number.isInteger(t)&&t<=Wq&&t>=qq}function zq(t){return Number.isInteger(t)}function KO(){return!0}var Vq=/[^\\]\\Z/;function Gq(t){if(Vq.test(t))return!1;try{return new RegExp(t),!0}catch{return!1}}});var eP=de(Fa=>{"use strict";x();Object.defineProperty(Fa,"__esModule",{value:!0});Fa.formatLimitDefinition=void 0;var Yq=ca(),ei=rt(),jo=ei.operators,Bd={formatMaximum:{okStr:"<=",ok:jo.LTE,fail:jo.GT},formatMinimum:{okStr:">=",ok:jo.GTE,fail:jo.LT},formatExclusiveMaximum:{okStr:"<",ok:jo.LT,fail:jo.GTE},formatExclusiveMinimum:{okStr:">",ok:jo.GT,fail:jo.LTE}},Kq={message:({keyword:t,schemaCode:e})=>ei.str`should be ${Bd[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>ei._`{comparison: ${Bd[t].okStr}, limit: ${e}}`};Fa.formatLimitDefinition={keyword:Object.keys(Bd),type:"string",schemaType:"string",$data:!0,error:Kq,code(t){let{gen:e,data:r,schemaCode:n,keyword:i,it:s}=t,{opts:o,self:a}=s;if(!o.validateFormats)return;let u=new Yq.KeywordCxt(s,a.RULES.all.format.definition,"format");u.$data?c():l();function c(){let h=e.scopeValue("formats",{ref:a.formats,code:o.code.formats}),y=e.const("fmt",ei._`${h}[${u.schemaCode}]`);t.fail$data(ei.or(ei._`typeof ${y} != "object"`,ei._`${y} instanceof RegExp`,ei._`typeof ${y}.compare != "function"`,p(y)))}function l(){let h=u.schema,y=a.formats[h];if(!y||y===!0)return;if(typeof y!="object"||y instanceof RegExp||typeof y.compare!="function")throw new Error(`"${i}": format "${h}" does not define "compare" function`);let b=e.scopeValue("formats",{key:h,ref:y,code:o.code.formats?ei._`${o.code.formats}${ei.getProperty(h)}`:void 0});t.fail$data(p(b))}function p(h){return ei._`${h}.compare(${r}, ${n}) ${Bd[i].fail} 0`}},dependencies:["format"]};var Jq=t=>(t.addKeyword(Fa.formatLimitDefinition),t);Fa.default=Jq});var c_=de((Sf,nP)=>{"use strict";x();Object.defineProperty(Sf,"__esModule",{value:!0});var qa=QO(),Xq=eP(),f_=rt(),tP=new f_.Name("fullFormats"),Zq=new f_.Name("fastFormats"),l_=(t,e={keywords:!0})=>{if(Array.isArray(e))return rP(t,e,qa.fullFormats,tP),t;let[r,n]=e.mode==="fast"?[qa.fastFormats,Zq]:[qa.fullFormats,tP],i=e.formats||qa.formatNames;return rP(t,i,r,n),e.keywords&&Xq.default(t),t};l_.get=(t,e="full")=>{let n=(e==="fast"?qa.fastFormats:qa.fullFormats)[t];if(!n)throw new Error(`Unknown format "${t}"`);return n};function rP(t,e,r,n){var i,s;(i=(s=t.opts.code).formats)!==null&&i!==void 0||(s.formats=f_._`require("ajv-formats/dist/formats").${n}`);for(let o of e)t.addFormat(o,r[o])}nP.exports=Sf=l_;Object.defineProperty(Sf,"__esModule",{value:!0});Sf.default=l_});var iP=de((BZ,Qq)=>{Qq.exports={title:"Thing Description",version:"1.1-09-November-2023",description:"JSON Schema for validating TD instances against the TD information model. TD instances can be with or without terms that have default values",$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/w3c/wot-thing-description/main/validation/td-json-schema-validation.json",definitions:{anyUri:{type:"string"},description:{type:"string"},descriptions:{type:"object",additionalProperties:{type:"string"}},title:{type:"string"},titles:{type:"object",additionalProperties:{type:"string"}},security:{oneOf:[{type:"array",items:{type:"string"},minItems:1},{type:"string"}]},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},subprotocol:{type:"string",examples:["longpoll","websub","sse"]},"thing-context-td-uri-v1":{type:"string",const:"https://www.w3.org/2019/wot/td/v1"},"thing-context-td-uri-v1.1":{type:"string",const:"https://www.w3.org/2022/wot/td/v1.1"},"thing-context-td-uri-temp":{type:"string",const:"http://www.w3.org/ns/td"},"thing-context":{anyOf:[{$comment:"New context URI with other vocabularies after it but not the old one",type:"array",items:[{$ref:"#/definitions/thing-context-td-uri-v1.1"}],additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}],not:{$ref:"#/definitions/thing-context-td-uri-v1"}}},{$comment:"Only the new context URI",$ref:"#/definitions/thing-context-td-uri-v1.1"},{$comment:"Old context URI, followed by the new one and possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"},{$ref:"#/definitions/thing-context-td-uri-v1.1"}],minItems:2,contains:{$ref:"#/definitions/thing-context-td-uri-v1.1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Old context URI, followed by possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"}],minItems:1,contains:{$ref:"#/definitions/thing-context-td-uri-v1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Only the old context URI",$ref:"#/definitions/thing-context-td-uri-v1"}]},bcp47_string:{type:"string",pattern:"^(((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+)|((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)))$"},type_declaration:{oneOf:[{type:"string",not:{const:"tm:ThingModel"}},{type:"array",items:{type:"string",not:{const:"tm:ThingModel"}}}]},"dataSchema-type":{type:"string",enum:["boolean","integer","number","string","object","array","null"]},dataSchema:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},title:{$ref:"#/definitions/title"},descriptions:{$ref:"#/definitions/descriptions"},titles:{$ref:"#/definitions/titles"},writeOnly:{type:"boolean"},readOnly:{type:"boolean"},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{type:"array",minItems:1,uniqueItems:!0},format:{type:"string"},const:{},default:{},contentEncoding:{type:"string"},contentMediaType:{type:"string"},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{type:"integer",minimum:0},minItems:{type:"integer",minimum:0},minimum:{type:"number"},maximum:{type:"number"},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{type:"integer",minimum:0},maxLength:{type:"integer",minimum:0},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{type:"array",items:{type:"string"}}}},additionalResponsesDefinition:{type:"array",items:{type:"object",properties:{contentType:{type:"string"},schema:{type:"string"},success:{type:"boolean"}}}},multipleOfDefinition:{type:["integer","number"],exclusiveMinimum:0},expectedResponse:{type:"object",properties:{contentType:{type:"string"}},required:["contentType"]},form_element_base:{type:"object",properties:{op:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},href:{$ref:"#/definitions/anyUri"},contentType:{type:"string"},contentCoding:{type:"string"},subprotocol:{$ref:"#/definitions/subprotocol"},security:{$ref:"#/definitions/security"},scopes:{$ref:"#/definitions/scopes"},response:{$ref:"#/definitions/expectedResponse"},additionalResponses:{$ref:"#/definitions/additionalResponsesDefinition"}},required:["href"],additionalProperties:!0},form_element_property:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},{type:"array",items:{type:"string",enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},minItems:1}]}},additionalProperties:!0},form_element_action:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["invokeaction","queryaction","cancelaction"]},{type:"array",items:{type:"string",enum:["invokeaction","queryaction","cancelaction"]},minItems:1}]}},additionalProperties:!0},form_element_event:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["subscribeevent","unsubscribeevent"]},{type:"array",items:{type:"string",enum:["subscribeevent","unsubscribeevent"]},minItems:1}]}},additionalProperties:!0},form_element_root:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{type:"array",items:{type:"string",enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},minItems:1}]}},additionalProperties:!0,required:["op"]},form:{$comment:"This is NOT for validation purposes but for automatic generation of TS types. For more info, please see: https://github.com/w3c/wot-thing-description/pull/1319#issuecomment-994950057",oneOf:[{$ref:"#/definitions/form_element_property"},{$ref:"#/definitions/form_element_action"},{$ref:"#/definitions/form_element_event"},{$ref:"#/definitions/form_element_root"}]},property_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_property"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},observable:{type:"boolean"},writeOnly:{type:"boolean"},readOnly:{type:"boolean"},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{type:"array",minItems:1,uniqueItems:!0},format:{type:"string"},const:{},default:{},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{type:"integer",minimum:0},minItems:{type:"integer",minimum:0},minimum:{type:"number"},maximum:{type:"number"},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{type:"integer",minimum:0},maxLength:{type:"integer",minimum:0},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{type:"array",items:{type:"string"}}},required:["forms"],additionalProperties:!0},action_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_action"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},input:{$ref:"#/definitions/dataSchema"},output:{$ref:"#/definitions/dataSchema"},safe:{type:"boolean"},idempotent:{type:"boolean"},synchronous:{type:"boolean"}},required:["forms"],additionalProperties:!0},event_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_event"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},subscription:{$ref:"#/definitions/dataSchema"},data:{$ref:"#/definitions/dataSchema"},dataResponse:{$ref:"#/definitions/dataSchema"},cancellation:{$ref:"#/definitions/dataSchema"}},required:["forms"],additionalProperties:!0},base_link_element:{type:"object",properties:{href:{$ref:"#/definitions/anyUri"},type:{type:"string"},rel:{type:"string"},anchor:{$ref:"#/definitions/anyUri"},hreflang:{anyOf:[{$ref:"#/definitions/bcp47_string"},{type:"array",items:{$ref:"#/definitions/bcp47_string"}}]}},required:["href"],additionalProperties:!0},link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{not:{description:"A basic link element should not contain sizes",type:"object",properties:{sizes:{}},required:["sizes"]}},{not:{description:"A basic link element should not contain icon or tm:extends",properties:{rel:{enum:["icon","tm:extends"]}},required:["rel"]}}]},icon_link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{properties:{rel:{const:"icon"},sizes:{type:"string",pattern:"[0-9]*x[0-9]+"}},required:["rel"]}]},additionalSecurityScheme:{description:"Applies to additional SecuritySchemes not defined in the WoT TD specification.",$comment:"Additional SecuritySchemes should always be defined via a context extension, using a prefixed value for the scheme. This prefix (e.g. 'ace', see the example below) must contain at least one character in order to reference a valid JSON-LD context extension.",examples:[{scheme:"ace:ACESecurityScheme","ace:as":"coaps://as.example.com/token","ace:audience":"coaps://rs.example.com","ace:scopes":["limited","special"],"ace:cnonce":!0}],type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",pattern:".+:.*"}},required:["scheme"],additionalProperties:!0},noSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["nosec"]}},required:["scheme"],additionalProperties:!0},autoSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["auto"]}},not:{required:["name"]},required:["scheme"],additionalProperties:!0},comboSecurityScheme:{oneOf:[{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["combo"]},oneOf:{type:"array",minItems:2,items:{type:"string"}}},required:["scheme","oneOf"],additionalProperties:!0},{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["combo"]},allOf:{type:"array",minItems:2,items:{type:"string"}}},required:["scheme","allOf"],additionalProperties:!0}]},basicSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["basic"]},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},digestSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["digest"]},qop:{type:"string",enum:["auth","auth-int"]},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},apiKeySecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["apikey"]},in:{type:"string",enum:["header","query","body","cookie","uri","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},bearerSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["bearer"]},authorization:{$ref:"#/definitions/anyUri"},alg:{type:"string"},format:{type:"string"},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},pskSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["psk"]},identity:{type:"string"}},required:["scheme"],additionalProperties:!0},oAuth2SecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["oauth2"]},authorization:{$ref:"#/definitions/anyUri"},token:{$ref:"#/definitions/anyUri"},refresh:{$ref:"#/definitions/anyUri"},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},flow:{anyOf:[{type:"string"},{type:"string",enum:["code","client"]}]}},required:["scheme"],additionalProperties:!0},securityScheme:{oneOf:[{$ref:"#/definitions/noSecurityScheme"},{$ref:"#/definitions/autoSecurityScheme"},{$ref:"#/definitions/comboSecurityScheme"},{$ref:"#/definitions/basicSecurityScheme"},{$ref:"#/definitions/digestSecurityScheme"},{$ref:"#/definitions/apiKeySecurityScheme"},{$ref:"#/definitions/bearerSecurityScheme"},{$ref:"#/definitions/pskSecurityScheme"},{$ref:"#/definitions/oAuth2SecurityScheme"},{$ref:"#/definitions/additionalSecurityScheme"}]}},type:"object",properties:{id:{type:"string",format:"uri"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},properties:{type:"object",additionalProperties:{$ref:"#/definitions/property_element"}},actions:{type:"object",additionalProperties:{$ref:"#/definitions/action_element"}},events:{type:"object",additionalProperties:{$ref:"#/definitions/event_element"}},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},version:{type:"object",properties:{instance:{type:"string"}},required:["instance"]},links:{type:"array",items:{oneOf:[{$ref:"#/definitions/link_element"},{$ref:"#/definitions/icon_link_element"}]}},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_root"}},base:{$ref:"#/definitions/anyUri"},securityDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/securityScheme"}},schemaDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/dataSchema"}},support:{$ref:"#/definitions/anyUri"},created:{type:"string",format:"date-time"},modified:{type:"string",format:"date-time"},profile:{oneOf:[{$ref:"#/definitions/anyUri"},{type:"array",minItems:1,items:{$ref:"#/definitions/anyUri"}}]},security:{oneOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},"@type":{$ref:"#/definitions/type_declaration"},"@context":{$ref:"#/definitions/thing-context"}},required:["title","security","securityDefinitions","@context"],additionalProperties:!0}});var za=de(ti=>{"use strict";x();var e8=ti&&ti.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),t8=ti&&ti.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r8=ti&&ti.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var n=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[n.length]=i);return n},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n=t(e),i=0;i<n.length;i++)n[i]!=="default"&&e8(r,e,n[i]);return t8(r,e),r}}(),h_=ti&&ti.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ti,"__esModule",{value:!0});var n8=r8((ov(),ht(iv))),i8=n$(),o8=Gs(),d_=Jn(),s8=h_(ca()),a8=h_(c_()),u8=h_(iP()),f8=Wr(),{debug:Wa,error:oP,warn:l8}=(0,f8.createLoggers)("core","helpers"),c8=u8.default,sP=new s8.default({strict:!1});(0,a8.default)(sP);var Ha=class t{constructor(e){this.srv=e}static extractScheme(e){let r=new URL(e);if(Wa(r),r.protocol===null)throw new Error(`Protocol in url "${e}" must be valid`);let n=r.protocol.slice(0,-1);return Wa(`Helpers found scheme '${n}'`),n}static setStaticAddress(e){t.staticAddress=e}static getAddresses(){let e=[];if(t.staticAddress!==void 0)return e.push(t.staticAddress),Wa(`AddressHelper uses static ${e}`),e;{let r=n8.networkInterfaces();for(let n of Object.values(r))n?.forEach(i=>{Wa(`AddressHelper found ${i.address}`),i.internal===!1&&(i.family==="IPv4"?e.push(i.address):i.scopeid===0&&e.push(t.toUriLiteral(i.address)))});return e.length===0&&e.push("localhost"),Wa(`AddressHelper identified ${e}`),e}}static toUriLiteral(e){return e==null?(oP(`AddressHelper received invalid address '${e}'`),"{invalid address - undefined}"):(e.indexOf(":")!==-1&&(e=`[${e}]`),e)}static generateUniqueName(e){let r=e.match(/.+_([0-9]+)$/);return r!==null?e.slice(0,-r[1].length)+(1+parseInt(r[1])):e+"_2"}static toStringArray(e){return e!=null?typeof e=="string"?[e]:e:[]}static structuredClone(e){return JSON.parse(JSON.stringify(e))}fetch(e){return new Promise((r,n)=>{let i=this.srv.getClientFor(t.extractScheme(e));Wa(`WoTImpl fetching TD from '${e}' with ${i}`),i.readResource(new o8.Form(e,d_.ContentSerdes.TD)).then(async s=>{s.type!==d_.ContentSerdes.TD&&s.type!==d_.ContentSerdes.JSON_LD&&l8(`WoTImpl received TD with media type '${s.type}' from ${e}`);let o=(await s.toBuffer()).toString("utf-8");try{let a=JSON.parse(o);r(a)}catch(a){n(new Error(`WoTImpl fetched invalid JSON from '${e}': ${a instanceof Error?a.message:a}`))}}).then(async s=>(await i.stop(),s)).catch(s=>{n(s)})})}static extend(e,r){let n={};for(let[i,s]of Object.entries(e))n[i]=s;for(let[i,s]of Object.entries(r))Object.prototype.hasOwnProperty.call(n,i)||(n[i]=s);return n}static async parseInteractionOutput(e){try{return await e.value()}catch{throw oP("parseInteractionOutput low-level stream not implemented"),new Error("parseInteractionOutput low-level stream not implemented")}}static createExposeThingInitSchema(e){let r=t.structuredClone(e);if(r.required!==void 0){let n=["title","@context","instance","forms","security","href","securityDefinitions"];if(Array.isArray(r.required)){let i=r.required;r.required=i.filter(s=>!n.includes(s))}else typeof r.required=="string"&&n.indexOf(r.required)!==-1&&delete r.required}if(r.definitions!=null)for(let[n,i]of Object.entries(r.definitions)??[])r.definitions[n]=this.createExposeThingInitSchema(i);return r}static validateExposedThingInit(e){if(e["@type"]==="tm:ThingModel"||i8.ThingModelHelpers.isThingModel(e)===!0)return{valid:!1,errors:"ThingModel declaration is not supported"};let r=t.tsSchemaValidator(e),n;return r||(n=t.tsSchemaValidator.errors?.map(i=>i.message).join(`
`)),{valid:r,errors:n}}static parseInteractionOptions(e,r,n){if(!this.validateInteractionOptions(e,r,n))throw new Error(`CoreHelpers one or more uriVariables were not found under neither '${r.title}' Thing Interaction nor '${e.title}' Thing`);let i=r.uriVariables??{},s=e.uriVariables??{},o={};n?.uriVariables?Object.entries(n.uriVariables).forEach(u=>{(u[0]in i||u[0]in s)&&(o[u[0]]=u[1])}):n={uriVariables:{}};for(let[a,u]of Object.entries(s))!(a in o)&&"default"in u&&(o[a]=u.default);return n.uriVariables=o,n}static validateInteractionOptions(e,r,n){let i=r.uriVariables??{},s=e.uriVariables??{};if(n?.uriVariables){let o=Object.entries(n.uriVariables);for(let a=0;a<o.length;a++){let u=o[a];if(!(u[0]in i)&&!(u[0]in s))return!1}}return!0}static parseUrlParameters(e,r={},n={}){let i={};if(e==null||n==null&&r==null)return i;let s=e.split("?")[1];return s==null||(s.indexOf("&")!==-1?s.split("&"):[s]).forEach(a=>{let u=a.split("="),c=decodeURIComponent(u[0]),l=decodeURIComponent(u.length>1?u[1]:"");n!=null&&n[c]!=null?n[c].type==="integer"||n[c].type==="number"?i[c]=+l:i[c]=l:r!=null&&r[c]!=null&&(r[c].type==="integer"||r[c].type==="number"?i[c]=+l:i[c]=l)}),i}static updateInteractionNameWithUriVariablePattern(e,r={},n={}){let i=encodeURIComponent(e),s=[...Object.keys(r),...Object.keys(n)];if(s.length===0)return i;let o=s.map(encodeURIComponent).join(",");return i+"{?"+o+"}"}};Ha.tsSchemaValidator=sP.compile(Ha.createExposeThingInitSchema(c8));Ha.staticAddress=void 0;ti.default=Ha});var aP=de(Uo=>{"use strict";x();Object.defineProperty(Uo,"__esModule",{value:!0});Uo.DataSchemaError=Uo.NotSupportedError=Uo.NotReadableError=void 0;var p_=class t extends Error{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}};Uo.NotReadableError=p_;var jd=class t extends Error{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}};Uo.NotSupportedError=jd;var y_=class extends Error{constructor(e,r){super(e),this.value=r,Object.setPrototypeOf(this,jd.prototype)}};Uo.DataSchemaError=y_});var b_=de(Mr=>{"use strict";x();var d8=Mr&&Mr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),h8=Mr&&Mr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),p8=Mr&&Mr.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var n=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[n.length]=i);return n},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n=t(e),i=0;i<n.length;i++)n[i]!=="default"&&d8(r,e,n[i]);return h8(r,e),r}}(),kn=Mr&&Mr.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Tf=Mr&&Mr.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},fP=Mr&&Mr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},ro,$f,Va,Rf;Object.defineProperty(Mr,"__esModule",{value:!0});Mr.InteractionOutput=void 0;var y8=p8((sf(),ht(ed))),uP=Jn(),m8=Xr(),Af=aP(),g8=fP(ca()),b8=fP(c_()),_8=Wr(),{debug:m_,warn:w8}=(0,_8.createLoggers)("core","interaction-output"),lP=new g8.default({strict:!1,addUsedSchema:!1});(0,b8.default)(lP);var g_=class{get data(){if(kn(this,Rf,"f"))return kn(this,Rf,"f");if(this.dataUsed)throw new Error("Can't read the stream once it has been already used");return this.dataUsed=!0,Tf(this,Rf,m8.ProtocolHelpers.toWoTStream(kn(this,ro,"f").body),"f")}constructor(e,r,n,i={ignoreValidation:!1}){ro.set(this,void 0),$f.set(this,void 0),Va.set(this,void 0),Rf.set(this,void 0),Tf(this,ro,e,"f"),this.form=r,this.schema=n,this.ignoreValidation=i.ignoreValidation??!1,this.dataUsed=!1}async arrayBuffer(){if(kn(this,Va,"f"))return kn(this,Va,"f");if(this.dataUsed)throw new Error("Can't read the stream once it has been already used");let e=await kn(this,ro,"f").toBuffer();return this.dataUsed=!0,Tf(this,Va,e,"f"),e}async value(){if(this.schema==null){w8("No schema defined. Hence undefined is reported for value() function. If you are invoking an action with no output that is on purpose, otherwise consider using arrayBuffer().");return}if(kn(this,$f,"f")!==void 0)return kn(this,$f,"f");if(this.dataUsed)throw new Af.NotReadableError("Can't read the stream once it has been already used");if(this.form==null)throw new Af.NotReadableError("No form defined");if(this.schema.const==null&&this.schema.enum==null&&this.schema.oneOf==null&&this.schema.type==null)throw new Af.NotReadableError("No schema type defined");if(!uP.ContentSerdes.get().isSupported(kn(this,ro,"f").type)){let i=`Content type ${kn(this,ro,"f").type} not supported`;throw new Af.NotSupportedError(i)}let e=await kn(this,ro,"f").toBuffer();this.dataUsed=!0,Tf(this,Va,e,"f");let r=uP.ContentSerdes.get().contentToValue({type:kn(this,ro,"f").type,body:e},this.schema),n=lP.compile(this.schema);if(!this.ignoreValidation&&!n(r))throw m_(`schema = ${y8.inspect(this.schema,{depth:10,colors:!0})}`),m_(`value: ${r}`),m_(`Error: ${n.errors}`),new Af.DataSchemaError("Invalid value according to DataSchema",r);return Tf(this,$f,r,"f"),r}};Mr.InteractionOutput=g_;ro=new WeakMap,$f=new WeakMap,Va=new WeakMap,Rf=new WeakMap});var dP=de(Of=>{"use strict";x();var v8=Of&&Of.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Of,"__esModule",{value:!0});var cP=v8(Jn()),Ud=class t{constructor(){this.listeners=new Map}register(e,r,n){if(e.forms[r]==null)throw new Error("Can't register the listener for affordance with formIndex. The affordance does not contain the form");let i=this.listeners.get(e);i||(i=new Map,this.listeners.set(e,i));let s=i.get(r);s||(s=[],i.set(r,s)),s.push(n)}unregister(e,r,n){let i=this.listeners.get(e);if(!i)throw new Error("Not found");let s=i.get(r);if(!s)throw new Error("Form not found");let o=s.indexOf(n);if(o<0)throw new Error("Form not found");s.splice(o,1)}unregisterAll(){this.listeners.clear()}notify(e,r,n,i){let s=this.listeners.get(e)??t.EMPTY_MAP;if(i!==void 0){let o=s.get(i);if(o){let a=e.forms[i].contentType,u=cP.default.valueToContent(r,n,a);o.forEach(c=>c(u));return}}for(let[o,a]of s){let u=e.forms[o].contentType,c=cP.default.valueToContent(r,n,u);a.forEach(l=>l(c))}}};Ud.EMPTY_MAP=new Map;Of.default=Ud});var w_=de(Zr=>{"use strict";x();var E8=Zr&&Zr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),S8=Zr&&Zr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),T8=Zr&&Zr.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var n=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[n.length]=i);return n},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n=t(e),i=0;i<n.length;i++)n[i]!=="default"&&E8(r,e,n[i]);return S8(r,e),r}}(),A8=Zr&&Zr.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},wt=Zr&&Zr.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Dd=Zr&&Zr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Lr,kd,wi,Ya,Ka,Pf;Object.defineProperty(Zr,"__esModule",{value:!0});var hP=T8(Gs()),pP=xl(),ko=Dd(za()),yP=b_(),mP=($n(),ht(An)),Ga=Dd(fd()),$8=ud(),R8=Xr(),gP=Dd(Jn()),bP=Dd(dP()),O8=Wr(),{debug:Ar}=(0,O8.createLoggers)("core","exposed-thing"),__=class extends hP.Thing{constructor(e,r={}){super(),Lr.set(this,new Map),kd.set(this,new Map),wi.set(this,new Map),Ya.set(this,new bP.default),Ka.set(this,new bP.default),Pf.set(this,void 0),A8(this,Pf,e,"f"),this.id=r.id??"",this.title=r.title??"",this.security="",this.securityDefinitions={},this.properties={},this.actions={},this.events={};let n=ko.default.structuredClone(r);Object.assign(this,n),(0,pP.setContextLanguage)(this,hP.DEFAULT_CONTEXT_LANGUAGE,!1)}getThingDescription(){return JSON.parse((0,pP.serializeTD)(this))}emitEvent(e,r){if(this.events[e]!=null){let n=this.events[e];wt(this,Ka,"f").notify(n,r,n.data)}else throw new Error("NotFoundError for event '"+e+"'")}async emitPropertyChange(e){if(this.properties[e]!=null){let r=this.properties[e],n=wt(this,Lr,"f").get(e)?.readHandler;if(!n)throw new Error("Can't read property readHandler is not defined. Did you forget to register a readHandler?");let i=await n();wt(this,Ya,"f").notify(r,i,r)}else throw new Error("NotFoundError for property '"+e+"'")}expose(){return Ar(`ExposedThing '${this.title}' exposing all Interactions and TD`),new Promise((e,r)=>{wt(this,Pf,"f").expose(this).then(()=>{e()}).catch(n=>r(n))})}async destroy(){Ar(`ExposedThing '${this.title}' destroying the thing and its interactions`),await wt(this,Pf,"f").destroyThing(this.id),wt(this,Ka,"f").unregisterAll(),wt(this,Ya,"f").unregisterAll(),wt(this,wi,"f").clear(),wt(this,Lr,"f").clear(),wt(this,wi,"f").clear()}setPropertyReadHandler(e,r){if(Ar(`ExposedThing '${this.title}' setting read handler for '${e}'`),this.properties[e]!=null){if(this.properties[e].writeOnly===!0)throw new Error(`ExposedThing '${this.title}' cannot set read handler for property '${e}' due to writeOnly flag`);{let n=wt(this,Lr,"f").get(e);n?n.readHandler=r:n={readHandler:r},wt(this,Lr,"f").set(e,n)}}else throw new Error(`ExposedThing '${this.title}' has no Property '${e}'`);return this}setPropertyWriteHandler(e,r){if(Ar(`ExposedThing '${this.title}' setting write handler for '${e}'`),this.properties[e]!=null){if(this.properties[e].readOnly===!0)throw new Error(`ExposedThing '${this.title}' cannot set write handler for property '${e}' due to readOnly flag`);{let n=wt(this,Lr,"f").get(e);n?n.writeHandler=r:n={writeHandler:r},wt(this,Lr,"f").set(e,n)}}else throw new Error(`ExposedThing '${this.title}' has no Property '${e}'`);return this}setPropertyObserveHandler(e,r){if(Ar(`ExposedThing '${this.title}' setting property observe handler for '${e}'`),this.properties[e]!=null){if(this.properties[e].observable!==!0)throw new Error(`ExposedThing '${this.title}' cannot set observe handler for property '${e}' since the observable flag is set to false`);{let n=wt(this,Lr,"f").get(e);n?n.observeHandler=r:n={observeHandler:r},wt(this,Lr,"f").set(e,n)}}else throw new Error(`ExposedThing '${this.title}' has no Property '${e}'`);return this}setPropertyUnobserveHandler(e,r){if(Ar(`ExposedThing '${this.title}' setting property unobserve handler for '${e}'`),this.properties[e]!=null){if(this.properties[e].observable!==!0)throw new Error(`ExposedThing '${this.title}' cannot set unobserve handler for property '${e}' due to missing observable flag`);{let n=wt(this,Lr,"f").get(e);n?n.unobserveHandler=r:n={unobserveHandler:r},wt(this,Lr,"f").set(e,n)}}else throw new Error(`ExposedThing '${this.title}' has no Property '${e}'`);return this}setActionHandler(e,r){if(Ar(`ExposedThing '${this.title}' setting action handler for '${e}'`),this.actions[e]!=null)wt(this,kd,"f").set(e,r);else throw new Error(`ExposedThing '${this.title}' has no Action '${e}'`);return this}setEventSubscribeHandler(e,r){if(Ar(`ExposedThing '${this.title}' setting event subscribe handler for '${e}'`),this.events[e]!=null){let n=wt(this,wi,"f").get(e);n?n.subscribe=r:n={subscribe:r},wt(this,wi,"f").set(e,n)}else throw new Error(`ExposedThing '${this.title}' has no Event '${e}'`);return this}setEventUnsubscribeHandler(e,r){if(Ar(`ExposedThing '${this.title}' setting event unsubscribe handler for '${e}'`),this.events[e]!=null){let n=wt(this,wi,"f").get(e);n?n.unsubscribe=r:n={unsubscribe:r},wt(this,wi,"f").set(e,n)}else throw new Error(`ExposedThing '${this.title}' has no Event '${e}'`);return this}async handleInvokeAction(e,r,n){if(this.actions[e]!=null){Ar(`ExposedThing '${this.title}' has Action state of '${e}'`);let i=wt(this,kd,"f").get(e);if(i!=null){Ar(`ExposedThing '${this.title}' calls registered handler for Action '${e}'`),ko.default.validateInteractionOptions(this,this.actions[e],n);let s=this.actions[e].forms[n.formIndex]??{contentType:"application/json"},o=await i(new yP.InteractionOutput(r,s,this.actions[e].input),n);if(o!==void 0)return gP.default.valueToContent(o,this.actions[e].output,s.contentType)}else throw new Error(`ExposedThing '${this.title}' has no handler for Action '${e}'`)}else throw new Error(`ExposedThing '${this.title}', no action found for '${e}'`)}async handleReadProperty(e,r){if(this.properties[e]!=null){Ar(`ExposedThing '${this.title}' has Action state of '${e}'`);let n=wt(this,Lr,"f").get(e)?.readHandler;if(n!=null){Ar(`ExposedThing '${this.title}' calls registered readHandler for Property '${e}'`),ko.default.validateInteractionOptions(this,this.properties[e],r);let i=await n(r),s=this.properties[e]?.forms[r.formIndex]??{contentType:"application/json"};return gP.default.valueToContent(i,this.properties[e],s?.contentType??"application/json")}else throw new Error(`ExposedThing '${this.title}' has no readHandler for Property '${e}'`)}else throw new Error(`ExposedThing '${this.title}', no property found for '${e}'`)}async _handleReadProperties(e,r){try{let n=new Map;for(let i of e){if(!this.properties[i].forms.find(a=>a.contentType===R8.ContentSerdes.DEFAULT||a.contentType==null))continue;let o=await this.handleReadProperty(i,r);n.set(i,o)}return n}catch(n){throw new Error(`ConsumedThing '${this.title}', failed to read properties: ${e}.
 Error: ${n}`)}}async handleReadAllProperties(e){let r=Object.keys(this.properties);return await this._handleReadProperties(r,e)}async handleReadMultipleProperties(e,r){return await this._handleReadProperties(e,r)}async handleWriteProperty(e,r,n){if(this.properties[e]!=null){if(this.properties[e].readOnly===!0)throw new Error(`ExposedThing '${this.title}', property '${e}' is readOnly`);ko.default.validateInteractionOptions(this,this.properties[e],n);let i=wt(this,Lr,"f").get(e)?.writeHandler,s=this.properties[e]?.forms[n.formIndex]??{};if(i!=null)await i(new yP.InteractionOutput(r,s,this.properties[e]),n);else throw new Error(`ExposedThing '${this.title}' has no writeHandler for Property '${e}'`)}else throw new Error(`ExposedThing '${this.title}', no property found for '${e}'`)}async handleWriteMultipleProperties(e,r){let n=[];for(let[i,s]of Object.entries(e))this.properties[i].forms.find(a=>a.contentType==="application/json"||a.contentType==null)!=null&&n.push(this.handleWriteProperty(i,s,r));try{await Promise.all(n)}catch(i){throw new Error(`ExposedThing '${this.title}', failed to write multiple properties. ${i.message}`)}}async handleSubscribeEvent(e,r,n){if(this.events[e]!=null){ko.default.validateInteractionOptions(this,this.events[e],n);let i=Ga.default.getFormIndexForOperation(this.events[e],"event","subscribeevent",n.formIndex);if(i!==-1)wt(this,Ka,"f").register(this.events[e],i,r),Ar(`ExposedThing '${this.title}' subscribes to event '${e}'`);else throw new Error(`ExposedThing '${this.title}', no property listener from found for '${e}' with form index '${n.formIndex}'`);let s=wt(this,wi,"f").get(e)?.subscribe;s&&await s(n),Ar(`ExposedThing '${this.title}' subscribes to event '${e}'`)}else throw new Error(`ExposedThing '${this.title}', no event found for '${e}'`)}handleUnsubscribeEvent(e,r,n){if(this.events[e]!=null){ko.default.validateInteractionOptions(this,this.events[e],n);let i=Ga.default.getFormIndexForOperation(this.events[e],"event","unsubscribeevent",n.formIndex);if(i!==-1)wt(this,Ka,"f").unregister(this.events[e],i,r);else throw new Error(`ExposedThing '${this.title}', no event listener from found for '${e}' with form index '${n.formIndex}'`);let s=wt(this,wi,"f").get(e)?.unsubscribe;s&&s(n),Ar(`ExposedThing '${this.title}' unsubscribes from event '${e}'`)}else throw new Error(`ExposedThing '${this.title}', no event found for '${e}'`)}async handleObserveProperty(e,r,n){if(this.properties[e]!=null){ko.default.validateInteractionOptions(this,this.properties[e],n);let i=Ga.default.getFormIndexForOperation(this.properties[e],"property","observeproperty",n.formIndex);if(i!==-1)wt(this,Ya,"f").register(this.properties[e],i,r),Ar(`ExposedThing '${this.title}' subscribes to property '${e}'`);else throw new Error(`ExposedThing '${this.title}', no property listener from found for '${e}' with form index '${n.formIndex}'`);let s=wt(this,Lr,"f").get(e)?.observeHandler;s&&await s(n)}else throw new Error(`ExposedThing '${this.title}', no property found for '${e}'`)}handleUnobserveProperty(e,r,n){if(this.properties[e]!=null){ko.default.validateInteractionOptions(this,this.properties[e],n);let i=Ga.default.getFormIndexForOperation(this.properties[e],"property","unobserveproperty",n.formIndex);if(i!==-1)wt(this,Ya,"f").unregister(this.properties[e],i,r);else throw new Error(`ExposedThing '${this.title}', no property listener from found for '${e}' with form index '${n.formIndex}'`);let s=wt(this,Lr,"f").get(e)?.unobserveHandler;s&&s(n)}else throw new Error(`ExposedThing '${this.title}', no property found for '${e}'`)}static interactionInputToReadable(e){let r;return typeof ReadableStream<"u"&&e instanceof ReadableStream||e instanceof $8.ReadableStream?r=Ga.default.toNodeStream(e):Array.isArray(e)||typeof e=="object"?r=mP.Readable.from(oe.from(JSON.stringify(e),"utf-8")):r=mP.Readable.from(oe.from(e.toString(),"utf-8")),r}};Lr=new WeakMap,kd=new WeakMap,wi=new WeakMap,Ya=new WeakMap,Ka=new WeakMap,Pf=new WeakMap;Zr.default=__});var EP=de(v_=>{"use strict";x();var _P=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,P8=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,wP=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,I8=/\\([\u000b\u0020-\u00ff])/g,C8=/([\\"])/g,vP=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;v_.format=N8;v_.parse=x8;function N8(t){if(!t||typeof t!="object")throw new TypeError("argument obj is required");var e=t.parameters,r=t.type;if(!r||!vP.test(r))throw new TypeError("invalid type");var n=r;if(e&&typeof e=="object")for(var i,s=Object.keys(e).sort(),o=0;o<s.length;o++){if(i=s[o],!wP.test(i))throw new TypeError("invalid parameter name");n+="; "+i+"="+L8(e[i])}return n}function x8(t){if(!t)throw new TypeError("argument string is required");var e=typeof t=="object"?M8(t):t;if(typeof e!="string")throw new TypeError("argument string is required to be a string");var r=e.indexOf(";"),n=r!==-1?e.slice(0,r).trim():e.trim();if(!vP.test(n))throw new TypeError("invalid media type");var i=new B8(n.toLowerCase());if(r!==-1){var s,o,a;for(_P.lastIndex=r;o=_P.exec(e);){if(o.index!==r)throw new TypeError("invalid parameter format");r+=o[0].length,s=o[1].toLowerCase(),a=o[2],a.charCodeAt(0)===34&&(a=a.slice(1,-1),a.indexOf("\\")!==-1&&(a=a.replace(I8,"$1"))),i.parameters[s]=a}if(r!==e.length)throw new TypeError("invalid parameter format")}return i}function M8(t){var e;if(typeof t.getHeader=="function"?e=t.getHeader("content-type"):typeof t.headers=="object"&&(e=t.headers&&t.headers["content-type"]),typeof e!="string")throw new TypeError("content-type header is missing from object");return e}function L8(t){var e=String(t);if(wP.test(e))return e;if(e.length>0&&!P8.test(e))throw new TypeError("invalid parameter value");return'"'+e.replace(C8,"\\$1")+'"'}function B8(t){this.parameters=Object.create(null),this.type=t}});var SP=de((tQ,E_)=>{x();(function(t){"use strict";var e=function(){function y(b){this.options=b}return y.prototype.toString=function(){return JSON&&JSON.stringify?JSON.stringify(this.options):this.options},y}(),r=function(){function y(N){return Object.prototype.toString.apply(N)==="[object Array]"}function b(N){return Object.prototype.toString.apply(N)==="[object String]"}function w(N){return Object.prototype.toString.apply(N)==="[object Number]"}function m(N){return Object.prototype.toString.apply(N)==="[object Boolean]"}function E(N,C){var W="",z=!0,j;for(j=0;j<N.length;j+=1)z?z=!1:W+=C,W+=N[j];return W}function T(N,C){for(var W=[],z=0;z<N.length;z+=1)W.push(C(N[z]));return W}function S(N,C){for(var W=[],z=0;z<N.length;z+=1)C(N[z])&&W.push(N[z]);return W}function P(N){if(typeof N!="object"||N===null)return N;Object.freeze(N);var C,W;for(W in N)N.hasOwnProperty(W)&&(C=N[W],typeof C=="object"&&A(C));return N}function A(N){return typeof Object.freeze=="function"?P(N):N}return{isArray:y,isString:b,isNumber:w,isBoolean:m,join:E,map:T,filter:S,deepFreeze:A}}(),n=function(){function y(m){return m>="a"&&m<="z"||m>="A"&&m<="Z"}function b(m){return m>="0"&&m<="9"}function w(m){return b(m)||m>="a"&&m<="f"||m>="A"&&m<="F"}return{isAlpha:y,isDigit:b,isHexDigit:w}}(),i=function(){var y={encode:function(S){return unescape(encodeURIComponent(S))},numBytes:function(S){return S<=127?1:194<=S&&S<=223?2:224<=S&&S<=239?3:240<=S&&S<=244?4:0},isValidFollowingCharCode:function(S){return 128<=S&&S<=191}};function b(S){var P="",A=y.encode(S),N,C;for(C=0;C<A.length;C+=1)N=A.charCodeAt(C),P+="%"+(N<16?"0":"")+N.toString(16).toUpperCase();return P}function w(S,P){return S.charAt(P)==="%"&&n.isHexDigit(S.charAt(P+1))&&n.isHexDigit(S.charAt(P+2))}function m(S,P){return parseInt(S.substr(P,2),16)}function E(S){if(!w(S,0))return!1;var P=m(S,1),A=y.numBytes(P);if(A===0)return!1;for(var N=1;N<A;N+=1)if(!w(S,3*N)||!y.isValidFollowingCharCode(m(S,3*N+1)))return!1;return!0}function T(S,P){var A=S.charAt(P);if(!w(S,P))return A;var N=m(S,P+1),C=y.numBytes(N);if(C===0)return A;for(var W=1;W<C;W+=1)if(!w(S,P+3*W)||!y.isValidFollowingCharCode(m(S,P+3*W+1)))return A;return S.substr(P,3*C)}return{encodeCharacter:b,isPctEncoded:E,pctCharAt:T}}(),s=function(){function y(m){return n.isAlpha(m)||n.isDigit(m)||m==="_"||i.isPctEncoded(m)}function b(m){return n.isAlpha(m)||n.isDigit(m)||m==="-"||m==="."||m==="_"||m==="~"}function w(m){return m===":"||m==="/"||m==="?"||m==="#"||m==="["||m==="]"||m==="@"||m==="!"||m==="$"||m==="&"||m==="("||m===")"||m==="*"||m==="+"||m===","||m===";"||m==="="||m==="'"}return{isVarchar:y,isUnreserved:b,isReserved:w}}(),o=function(){function y(E,T){var S="",P,A="";for((typeof E=="number"||typeof E=="boolean")&&(E=E.toString()),P=0;P<E.length;P+=A.length)A=E.charAt(P),S+=s.isUnreserved(A)||T&&s.isReserved(A)?A:i.encodeCharacter(A);return S}function b(E){return y(E,!0)}function w(E,T){var S=i.pctCharAt(E,T);return S.length>1||s.isReserved(S)||s.isUnreserved(S)?S:i.encodeCharacter(S)}function m(E){var T="",S,P="";for(S=0;S<E.length;S+=P.length)P=i.pctCharAt(E,S),P.length>1?T+=P:T+=s.isReserved(P)||s.isUnreserved(P)?P:i.encodeCharacter(P);return T}return{encode:y,encodePassReserved:b,encodeLiteral:m,encodeLiteralCharacter:w}}(),a=function(){var y={};function b(w){y[w]={symbol:w,separator:w==="?"?"&":w===""||w==="+"||w==="#"?",":w,named:w===";"||w==="&"||w==="?",ifEmpty:w==="&"||w==="?"?"=":"",first:w==="+"?"":w,encode:w==="+"||w==="#"?o.encodePassReserved:o.encode,toString:function(){return this.symbol}}}return b(""),b("+"),b("#"),b("."),b("/"),b(";"),b("?"),b("&"),{valueOf:function(w){return y[w]?y[w]:"=,!@|".indexOf(w)>=0?null:y[""]}}}();function u(y){var b;if(y==null)return!1;if(r.isArray(y))return y.length>0;if(typeof y=="string"||typeof y=="number"||typeof y=="boolean")return!0;for(b in y)if(y.hasOwnProperty(b)&&u(y[b]))return!0;return!1}var c=function(){function y(b){this.literal=o.encodeLiteral(b)}return y.prototype.expand=function(){return this.literal},y.prototype.toString=y.prototype.expand,y}(),l=function(){function y(w){var m,E=[],T=null,S=null,P=null,A,N="";function C(){var z=w.substring(S,A);if(z.length===0)throw new e({expressionText:w,message:"a varname must be specified",position:A});T={varname:z,exploded:!1,maxLength:null},S=null}function W(){if(P===A)throw new e({expressionText:w,message:"after a ':' you have to specify the length",position:A});T.maxLength=parseInt(w.substring(P,A),10),P=null}for(m=function(z){var j=a.valueOf(z);if(j===null)throw new e({expressionText:w,message:"illegal use of reserved operator",position:A,operator:z});return j}(w.charAt(0)),A=m.symbol.length,S=A;A<w.length;A+=N.length){if(N=i.pctCharAt(w,A),S!==null){if(N==="."){if(S===A)throw new e({expressionText:w,message:"a varname MUST NOT start with a dot",position:A});continue}if(s.isVarchar(N))continue;C()}if(P!==null){if(A===P&&N==="0")throw new e({expressionText:w,message:"A :prefix must not start with digit 0",position:A});if(n.isDigit(N)){if(A-P>=4)throw new e({expressionText:w,message:"A :prefix must have max 4 digits",position:A});continue}W()}if(N===":"){if(T.maxLength!==null)throw new e({expressionText:w,message:"only one :maxLength is allowed per varspec",position:A});if(T.exploded)throw new e({expressionText:w,message:"an exploeded varspec MUST NOT be varspeced",position:A});P=A+1;continue}if(N==="*"){if(T===null)throw new e({expressionText:w,message:"exploded without varspec",position:A});if(T.exploded)throw new e({expressionText:w,message:"exploded twice",position:A});if(T.maxLength)throw new e({expressionText:w,message:"an explode (*) MUST NOT follow to a prefix",position:A});T.exploded=!0;continue}if(N===","){E.push(T),T=null,S=A+1;continue}throw new e({expressionText:w,message:"illegal character",character:N,position:A})}return S!==null&&C(),P!==null&&W(),E.push(T),new p(w,m,E)}function b(w){var m,E,T=[],S=null,P=0;for(m=0;m<w.length;m+=1){if(E=w.charAt(m),P!==null){if(E==="}")throw new e({templateText:w,message:"unopened brace closed",position:m});E==="{"&&(P<m&&T.push(new c(w.substring(P,m))),P=null,S=m);continue}if(S!==null){if(E==="{")throw new e({templateText:w,message:"brace already opened",position:m});if(E==="}"){if(S+1===m)throw new e({templateText:w,message:"empty braces",position:S});try{T.push(y(w.substring(S+1,m)))}catch(A){throw A.prototype===e.prototype?new e({templateText:w,message:A.options.message,position:S+A.options.position,details:A.options}):A}S=null,P=m+1}continue}throw new Error("reached unreachable code")}if(S!==null)throw new e({templateText:w,message:"unclosed brace",position:S});return P<w.length&&T.push(new c(w.substr(P))),new h(w,T)}return b}(),p=function(){function y(N){return JSON&&JSON.stringify?JSON.stringify(N):N}function b(N){if(!u(N))return!0;if(r.isString(N))return N==="";if(r.isNumber(N)||r.isBoolean(N))return!1;if(r.isArray(N))return N.length===0;for(var C in N)if(N.hasOwnProperty(C))return!1;return!0}function w(N){var C=[],W;for(W in N)N.hasOwnProperty(W)&&C.push({name:W,value:N[W]});return C}function m(N,C,W){this.templateText=N,this.operator=C,this.varspecs=W}m.prototype.toString=function(){return this.templateText};function E(N,C,W){var z="";if(W=W.toString(),C.named){if(z+=o.encodeLiteral(N.varname),W==="")return z+=C.ifEmpty,z;z+="="}return N.maxLength!==null&&(W=W.substr(0,N.maxLength)),z+=C.encode(W),z}function T(N){return u(N.value)}function S(N,C,W){var z=[],j="";if(C.named){if(j+=o.encodeLiteral(N.varname),b(W))return j+=C.ifEmpty,j;j+="="}return r.isArray(W)?(z=W,z=r.filter(z,u),z=r.map(z,C.encode),j+=r.join(z,",")):(z=w(W),z=r.filter(z,T),z=r.map(z,function(ne){return C.encode(ne.name)+","+C.encode(ne.value)}),j+=r.join(z,",")),j}function P(N,C,W){var z=r.isArray(W),j=[];return z?(j=W,j=r.filter(j,u),j=r.map(j,function(ne){var Q=o.encodeLiteral(N.varname);return b(ne)?Q+=C.ifEmpty:Q+="="+C.encode(ne),Q})):(j=w(W),j=r.filter(j,T),j=r.map(j,function(ne){var Q=o.encodeLiteral(ne.name);return b(ne.value)?Q+=C.ifEmpty:Q+="="+C.encode(ne.value),Q})),r.join(j,C.separator)}function A(N,C){var W=[],z="";return r.isArray(C)?(W=C,W=r.filter(W,u),W=r.map(W,N.encode),z+=r.join(W,N.separator)):(W=w(C),W=r.filter(W,function(j){return u(j.value)}),W=r.map(W,function(j){return N.encode(j.name)+"="+N.encode(j.value)}),z+=r.join(W,N.separator)),z}return m.prototype.expand=function(N){var C=[],W,z,j,ne,Q=!1,H=this.operator;for(W=0;W<this.varspecs.length;W+=1)if(z=this.varspecs[W],j=N[z.varname],j!=null)if(z.exploded&&(Q=!0),ne=r.isArray(j),typeof j=="string"||typeof j=="number"||typeof j=="boolean")C.push(E(z,H,j));else{if(z.maxLength&&u(j))throw new Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+y(j));z.exploded?u(j)&&(H.named?C.push(P(z,H,j)):C.push(A(H,j))):(H.named||!b(j))&&C.push(S(z,H,j))}return C.length===0?"":H.first+r.join(C,H.separator)},m}(),h=function(){function y(b,w){this.templateText=b,this.expressions=w,r.deepFreeze(this)}return y.prototype.toString=function(){return this.templateText},y.prototype.expand=function(b){var w,m="";for(w=0;w<this.expressions.length;w+=1)m+=this.expressions[w].expand(b);return m},y.parse=l,y.UriTemplateError=e,y}();t(h)})(function(t){"use strict";typeof E_<"u"?E_.exports=t:typeof define=="function"?define([],function(){return t}):typeof window<"u"?window.UriTemplate=t:global.UriTemplate=t})});var j_=de(io=>{"use strict";x();var Fo=io&&io.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},ri=io&&io.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},L_=io&&io.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},S_,T_,A_,$_,R_,O_,no,Do;Object.defineProperty(io,"__esModule",{value:!0});var qd=Gs(),xs=L_(za()),TP=L_(EP()),AP=L_(Jn()),j8=SP(),U8=b_(),k8=Wr(),{debug:pn,warn:If}=(0,k8.createLoggers)("core","consumed-thing"),On;(function(t){t[t.PropertyAffordance=0]="PropertyAffordance",t[t.ActionAffordance=1]="ActionAffordance",t[t.EventAffordance=2]="EventAffordance"})(On||(On={}));var P_=class extends qd.ThingProperty{constructor(e,r){super(),S_.set(this,void 0),T_.set(this,void 0),Fo(this,S_,e,"f"),Fo(this,T_,r,"f")}};S_=new WeakMap,T_=new WeakMap;var I_=class extends qd.ThingAction{constructor(e,r){super(),A_.set(this,void 0),$_.set(this,void 0),Fo(this,A_,e,"f"),Fo(this,$_,r,"f")}};A_=new WeakMap,$_=new WeakMap;var C_=class extends qd.ThingEvent{constructor(e,r){super(),R_.set(this,void 0),O_.set(this,void 0),Fo(this,R_,e,"f"),Fo(this,O_,r,"f")}};R_=new WeakMap,O_=new WeakMap;var Fd=class{constructor(e,r,n){this.thing=e,this.name=r,this.client=n,this.active=!0}};function B_(t,e,r,n){let i=j8.parse(r.href),s=xs.default.parseInteractionOptions(t,e,n).uriVariables,o=i.expand(s??{});if(o!==r.href){let a={...r};a.href=o,r=a,pn(`ConsumedThing '${t.title}' update form URI to ${r.href}`)}return r}var N_=class extends Fd{constructor(e,r,n,i){super(e,r,n),this.form=i,this.active=!1;let s=this.thing.properties?.[r].forms.indexOf(i);if(s===void 0||s<0)throw new Error(`Could not find form ${i.href} in property ${r}`);this.formIndex=s}async stop(e){await this.unobserveProperty(e),this.thing.observedProperties.delete(this.name)}async unobserveProperty(e={}){let r=this.thing.properties[this.name];if(r==null)throw new Error(`ConsumedThing '${this.thing.title}' does not have property ${this.name}`);e.formIndex??=this.matchingUnsubscribeForm();let{form:n}=this.thing.getClientFor(r.forms,"unobserveproperty",On.PropertyAffordance,e);if(n==null)throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable form`);let i=B_(this.thing,r,n,e);pn(`ConsumedThing '${this.thing.title}' unobserving to ${n.href}`),await this.client.unlinkResource(i),this.active=!1}matchingUnsubscribeForm(){let e=this.thing.properties[this.name].forms[this.formIndex];if(Array.isArray(e.op)&&e.op.includes("unobserveproperty"))return this.formIndex;let r=this.findFormIndexWithScoring(this.formIndex,this.thing.properties[this.name].forms,"unobserveproperty");if(r===-1)throw new Error("Could not find matching form for unsubscribe");return r}findFormIndexWithScoring(e,r,n){let i=r[e],s=0,o=-1;for(let a=0;a<r.length;a++){let u=0,c=r[a];(c.op===n||c?.op?.includes(n)===!0&&Array.isArray(c.op)===!0)&&(u+=1),new URL(c.href).origin===new URL(i.href).origin&&(u+=1),c.contentType===i.contentType&&(u+=1),u>s&&(s=u,o=a)}return o}};function D8(t,e,r){let n=e[t],i=0,s=-1;for(let o=0;o<e.length;o++){let a=0,u=e[o];(u.op===r||u?.op?.includes(r)===!0&&Array.isArray(u.op)===!0)&&(a+=1),new URL(u.href).origin===new URL(n.href).origin&&(a+=1),u.contentType===n.contentType&&(a+=1),a>i&&(i=a,s=o)}return s}var x_=class extends Fd{constructor(e,r,n,i){super(e,r,n),this.form=i;let s=this.thing.events?.[r].forms.indexOf(i);if(s===void 0||s<0)throw new Error(`Could not find form ${i.href} in event ${r}`);this.formIndex=s}async stop(e){await this.unsubscribeEvent(e),this.thing.subscribedEvents.delete(this.name)}async unsubscribeEvent(e={}){let r=this.thing.events[this.name];if(r==null)throw new Error(`ConsumedThing '${this.thing.title}' does not have event ${this.name}`);e.formIndex??=this.matchingUnsubscribeForm();let{form:n}=this.thing.getClientFor(r.forms,"unsubscribeevent",On.EventAffordance,e);if(n==null)throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable form`);let i=B_(this.thing,r,n,e);pn(`ConsumedThing '${this.thing.title}' unsubscribing to ${n.href}`),this.client.unlinkResource(i),this.active=!1}matchingUnsubscribeForm(){let e=this.thing.events[this.name].forms[this.formIndex];if(e.op==null||Array.isArray(e.op)&&e.op.includes("unsubscribeevent"))return this.formIndex;let r=D8(this.formIndex,this.thing.events[this.name].forms,"unsubscribeevent");if(r===-1)throw new Error("Could not find matching form for unsubscribe");return r}},M_=class extends qd.Thing{constructor(e,r){super(),no.set(this,void 0),Do.set(this,void 0),this.subscribedEvents=new Map,this.observedProperties=new Map,Fo(this,no,e,"f"),Fo(this,Do,new Map,"f"),this.properties={},this.actions={},this.events={};let n=xs.default.structuredClone(r??{});Object.assign(this,n),this.extendInteractions()}getThingDescription(){return JSON.parse(JSON.stringify(this))}emitEvent(e,r){If("not implemented")}extendInteractions(){for(let[e,r]of Object.entries(this.properties)){let n=xs.default.extend(r,new P_(e,this));this.properties[e]=n}for(let[e,r]of Object.entries(this.actions)){let n=xs.default.extend(r,new I_(e,this));this.actions[e]=n}for(let[e,r]of Object.entries(this.events)){let n=xs.default.extend(r,new C_(e,this));this.events[e]=n}}findForm(e,r,n,i,s){let o;for(let a of e){let u="";if(a.op!==void 0)u=a.op;else switch(n){case On.PropertyAffordance:u=["readproperty","writeproperty"];break;case On.ActionAffordance:u="invokeaction";break;case On.EventAffordance:u="subscribeevent";break}if(u.indexOf(r)!==-1&&a.href.indexOf(i[s]+":")!==-1){o=a;break}}return o}getSecuritySchemes(e){let r=[];for(let n of e){let i=this.securityDefinitions[n+""];i!=null&&r.push(i)}return r}ensureClientSecurity(e,r){if(this.securityDefinitions!=null){let n=()=>pn(`ConsumedThing '${this.title}' setting credentials for ${e} based on thing security`);r!=null&&Array.isArray(r.security)&&r.security.length>0?(n(),e.setSecurity(this.getSecuritySchemes(r.security),ri(this,no,"f").retrieveCredentials(this.id))):Array.isArray(this.security)&&this.security.length>0&&(n(),e.setSecurity(this.getSecuritySchemes(this.security),ri(this,no,"f").getCredentials(this.id)))}}getClientFor(e,r,n,i){if(e.length===0)throw new Error(`ConsumedThing '${this.title}' has no links for this interaction`);let s,o;if(i?.formIndex!==void 0)if(pn(`ConsumedThing '${this.title}' asked to use formIndex '${i.formIndex}'`),i.formIndex>=0&&i.formIndex<e.length){s=e[i.formIndex];let a=xs.default.extractScheme(s.href);if(ri(this,no,"f").hasClientFor(a))pn(`ConsumedThing '${this.title}' got client for '${a}'`),o=ri(this,no,"f").getClientFor(a),ri(this,Do,"f").get(a)||(this.ensureClientSecurity(o,s),ri(this,Do,"f").set(a,o));else throw new Error(`ConsumedThing '${this.title}' missing ClientFactory for '${a}'`)}else throw new Error(`ConsumedThing '${this.title}' missing formIndex '${i.formIndex}'`);else{let a=e.map(c=>xs.default.extractScheme(c.href)),u=a.findIndex(c=>ri(this,Do,"f").has(c));if(u!==-1)pn(`ConsumedThing '${this.title}' chose cached client for '${a[u]}'`),o=ri(this,Do,"f").get(a[u]),s=this.findForm(e,r,n,a,u);else{pn(`ConsumedThing '${this.title}' has no client in cache (${u})`);let c=a.findIndex(l=>ri(this,no,"f").hasClientFor(l));if(c===-1)throw new Error(`ConsumedThing '${this.title}' missing ClientFactory for '${a}'`);o=ri(this,no,"f").getClientFor(a[c]),pn(`ConsumedThing '${this.title}' got new client for '${a[c]}'`),ri(this,Do,"f").set(a[c],o),s=this.findForm(e,r,n,a,c),this.ensureClientSecurity(o,s)}}return{client:o,form:s}}async readProperty(e,r){let n=this.properties[e];if(n==null)throw new Error(`ConsumedThing '${this.title}' does not have property ${e}`);let{client:i,form:s}=this.getClientFor(n.forms,"readproperty",On.PropertyAffordance,r);if(s==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(i==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${s.href}`);pn(`ConsumedThing '${this.title}' reading ${s.href}`),s=this.handleUriVariables(n,s,r);let o=await i.readResource(s);try{return this.handleInteractionOutput(o,s,n,!1)}catch(a){let u=a instanceof Error?a:new Error(JSON.stringify(a));throw new Error(`Error while processing property for ${n.title}. ${u.message}`)}}handleInteractionOutput(e,r,n,i){if(e.type??=r.contentType??"application/json",r.response!=null){let s=TP.default.parse(e.type),o=TP.default.parse(r.response.contentType);if(s.type!==o.type)throw new Error(`Unexpected type '${e.type}' in response. Should be '${r.response.contentType}'`)}return new U8.InteractionOutput(e,r,n,{ignoreValidation:i})}async _readProperties(e){let r=[];for(let i of e)r.push(this.readProperty(i));let n=new Map;try{let i=await Promise.all(r),s=0;for(let o of e)n.set(o,i[s]),s++;return n}catch(i){throw new Error(`ConsumedThing '${this.title}', failed to read properties: ${e}.
 Error: ${i}`)}}readAllProperties(e){let r=[];for(let[n,i]of Object.entries(this.properties)){let{form:s}=this.getClientFor(i.forms,"readproperty",On.PropertyAffordance,e);s!=null&&r.push(n)}return this._readProperties(r)}readMultipleProperties(e,r){return this._readProperties(e)}async writeProperty(e,r,n){let i=this.properties[e];if(i==null)throw new Error(`ConsumedThing '${this.title}' does not have property ${e}`);let{client:s,form:o}=this.getClientFor(i.forms,"writeproperty",On.PropertyAffordance,n);if(o==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(s==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${o.href}`);pn(`ConsumedThing '${this.title}' writing ${o.href} with '${r}'`);let a=AP.default.valueToContent(r,i,o.contentType);o=this.handleUriVariables(i,o,n),await s.writeResource(o,a)}async writeMultipleProperties(e,r){let n=[];for(let[i,s]of e.entries())n.push(this.writeProperty(i,s));try{await Promise.all(n)}catch(i){throw new Error(`ConsumedThing '${this.title}', failed to write multiple properties: ${e}
 Error: ${i}`)}}async invokeAction(e,r,n){let i=this.actions[e];if(i==null)throw new Error(`ConsumedThing '${this.title}' does not have action ${e}`);let{client:s,form:o}=this.getClientFor(i.forms,"invokeaction",On.ActionAffordance,n);if(o==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(s==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${o.href}`);pn(`ConsumedThing '${this.title}' invoking ${o.href}${r!==void 0?" with '"+r+"'":""}`);let a;r!==void 0&&(a=AP.default.valueToContent(r,i.input,o.contentType)),o=this.handleUriVariables(i,o,n);let u=await s.invokeResource(o,a);try{let c=i.synchronous===void 0?!0:!i.synchronous;return this.handleInteractionOutput(u,o,i.output,c)}catch(c){let l=c instanceof Error?c:new Error(JSON.stringify(c));throw new Error(`Error while processing action for ${i.title}. ${l.message}`)}}async observeProperty(e,r,n,i){let s=this.properties[e];if(s==null)throw new Error(`ConsumedThing '${this.title}' does not have property ${e}`);let{client:o,form:a}=this.getClientFor(s.forms,"observeproperty",On.PropertyAffordance,i);if(a==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(o==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${a.href}`);if(this.observedProperties.has(e))throw new Error(`ConsumedThing '${this.title}' has already a function subscribed to ${e}. You can only observe once`);pn(`ConsumedThing '${this.title}' observing to ${a.href}`);let u=this.handleUriVariables(s,a,i);await o.subscribeResource(u,l=>{try{r(this.handleInteractionOutput(l,a,s,!1))}catch(p){let h=p instanceof Error?p:new Error(JSON.stringify(p));If(`Error while processing observe property for ${s.title}. ${h.message}`),If(p)}},l=>{n?.(l)},()=>{});let c=new N_(this,e,o,a);return this.observedProperties.set(e,c),c}async subscribeEvent(e,r,n,i){let s=this.events[e];if(s==null)throw new Error(`ConsumedThing '${this.title}' does not have event ${e}`);let{client:o,form:a}=this.getClientFor(s.forms,"subscribeevent",On.EventAffordance,i);if(a==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(o==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${a.href}`);if(this.subscribedEvents.has(e))throw new Error(`ConsumedThing '${this.title}' has already a function subscribed to ${e}. You can only subscribe once`);pn(`ConsumedThing '${this.title}' subscribing to ${a.href}`);let u=this.handleUriVariables(s,a,i);await o.subscribeResource(u,l=>{try{r(this.handleInteractionOutput(l,a,s.data,!1))}catch(p){let h=p instanceof Error?p:new Error(JSON.stringify(p));If(`Error while processing event for ${s.title}. ${h.message}`),If(p)}},l=>{n?.(l)},()=>{});let c=new x_(this,e,o,a);return this.subscribedEvents.set(e,c),c}handleUriVariables(e,r,n){return B_(this,e,r,n)}};no=new WeakMap,Do=new WeakMap;io.default=M_});var RP=de(Ja=>{"use strict";x();var F8=Ja&&Ja.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ja,"__esModule",{value:!0});Ja.isThingDescription=q8;Ja.getLastValidationErrors=W8;var $P=F8(za());function q8(t){return $P.default.tsSchemaValidator(t)}function W8(){let t=$P.default.tsSchemaValidator.errors?.map(e=>e.message).join(`
`);return new Error(t)}});var CP=de(Ms=>{"use strict";x();var Hd=Ms&&Ms.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ms,"__esModule",{value:!0});Ms.DataType=void 0;var H8=xl(),z8=Hd(w_()),V8=Hd(j_()),OP=Hd(za()),G8=Wr(),Y8=Hd(Jn()),Wd=RP(),K8=(sf(),ht(ed)),{debug:PP}=(0,G8.createLoggers)("core","wot-impl"),U_=class{constructor(e,r){this.directory=e,this.filter=r,this.filter=r,this.done=!1}async stop(){this.done=!0}async*[Symbol.asyncIterator](){let e;try{e=await(await this.directory.readProperty("things")).value()}catch(r){this.error=r instanceof Error?r:new Error((0,K8.inspect)(r)),this.done=!0;return}for(let r of e){if(this.done)return;if(!(0,Wd.isThingDescription)(r)){this.error=(0,Wd.getLastValidationErrors)();continue}yield r}this.done=!0}},k_=class{constructor(e){this.srv=e}async discover(e){throw new Error("not implemented")}async exploreDirectory(e,r){let n=await this.requestThingDescription(e),i=await this.consume(n);return new U_(i,r)}async requestThingDescription(e){let r=OP.default.extractScheme(e),i=await this.srv.getClientFor(r).requestThingDescription(e),s=Y8.default.contentToValue({type:i.type,body:await i.toBuffer()},{});if((0,Wd.isThingDescription)(s))return s;throw(0,Wd.getLastValidationErrors)()}async consume(e){try{let r=(0,H8.parseTD)(JSON.stringify(e),!0),n=new V8.default(this.srv,r);return PP(`WoTImpl consuming TD ${n.id!=null?`'${n.id}'`:"without id"} to instantiate ConsumedThing '${n.title}'`),n}catch(r){throw new Error(`Cannot consume TD because ${r instanceof Error?r.message:r}`)}}produce(e){return new Promise((r,n)=>{try{let i=OP.default.validateExposedThingInit(e);if(!i.valid)throw new Error(`Thing Description JSON schema validation failed:
`+i.errors);let s=new z8.default(this.srv,e);if(PP(`WoTImpl producing new ExposedThing '${s.title}'`),this.srv.addThing(s))r(s);else throw new Error("Thing already exists: "+s.title)}catch(i){n(new Error(`Cannot produce ExposedThing because " + ${i instanceof Error?i.message:i}`))}})}};Ms.default=k_;var IP;(function(t){t.boolean="boolean",t.number="number",t.integer="integer",t.string="string",t.object="object",t.array="array",t.null="null"})(IP||(Ms.DataType=IP={}))});var D_=de((zd,xP)=>{"use strict";x();Object.defineProperty(zd,"__esModule",{value:!0});zd.default=X8;var NP=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),J8=new Uint8Array(16);function X8(){if(!NP)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return NP(J8)}xP.exports=zd.default});var Vd=de((Nf,LP)=>{"use strict";x();Object.defineProperty(Nf,"__esModule",{value:!0});Nf.default=void 0;var MP=[];for(Cf=0;Cf<256;++Cf)MP[Cf]=(Cf+256).toString(16).substr(1);var Cf;function Z8(t,e){var r=e||0,n=MP;return[n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]]].join("")}var Q8=Z8;Nf.default=Q8;LP.exports=Nf.default});var kP=de((xf,UP)=>{"use strict";x();Object.defineProperty(xf,"__esModule",{value:!0});xf.default=void 0;var e5=jP(D_()),t5=jP(Vd());function jP(t){return t&&t.__esModule?t:{default:t}}var BP,F_,q_=0,W_=0;function r5(t,e,r){var n=e&&r||0,i=e||[];t=t||{};var s=t.node||BP,o=t.clockseq!==void 0?t.clockseq:F_;if(s==null||o==null){var a=t.random||(t.rng||e5.default)();s==null&&(s=BP=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=F_=(a[6]<<8|a[7])&16383)}var u=t.msecs!==void 0?t.msecs:new Date().getTime(),c=t.nsecs!==void 0?t.nsecs:W_+1,l=u-q_+(c-W_)/1e4;if(l<0&&t.clockseq===void 0&&(o=o+1&16383),(l<0||u>q_)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");q_=u,W_=c,F_=o,u+=122192928e5;var p=((u&268435455)*1e4+c)%4294967296;i[n++]=p>>>24&255,i[n++]=p>>>16&255,i[n++]=p>>>8&255,i[n++]=p&255;var h=u/4294967296*1e4&268435455;i[n++]=h>>>8&255,i[n++]=h&255,i[n++]=h>>>24&15|16,i[n++]=h>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(var y=0;y<6;++y)i[n+y]=s[y];return e||(0,t5.default)(i)}var n5=r5;xf.default=n5;UP.exports=xf.default});var H_=de(Ls=>{"use strict";x();Object.defineProperty(Ls,"__esModule",{value:!0});Ls.default=u5;Ls.URL=Ls.DNS=void 0;var i5=o5(Vd());function o5(t){return t&&t.__esModule?t:{default:t}}function s5(t){var e=[];return t.replace(/[a-fA-F0-9]{2}/g,function(r){e.push(parseInt(r,16))}),e}function a5(t){t=unescape(encodeURIComponent(t));for(var e=new Array(t.length),r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}var DP="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Ls.DNS=DP;var FP="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Ls.URL=FP;function u5(t,e,r){var n=function(i,s,o,a){var u=o&&a||0;if(typeof i=="string"&&(i=a5(i)),typeof s=="string"&&(s=s5(s)),!Array.isArray(i))throw TypeError("value must be an array of bytes");if(!Array.isArray(s)||s.length!==16)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var c=r(s.concat(i));if(c[6]=c[6]&15|e,c[8]=c[8]&63|128,o)for(var l=0;l<16;++l)o[u+l]=c[l];return o||(0,i5.default)(c)};try{n.name=t}catch{}return n.DNS=DP,n.URL=FP,n}});var WP=de((Mf,qP)=>{"use strict";x();Object.defineProperty(Mf,"__esModule",{value:!0});Mf.default=void 0;function f5(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Array(e.length);for(var r=0;r<e.length;r++)t[r]=e.charCodeAt(r)}return l5(c5(d5(t),t.length*8))}function l5(t){var e,r,n=[],i=t.length*32,s="0123456789abcdef",o;for(e=0;e<i;e+=8)r=t[e>>5]>>>e%32&255,o=parseInt(s.charAt(r>>>4&15)+s.charAt(r&15),16),n.push(o);return n}function c5(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;var r,n,i,s,o,a=1732584193,u=-271733879,c=-1732584194,l=271733878;for(r=0;r<t.length;r+=16)n=a,i=u,s=c,o=l,a=Br(a,u,c,l,t[r],7,-680876936),l=Br(l,a,u,c,t[r+1],12,-389564586),c=Br(c,l,a,u,t[r+2],17,606105819),u=Br(u,c,l,a,t[r+3],22,-1044525330),a=Br(a,u,c,l,t[r+4],7,-176418897),l=Br(l,a,u,c,t[r+5],12,1200080426),c=Br(c,l,a,u,t[r+6],17,-1473231341),u=Br(u,c,l,a,t[r+7],22,-45705983),a=Br(a,u,c,l,t[r+8],7,1770035416),l=Br(l,a,u,c,t[r+9],12,-1958414417),c=Br(c,l,a,u,t[r+10],17,-42063),u=Br(u,c,l,a,t[r+11],22,-1990404162),a=Br(a,u,c,l,t[r+12],7,1804603682),l=Br(l,a,u,c,t[r+13],12,-40341101),c=Br(c,l,a,u,t[r+14],17,-1502002290),u=Br(u,c,l,a,t[r+15],22,1236535329),a=jr(a,u,c,l,t[r+1],5,-165796510),l=jr(l,a,u,c,t[r+6],9,-1069501632),c=jr(c,l,a,u,t[r+11],14,643717713),u=jr(u,c,l,a,t[r],20,-373897302),a=jr(a,u,c,l,t[r+5],5,-701558691),l=jr(l,a,u,c,t[r+10],9,38016083),c=jr(c,l,a,u,t[r+15],14,-660478335),u=jr(u,c,l,a,t[r+4],20,-405537848),a=jr(a,u,c,l,t[r+9],5,568446438),l=jr(l,a,u,c,t[r+14],9,-1019803690),c=jr(c,l,a,u,t[r+3],14,-187363961),u=jr(u,c,l,a,t[r+8],20,1163531501),a=jr(a,u,c,l,t[r+13],5,-1444681467),l=jr(l,a,u,c,t[r+2],9,-51403784),c=jr(c,l,a,u,t[r+7],14,1735328473),u=jr(u,c,l,a,t[r+12],20,-1926607734),a=Ur(a,u,c,l,t[r+5],4,-378558),l=Ur(l,a,u,c,t[r+8],11,-2022574463),c=Ur(c,l,a,u,t[r+11],16,1839030562),u=Ur(u,c,l,a,t[r+14],23,-35309556),a=Ur(a,u,c,l,t[r+1],4,-1530992060),l=Ur(l,a,u,c,t[r+4],11,1272893353),c=Ur(c,l,a,u,t[r+7],16,-155497632),u=Ur(u,c,l,a,t[r+10],23,-1094730640),a=Ur(a,u,c,l,t[r+13],4,681279174),l=Ur(l,a,u,c,t[r],11,-358537222),c=Ur(c,l,a,u,t[r+3],16,-722521979),u=Ur(u,c,l,a,t[r+6],23,76029189),a=Ur(a,u,c,l,t[r+9],4,-640364487),l=Ur(l,a,u,c,t[r+12],11,-421815835),c=Ur(c,l,a,u,t[r+15],16,530742520),u=Ur(u,c,l,a,t[r+2],23,-995338651),a=kr(a,u,c,l,t[r],6,-198630844),l=kr(l,a,u,c,t[r+7],10,1126891415),c=kr(c,l,a,u,t[r+14],15,-1416354905),u=kr(u,c,l,a,t[r+5],21,-57434055),a=kr(a,u,c,l,t[r+12],6,1700485571),l=kr(l,a,u,c,t[r+3],10,-1894986606),c=kr(c,l,a,u,t[r+10],15,-1051523),u=kr(u,c,l,a,t[r+1],21,-2054922799),a=kr(a,u,c,l,t[r+8],6,1873313359),l=kr(l,a,u,c,t[r+15],10,-30611744),c=kr(c,l,a,u,t[r+6],15,-1560198380),u=kr(u,c,l,a,t[r+13],21,1309151649),a=kr(a,u,c,l,t[r+4],6,-145523070),l=kr(l,a,u,c,t[r+11],10,-1120210379),c=kr(c,l,a,u,t[r+2],15,718787259),u=kr(u,c,l,a,t[r+9],21,-343485551),a=qo(a,n),u=qo(u,i),c=qo(c,s),l=qo(l,o);return[a,u,c,l]}function d5(t){var e,r=[];for(r[(t.length>>2)-1]=void 0,e=0;e<r.length;e+=1)r[e]=0;var n=t.length*8;for(e=0;e<n;e+=8)r[e>>5]|=(t[e/8]&255)<<e%32;return r}function qo(t,e){var r=(t&65535)+(e&65535),n=(t>>16)+(e>>16)+(r>>16);return n<<16|r&65535}function h5(t,e){return t<<e|t>>>32-e}function Gd(t,e,r,n,i,s){return qo(h5(qo(qo(e,t),qo(n,s)),i),r)}function Br(t,e,r,n,i,s,o){return Gd(e&r|~e&n,t,e,i,s,o)}function jr(t,e,r,n,i,s,o){return Gd(e&n|r&~n,t,e,i,s,o)}function Ur(t,e,r,n,i,s,o){return Gd(e^r^n,t,e,i,s,o)}function kr(t,e,r,n,i,s,o){return Gd(r^(e|~n),t,e,i,s,o)}var p5=f5;Mf.default=p5;qP.exports=Mf.default});var VP=de((Lf,zP)=>{"use strict";x();Object.defineProperty(Lf,"__esModule",{value:!0});Lf.default=void 0;var y5=HP(H_()),m5=HP(WP());function HP(t){return t&&t.__esModule?t:{default:t}}var g5=(0,y5.default)("v3",48,m5.default),b5=g5;Lf.default=b5;zP.exports=Lf.default});var KP=de((Bf,YP)=>{"use strict";x();Object.defineProperty(Bf,"__esModule",{value:!0});Bf.default=void 0;var _5=GP(D_()),w5=GP(Vd());function GP(t){return t&&t.__esModule?t:{default:t}}function v5(t,e,r){var n=e&&r||0;typeof t=="string"&&(e=t==="binary"?new Array(16):null,t=null),t=t||{};var i=t.random||(t.rng||_5.default)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e)for(var s=0;s<16;++s)e[n+s]=i[s];return e||(0,w5.default)(i)}var E5=v5;Bf.default=E5;YP.exports=Bf.default});var XP=de((jf,JP)=>{"use strict";x();Object.defineProperty(jf,"__esModule",{value:!0});jf.default=void 0;function S5(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function z_(t,e){return t<<e|t>>>32-e}function T5(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var n=unescape(encodeURIComponent(t));t=new Array(n.length);for(var i=0;i<n.length;i++)t[i]=n.charCodeAt(i)}t.push(128);for(var s=t.length/4+2,o=Math.ceil(s/16),a=new Array(o),i=0;i<o;i++){a[i]=new Array(16);for(var u=0;u<16;u++)a[i][u]=t[i*64+u*4]<<24|t[i*64+u*4+1]<<16|t[i*64+u*4+2]<<8|t[i*64+u*4+3]}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var i=0;i<o;i++){for(var c=new Array(80),l=0;l<16;l++)c[l]=a[i][l];for(var l=16;l<80;l++)c[l]=z_(c[l-3]^c[l-8]^c[l-14]^c[l-16],1);for(var p=r[0],h=r[1],y=r[2],b=r[3],w=r[4],l=0;l<80;l++){var m=Math.floor(l/20),E=z_(p,5)+S5(m,h,y,b)+w+e[m]+c[l]>>>0;w=b,b=y,y=z_(h,30)>>>0,h=p,p=E}r[0]=r[0]+p>>>0,r[1]=r[1]+h>>>0,r[2]=r[2]+y>>>0,r[3]=r[3]+b>>>0,r[4]=r[4]+w>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var A5=T5;jf.default=A5;JP.exports=jf.default});var eI=de((Uf,QP)=>{"use strict";x();Object.defineProperty(Uf,"__esModule",{value:!0});Uf.default=void 0;var $5=ZP(H_()),R5=ZP(XP());function ZP(t){return t&&t.__esModule?t:{default:t}}var O5=(0,$5.default)("v5",80,R5.default),P5=O5;Uf.default=P5;QP.exports=Uf.default});var tI=de(Xa=>{"use strict";x();Object.defineProperty(Xa,"__esModule",{value:!0});Object.defineProperty(Xa,"v1",{enumerable:!0,get:function(){return I5.default}});Object.defineProperty(Xa,"v3",{enumerable:!0,get:function(){return C5.default}});Object.defineProperty(Xa,"v4",{enumerable:!0,get:function(){return N5.default}});Object.defineProperty(Xa,"v5",{enumerable:!0,get:function(){return x5.default}});var I5=Yd(kP()),C5=Yd(VP()),N5=Yd(KP()),x5=Yd(eI());function Yd(t){return t&&t.__esModule?t:{default:t}}});var nI=de(oo=>{"use strict";x();var kf=oo&&oo.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},V_=oo&&oo.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},rI=oo&&oo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Bs,Df;Object.defineProperty(oo,"__esModule",{value:!0});var M5=rI(CP()),L5=rI(Jn()),B5=tI(),j5=Wr(),U5=Xr(),{debug:Pn,warn:G_}=(0,j5.createLoggers)("core","servient"),Y_=class{constructor(){this.servers=[],this.clientFactories=new Map,this.things=new Map,this.credentialStore=new Map,Bs.set(this,void 0),Df.set(this,!1)}addMediaType(e,r=!1){L5.default.addCodec(e,r)}expose(e){if(this.servers.length===0)return G_("Servient has no servers to expose Things"),new Promise(i=>{i()});Pn(`Servient exposing '${e.title}'`);let r=U5.Helpers.structuredClone(e);e.forms=[];for(let i of Object.values(e.properties))i.forms=[];for(let i of Object.values(e.actions))i.forms=[];for(let i of Object.values(e.events))i.forms=[];let n=[];return this.servers.forEach(i=>{n.push(i.expose(e,r))}),new Promise((i,s)=>{Promise.all(n).then(()=>i()).catch(o=>s(o))})}addThing(e){return e.id||(e.id="urn:uuid:"+(0,B5.v4)(),G_(`Servient generating ID for '${e.title}': '${e.id}'`)),this.things.has(e.id)?!1:(this.things.set(e.id,e),Pn(`Servient reset ID '${e.id}' with '${e.title}'`),!0)}destroyThing(e){return new Promise((r,n)=>{if(this.things.has(e)){Pn(`Servient destroying thing with id '${e}'`),this.things.delete(e);let i=[];this.servers.forEach(s=>{i.push(s.destroy(e))}),Promise.all(i).then(()=>r(!0)).catch(s=>n(s))}else G_(`Servient was asked to destroy thing but failed to find thing with id '${e}'`),r(!1)})}getThing(e){if(this.things.has(e))return this.things.get(e)}getThings(){Pn(`Servient getThings size == '${this.things.size}'`);let e={};return this.things.forEach((r,n)=>{e[n]=r.getThingDescription()}),e}addServer(e){return this.things.forEach((r,n)=>e.expose(r)),this.servers.push(e),!0}getServers(){return this.servers.slice(0)}addClientFactory(e){Pn(`Servient adding client factory for '${e.scheme}'`),this.clientFactories.set(e.scheme,e)}removeClientFactory(e){return Pn(`Servient removing client factory for '${e}'`),this.clientFactories.get(e)?.destroy(),this.clientFactories.delete(e)}hasClientFor(e){return Pn(`Servient checking for '${e}' scheme in ${this.clientFactories.size} ClientFactories`),this.clientFactories.has(e)}getClientFor(e){let r=this.clientFactories.get(e);if(r)return Pn(`Servient creating client for scheme '${e}'`),r.getClient();throw new Error(`Servient has no ClientFactory for scheme '${e}'`)}getClientSchemes(){return Array.from(this.clientFactories.keys())}addCredentials(e){for(let[r,n]of Object.entries(e??{})){Pn(`Servient storing credentials for '${r}'`);let i=this.credentialStore.get(r)??[];i.length===0&&this.credentialStore.set(r,i),i.push(n)}}getCredentials(e){Pn(`Servient looking up credentials for '${e}' (@deprecated)`);let r=this.credentialStore.get(e);if(r&&r.length>0)return r[0]}retrieveCredentials(e){return Pn(`Servient looking up credentials for '${e}'`),this.credentialStore.get(e)}async start(){if(kf(this,Bs,"f")!==void 0)return Pn("Servient started already -> nop -> returning previous WoT implementation"),kf(this,Bs,"f");if(kf(this,Df,"f"))throw Error("Servient cannot be started (again) since it was already stopped");let e=[];return this.servers.forEach(r=>e.push(r.start(this))),this.clientFactories.forEach(r=>r.init()),await Promise.all(e),V_(this,Bs,new M5.default(this),"f")}async shutdown(){if(kf(this,Bs,"f")===void 0)throw Error("Servient cannot be shutdown, wasn't even started");if(kf(this,Df,"f")){Pn("Servient shutdown already -> nop");return}this.clientFactories.forEach(r=>r.destroy());let e=this.servers.map(r=>r.stop());await Promise.all(e),V_(this,Df,!0,"f"),V_(this,Bs,void 0,"f")}};Bs=new WeakMap,Df=new WeakMap;oo.default=Y_});var Xr=de(Ye=>{"use strict";x();var k5=Ye&&Ye.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Kd=Ye&&Ye.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&k5(e,t,r)},vi=Ye&&Ye.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.createWarnLogger=Ye.createInfoLogger=Ye.createErrorLogger=Ye.createDebugLogger=Ye.createLoggers=Ye.ProtocolHelpers=Ye.Helpers=Ye.ExposedThing=Ye.ConsumedThing=Ye.DefaultContent=Ye.Content=Ye.NetconfOctetstreamCodecCodec=Ye.Base64Codec=Ye.TextCodec=Ye.CborCodec=Ye.JsonCodec=Ye.Servient=void 0;var iI=vi(nI());Ye.Servient=iI.default;Ye.default=iI.default;Kd(Gs(),Ye);Kd(xl(),Ye);Kd(Jn(),Ye);var D5=Nb();Object.defineProperty(Ye,"JsonCodec",{enumerable:!0,get:function(){return vi(D5).default}});var F5=Pb();Object.defineProperty(Ye,"CborCodec",{enumerable:!0,get:function(){return vi(F5).default}});var q5=Lb();Object.defineProperty(Ye,"TextCodec",{enumerable:!0,get:function(){return vi(q5).default}});var W5=Ub();Object.defineProperty(Ye,"Base64Codec",{enumerable:!0,get:function(){return vi(W5).default}});var H5=r_();Object.defineProperty(Ye,"NetconfOctetstreamCodecCodec",{enumerable:!0,get:function(){return vi(H5).default}});Kd(Zb(),Ye);var oI=cb();Object.defineProperty(Ye,"Content",{enumerable:!0,get:function(){return oI.Content}});Object.defineProperty(Ye,"DefaultContent",{enumerable:!0,get:function(){return oI.DefaultContent}});var z5=j_();Object.defineProperty(Ye,"ConsumedThing",{enumerable:!0,get:function(){return vi(z5).default}});var V5=w_();Object.defineProperty(Ye,"ExposedThing",{enumerable:!0,get:function(){return vi(V5).default}});var G5=za();Object.defineProperty(Ye,"Helpers",{enumerable:!0,get:function(){return vi(G5).default}});var Y5=fd();Object.defineProperty(Ye,"ProtocolHelpers",{enumerable:!0,get:function(){return vi(Y5).default}});var Ff=Wr();Object.defineProperty(Ye,"createLoggers",{enumerable:!0,get:function(){return Ff.createLoggers}});Object.defineProperty(Ye,"createDebugLogger",{enumerable:!0,get:function(){return Ff.createDebugLogger}});Object.defineProperty(Ye,"createErrorLogger",{enumerable:!0,get:function(){return Ff.createErrorLogger}});Object.defineProperty(Ye,"createInfoLogger",{enumerable:!0,get:function(){return Ff.createInfoLogger}});Object.defineProperty(Ye,"createWarnLogger",{enumerable:!0,get:function(){return Ff.createWarnLogger}})});var qf=de((Za,sI)=>{"use strict";x();var K5=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},js=K5();sI.exports=Za=js.fetch;js.fetch&&(Za.default=js.fetch.bind(js));Za.Headers=js.Headers;Za.Request=js.Request;Za.Response=js.Response});var uI=de(aI=>{"use strict";x();aI.isArray=Array.isArray||function(t){return t&&typeof t.length=="number"}});var lI=de(fI=>{"use strict";x();function J5(t){return t!=null&&typeof t=="object"}fI.isObject=J5});var dI=de(cI=>{"use strict";x();function X5(t){return typeof t=="function"}cI.isFunction=X5});var K_=de(hI=>{"use strict";x();hI.errorObject={e:{}}});var gI=de(mI=>{"use strict";x();var pI=K_(),yI;function Z5(){try{return yI.apply(this,arguments)}catch(t){return pI.errorObject.e=t,pI.errorObject}}function Q5(t){return yI=t,Z5}mI.tryCatch=Q5});var bI=de(Jd=>{"use strict";x();var e9=Jd&&Jd.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},t9=function(t){e9(e,t);function e(r){t.call(this),this.errors=r;var n=Error.call(this,r?r.length+` errors occurred during unsubscription:
  `+r.map(function(i,s){return s+1+") "+i.toString()}).join(`
  `):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return e}(Error);Jd.UnsubscriptionError=t9});var EI=de(vI=>{"use strict";x();var r9=uI(),n9=lI(),i9=dI(),_I=gI(),Qa=K_(),Xd=bI(),o9=function(){function t(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e=!1,r;if(!this.closed){var n=this,i=n._parent,s=n._parents,o=n._unsubscribe,a=n._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var u=-1,c=s?s.length:0;i;)i.remove(this),i=++u<c&&s[u]||null;if(i9.isFunction(o)){var l=_I.tryCatch(o).call(this);l===Qa.errorObject&&(e=!0,r=r||(Qa.errorObject.e instanceof Xd.UnsubscriptionError?wI(Qa.errorObject.e.errors):[Qa.errorObject.e]))}if(r9.isArray(a))for(u=-1,c=a.length;++u<c;){var p=a[u];if(n9.isObject(p)){var l=_I.tryCatch(p.unsubscribe).call(p);if(l===Qa.errorObject){e=!0,r=r||[];var h=Qa.errorObject.e;h instanceof Xd.UnsubscriptionError?r=r.concat(wI(h.errors)):r.push(h)}}}if(e)throw new Xd.UnsubscriptionError(r)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var r=e;switch(typeof e){case"function":r=new t(e);case"object":if(r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(typeof r._addParent!="function"){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=this._subscriptions||(this._subscriptions=[]);return i.push(r),r._addParent(this),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.prototype._addParent=function(e){var r=this,n=r._parent,i=r._parents;!n||n===e?this._parent=e:i?i.indexOf(e)===-1&&i.push(e):this._parents=[e]},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();vI.Subscription=o9;function wI(t){return t.reduce(function(e,r){return e.concat(r instanceof Xd.UnsubscriptionError?r.errors:r)},[])}});var SI=de(()=>{x()});var RI={};qn(RI,{decode:()=>f9,default:()=>so,encode:()=>l9,parse:()=>c9,stringify:()=>d9});function s9(){if(TI)return J_;TI=!0;function t(e,r){return Object.prototype.hasOwnProperty.call(e,r)}return J_=function(e,r,n,i){r=r||"&",n=n||"=";var s={};if(typeof e!="string"||e.length===0)return s;var o=/\+/g;e=e.split(r);var a=1e3;i&&typeof i.maxKeys=="number"&&(a=i.maxKeys);var u=e.length;a>0&&u>a&&(u=a);for(var c=0;c<u;++c){var l=e[c].replace(o,"%20"),p=l.indexOf(n),h,y,b,w;p>=0?(h=l.substr(0,p),y=l.substr(p+1)):(h=l,y=""),b=decodeURIComponent(h),w=decodeURIComponent(y),t(s,b)?Array.isArray(s[b])?s[b].push(w):s[b]=[s[b],w]:s[b]=w}return s},J_}function a9(){if(AI)return X_;AI=!0;var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};return X_=function(e,r,n,i){return r=r||"&",n=n||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(s){var o=encodeURIComponent(t(s))+n;return Array.isArray(e[s])?e[s].map(function(a){return o+encodeURIComponent(t(a))}).join(r):o+encodeURIComponent(t(e[s]))}).filter(Boolean).join(r):i?encodeURIComponent(t(i))+n+encodeURIComponent(t(e)):""},X_}function u9(){return $I||($I=!0,eu.decode=eu.parse=s9(),eu.encode=eu.stringify=a9()),eu}var J_,TI,X_,AI,eu,$I,so,f9,l9,c9,d9,OI=Rt(()=>{x();J_={},TI=!1;X_={},AI=!1;eu={},$I=!1;so=u9();so.decode;so.parse;so.encode;so.stringify;f9=so.decode,l9=so.encode,c9=so.parse,d9=so.stringify});var II=de((mee,PI)=>{x();PI.exports=function(e,r,n,i){return new Promise(function(s,o){var a=new window.XMLHttpRequest;a.open(e,r),a.onload=function(){return s({status:a.status,body:a.responseText})},a.onerror=a.onabort=function(){return o(new Error(a.statusText||"XHR aborted: "+r))},Object.keys(i).forEach(function(u){a.setRequestHeader(u,i[u])}),a.send(n)})}});var jI=de((_ee,BI)=>{x();var CI=SI().Buffer,Us=(OI(),ht(RI)),h9=II(),Zd="https://example.org/",Z_;typeof CI=="function"?Z_=y9:Z_=window.btoa.bind(window);BI.exports=Wf;var Hf={Accept:"application/json, application/x-www-form-urlencoded","Content-Type":"application/x-www-form-urlencoded"},p9={invalid_request:["The request is missing a required parameter, includes an","invalid parameter value, includes a parameter more than","once, or is otherwise malformed."].join(" "),invalid_client:["Client authentication failed (e.g., unknown client, no","client authentication included, or unsupported","authentication method)."].join(" "),invalid_grant:["The provided authorization grant (e.g., authorization","code, resource owner credentials) or refresh token is","invalid, expired, revoked, does not match the redirection","URI used in the authorization request, or was issued to","another client."].join(" "),unauthorized_client:["The client is not authorized to request an authorization","code using this method."].join(" "),unsupported_grant_type:["The authorization grant type is not supported by the","authorization server."].join(" "),access_denied:["The resource owner or authorization server denied the request."].join(" "),unsupported_response_type:["The authorization server does not support obtaining","an authorization code using this method."].join(" "),invalid_scope:["The requested scope is invalid, unknown, or malformed."].join(" "),server_error:["The authorization server encountered an unexpected","condition that prevented it from fulfilling the request.","(This error code is needed because a 500 Internal Server","Error HTTP status code cannot be returned to the client","via an HTTP redirect.)"].join(" "),temporarily_unavailable:["The authorization server is currently unable to handle","the request due to a temporary overloading or maintenance","of the server."].join(" ")};function y9(t){return CI.from(t).toString("base64")}function Qd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];if(t[r]==null)throw new TypeError('Expected "'+r+'" to exist')}}function e0(t){var e=p9[t.error]||t.error_description||t.error;if(e){var r=new Error(e);return r.body=t,r.code="EAUTH",r}}function m9(t){try{return JSON.parse(t)}catch{return Us.parse(t)}}function eh(t){return Array.isArray(t)?t.join(" "):Q_(t)}function NI(t,e){Qd(t,"clientId","authorizationUri");let r={client_id:t.clientId,redirect_uri:t.redirectUri,response_type:e,state:t.state};t.scopes!==void 0&&(r.scope=eh(t.scopes));let n=t.authorizationUri.includes("?")?"&":"?";return t.authorizationUri+n+Us.stringify(Object.assign(r,t.query))}function zf(t,e){return"Basic "+Z_(Q_(t)+":"+Q_(e))}function Q_(t){return t==null?"":String(t)}function Vf(t,e){return{url:t.url,method:t.method,body:Object.assign({},t.body,e.body),query:Object.assign({},t.query,e.query),headers:Object.assign({},t.headers,e.headers)}}function Wf(t,e){this.options=t,this.request=e||h9,this.code=new r0(this),this.token=new t0(this),this.owner=new xI(this),this.credentials=new MI(this),this.jwt=new LI(this)}Wf.Token=Gf;Wf.prototype.createToken=function(t,e,r,n){var i=Object.assign({},n,typeof t=="string"?{access_token:t}:t,typeof e=="string"?{refresh_token:e}:e,typeof r=="string"?{token_type:r}:r);return new Wf.Token(this,i)};Wf.prototype._request=function(t){var e=t.url,r=Us.stringify(t.body),n=Us.stringify(t.query);return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),this.request(t.method,e,r,t.headers).then(function(i){var s=m9(i.body),o=e0(s);if(o)return Promise.reject(o);if(i.status<200||i.status>=399){var a=new Error("HTTP status "+i.status);return a.status=i.status,a.body=i.body,a.code="ESTATUS",Promise.reject(a)}return s})};function Gf(t,e){this.client=t,this.data=e,this.tokenType=e.token_type&&e.token_type.toLowerCase(),this.accessToken=e.access_token,this.refreshToken=e.refresh_token,this.expiresIn(Number(e.expires_in))}Gf.prototype.expiresIn=function(t){if(typeof t=="number")this.expires=new Date,this.expires.setSeconds(this.expires.getSeconds()+t);else if(t instanceof Date)this.expires=new Date(t.getTime());else throw new TypeError("Unknown duration: "+t);return this.expires};Gf.prototype.sign=function(t){if(!this.accessToken)throw new Error("Unable to sign without access token");if(t.headers=t.headers||{},this.tokenType==="bearer")t.headers.Authorization="Bearer "+this.accessToken;else{var e=t.url.split("#"),r="access_token="+this.accessToken,n=e[0].replace(/[?&]access_token=[^&#]/,""),i=e[1]?"#"+e[1]:"";t.url=n+(n.indexOf("?")>-1?"&":"?")+r+i,t.headers.Pragma="no-store",t.headers["Cache-Control"]="no-store"}return t};Gf.prototype.refresh=function(t){var e=this,r=Object.assign({},this.client.options,t);return this.refreshToken?this.client._request(Vf({url:r.accessTokenUri,method:"POST",headers:Object.assign({},Hf,{Authorization:zf(r.clientId,r.clientSecret)}),body:{refresh_token:this.refreshToken,grant_type:"refresh_token"}},r)).then(function(n){return e.client.createToken(Object.assign({},e.data,n))}):Promise.reject(new Error("No refresh token"))};Gf.prototype.expired=function(){return Date.now()>this.expires.getTime()};function xI(t){this.client=t}xI.prototype.getToken=function(t,e,r){var n=this,i=Object.assign({},this.client.options,r);let s={username:t,password:e,grant_type:"password"};return i.scopes!==void 0&&(s.scope=eh(i.scopes)),this.client._request(Vf({url:i.accessTokenUri,method:"POST",headers:Object.assign({},Hf,{Authorization:zf(i.clientId,i.clientSecret)}),body:s},i)).then(function(o){return n.client.createToken(o)})};function t0(t){this.client=t}t0.prototype.getUri=function(t){var e=Object.assign({},this.client.options,t);return NI(e,"token")};t0.prototype.getToken=function(t,e){var r=Object.assign({},this.client.options,e),n=typeof t=="object"?t:new URL(t,Zd),i=new URL(r.redirectUri,Zd);if(typeof n.pathname=="string"&&n.pathname!==i.pathname)return Promise.reject(new TypeError("Redirected path should match configured path, but got: "+n.pathname));if(!n.hash&&!n.search)return Promise.reject(new TypeError("Unable to process uri: "+t));var s=Object.assign({},typeof n.search=="string"?Us.parse(n.search.substr(1)):n.search||{},typeof n.hash=="string"?Us.parse(n.hash.substr(1)):n.hash||{}),o=e0(s);return o?Promise.reject(o):r.state!=null&&s.state!==r.state?Promise.reject(new TypeError("Invalid state: "+s.state)):Promise.resolve(this.client.createToken(s))};function MI(t){this.client=t}MI.prototype.getToken=function(t){var e=this,r=Object.assign({},this.client.options,t);Qd(r,"clientId","clientSecret","accessTokenUri");let n={grant_type:"client_credentials"};return r.scopes!==void 0&&(n.scope=eh(r.scopes)),this.client._request(Vf({url:r.accessTokenUri,method:"POST",headers:Object.assign({},Hf,{Authorization:zf(r.clientId,r.clientSecret)}),body:n},r)).then(function(i){return e.client.createToken(i)})};function r0(t){this.client=t}r0.prototype.getUri=function(t){var e=Object.assign({},this.client.options,t);return NI(e,"code")};r0.prototype.getToken=function(t,e){var r=this,n=Object.assign({},this.client.options,e);Qd(n,"clientId","accessTokenUri");var i=typeof t=="object"?t:new URL(t,Zd);if(typeof n.redirectUri=="string"&&typeof i.pathname=="string"&&i.pathname!==new URL(n.redirectUri,Zd).pathname)return Promise.reject(new TypeError("Redirected path should match configured path, but got: "+i.pathname));if(!i.search||!i.search.substr(1))return Promise.reject(new TypeError("Unable to process uri: "+t));var s=typeof i.search=="string"?Us.parse(i.search.substr(1)):i.search||{},o=e0(s);if(o)return Promise.reject(o);if(n.state!=null&&s.state!==n.state)return Promise.reject(new TypeError("Invalid state: "+s.state));if(!s.code)return Promise.reject(new TypeError("Missing code, unable to request token"));var a=Object.assign({},Hf),u={code:s.code,grant_type:"authorization_code",redirect_uri:n.redirectUri};return n.clientSecret?a.Authorization=zf(n.clientId,n.clientSecret):u.client_id=n.clientId,this.client._request(Vf({url:n.accessTokenUri,method:"POST",headers:a,body:u},n)).then(function(c){return r.client.createToken(c)})};function LI(t){this.client=t}LI.prototype.getToken=function(t,e){var r=this,n=Object.assign({},this.client.options,e),i=Object.assign({},Hf);Qd(n,"accessTokenUri"),n.clientId&&(i.Authorization=zf(n.clientId,n.clientSecret));let s={grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:t};return n.scopes!==void 0&&(s.scope=eh(n.scopes)),this.client._request(Vf({url:n.accessTokenUri,method:"POST",headers:i,body:s},n)).then(function(o){return r.client.createToken(o)})}});var kI=de((Eee,UI)=>{"use strict";x();UI.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)});var HI=de((Aee,WI)=>{"use strict";x();var qI="%[a-f0-9]{2}",DI=new RegExp("("+qI+")|([^%]+?)","gi"),FI=new RegExp("("+qI+")+","gi");function n0(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],n0(r),n0(n))}function g9(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(DI)||[],r=1;r<e.length;r++)t=n0(e,r).join(""),e=t.match(DI)||[];return t}}function b9(t){for(var e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=FI.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch{var n=g9(r[0]);n!==r[0]&&(e[r[0]]=n)}r=FI.exec(t)}e["%C2"]="\uFFFD";for(var i=Object.keys(e),s=0;s<i.length;s++){var o=i[s];t=t.replace(new RegExp(o,"g"),e[o])}return t}WI.exports=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return b9(t)}}});var VI=de((Oee,zI)=>{"use strict";x();zI.exports=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];let r=t.indexOf(e);return r===-1?[t]:[t.slice(0,r),t.slice(r+e.length)]}});var YI=de((Cee,GI)=>{"use strict";x();GI.exports=function(t,e){for(var r={},n=Object.keys(t),i=Array.isArray(e),s=0;s<n.length;s++){var o=n[s],a=t[o];(i?e.indexOf(o)!==-1:e(o,a,t))&&(r[o]=a)}return r}});var r2=de(yn=>{"use strict";x();var _9=kI(),w9=HI(),JI=VI(),v9=YI(),E9=t=>t==null,i0=Symbol("encodeFragmentIdentifier");function S9(t){switch(t.arrayFormat){case"index":return e=>(r,n)=>{let i=r.length;return n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,[sr(e,t),"[",i,"]"].join("")]:[...r,[sr(e,t),"[",sr(i,t),"]=",sr(n,t)].join("")]};case"bracket":return e=>(r,n)=>n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,[sr(e,t),"[]"].join("")]:[...r,[sr(e,t),"[]=",sr(n,t)].join("")];case"colon-list-separator":return e=>(r,n)=>n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,[sr(e,t),":list="].join("")]:[...r,[sr(e,t),":list=",sr(n,t)].join("")];case"comma":case"separator":case"bracket-separator":{let e=t.arrayFormat==="bracket-separator"?"[]=":"=";return r=>(n,i)=>i===void 0||t.skipNull&&i===null||t.skipEmptyString&&i===""?n:(i=i===null?"":i,n.length===0?[[sr(r,t),e,sr(i,t)].join("")]:[[n,sr(i,t)].join(t.arrayFormatSeparator)])}default:return e=>(r,n)=>n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,sr(e,t)]:[...r,[sr(e,t),"=",sr(n,t)].join("")]}}function T9(t){let e;switch(t.arrayFormat){case"index":return(r,n,i)=>{if(e=/\[(\d*)\]$/.exec(r),r=r.replace(/\[\d*\]$/,""),!e){i[r]=n;return}i[r]===void 0&&(i[r]={}),i[r][e[1]]=n};case"bracket":return(r,n,i)=>{if(e=/(\[\])$/.exec(r),r=r.replace(/\[\]$/,""),!e){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[].concat(i[r],n)};case"colon-list-separator":return(r,n,i)=>{if(e=/(:list)$/.exec(r),r=r.replace(/:list$/,""),!e){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[].concat(i[r],n)};case"comma":case"separator":return(r,n,i)=>{let s=typeof n=="string"&&n.includes(t.arrayFormatSeparator),o=typeof n=="string"&&!s&&ao(n,t).includes(t.arrayFormatSeparator);n=o?ao(n,t):n;let a=s||o?n.split(t.arrayFormatSeparator).map(u=>ao(u,t)):n===null?n:ao(n,t);i[r]=a};case"bracket-separator":return(r,n,i)=>{let s=/(\[\])$/.test(r);if(r=r.replace(/\[\]$/,""),!s){i[r]=n&&ao(n,t);return}let o=n===null?[]:n.split(t.arrayFormatSeparator).map(a=>ao(a,t));if(i[r]===void 0){i[r]=o;return}i[r]=[].concat(i[r],o)};default:return(r,n,i)=>{if(i[r]===void 0){i[r]=n;return}i[r]=[].concat(i[r],n)}}}function XI(t){if(typeof t!="string"||t.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function sr(t,e){return e.encode?e.strict?_9(t):encodeURIComponent(t):t}function ao(t,e){return e.decode?w9(t):t}function ZI(t){return Array.isArray(t)?t.sort():typeof t=="object"?ZI(Object.keys(t)).sort((e,r)=>Number(e)-Number(r)).map(e=>t[e]):t}function QI(t){let e=t.indexOf("#");return e!==-1&&(t=t.slice(0,e)),t}function A9(t){let e="",r=t.indexOf("#");return r!==-1&&(e=t.slice(r)),e}function e2(t){t=QI(t);let e=t.indexOf("?");return e===-1?"":t.slice(e+1)}function KI(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&typeof t=="string"&&t.trim()!==""?t=Number(t):e.parseBooleans&&t!==null&&(t.toLowerCase()==="true"||t.toLowerCase()==="false")&&(t=t.toLowerCase()==="true"),t}function t2(t,e){e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e),XI(e.arrayFormatSeparator);let r=T9(e),n=Object.create(null);if(typeof t!="string"||(t=t.trim().replace(/^[?#&]/,""),!t))return n;for(let i of t.split("&")){if(i==="")continue;let[s,o]=JI(e.decode?i.replace(/\+/g," "):i,"=");o=o===void 0?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?o:ao(o,e),r(ao(s,e),o,n)}for(let i of Object.keys(n)){let s=n[i];if(typeof s=="object"&&s!==null)for(let o of Object.keys(s))s[o]=KI(s[o],e);else n[i]=KI(s,e)}return e.sort===!1?n:(e.sort===!0?Object.keys(n).sort():Object.keys(n).sort(e.sort)).reduce((i,s)=>{let o=n[s];return o&&typeof o=="object"&&!Array.isArray(o)?i[s]=ZI(o):i[s]=o,i},Object.create(null))}yn.extract=e2;yn.parse=t2;yn.stringify=(t,e)=>{if(!t)return"";e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e),XI(e.arrayFormatSeparator);let r=o=>e.skipNull&&E9(t[o])||e.skipEmptyString&&t[o]==="",n=S9(e),i={};for(let o of Object.keys(t))r(o)||(i[o]=t[o]);let s=Object.keys(i);return e.sort!==!1&&s.sort(e.sort),s.map(o=>{let a=t[o];return a===void 0?"":a===null?sr(o,e):Array.isArray(a)?a.length===0&&e.arrayFormat==="bracket-separator"?sr(o,e)+"[]":a.reduce(n(o),[]).join("&"):sr(o,e)+"="+sr(a,e)}).filter(o=>o.length>0).join("&")};yn.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);let[r,n]=JI(t,"#");return Object.assign({url:r.split("?")[0]||"",query:t2(e2(t),e)},e&&e.parseFragmentIdentifier&&n?{fragmentIdentifier:ao(n,e)}:{})};yn.stringifyUrl=(t,e)=>{e=Object.assign({encode:!0,strict:!0,[i0]:!0},e);let r=QI(t.url).split("?")[0]||"",n=yn.extract(t.url),i=yn.parse(n,{sort:!1}),s=Object.assign(i,t.query),o=yn.stringify(s,e);o&&(o=`?${o}`);let a=A9(t.url);return t.fragmentIdentifier&&(a=`#${e[i0]?sr(t.fragmentIdentifier,e):t.fragmentIdentifier}`),`${r}${o}${a}`};yn.pick=(t,e,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[i0]:!1},r);let{url:n,query:i,fragmentIdentifier:s}=yn.parseUrl(t,r);return yn.stringifyUrl({url:n,query:v9(i,e),fragmentIdentifier:s},r)};yn.exclude=(t,e,r)=>{let n=Array.isArray(e)?i=>!e.includes(i):(i,s)=>!e(i,s);return yn.pick(t,n,r)}});var d0=de(lr=>{"use strict";x();var $9=lr&&lr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),R9=lr&&lr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c0=lr&&lr.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var n=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[n.length]=i);return n},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n=t(e),i=0;i<n.length;i++)n[i]!=="default"&&$9(r,e,n[i]);return R9(r,e),r}}();Object.defineProperty(lr,"__esModule",{value:!0});lr.TuyaCustomBearer=lr.OAuthCredential=lr.BasicKeyCredential=lr.BearerCredential=lr.BasicCredential=lr.Credential=void 0;var o0=c0(qf()),n2=c0((eg(),ht(Qm))),i2=c0(r2()),Wo=class{};lr.Credential=Wo;var s0=class extends Wo{constructor({username:e,password:r},n){if(super(),e===void 0||r===void 0||e===null||r===null)throw new Error("No Basic credentials for Thing");this.username=e,this.password=r,this.options=n}async sign(e){let r=e.clone(),n="authorization";return this.options!==void 0&&this.options.in==="header"&&this.options.name!==void 0&&(n=this.options.name),r.headers.set(n,"Basic "+oe.from(this.username+":"+this.password).toString("base64")),r}};lr.BasicCredential=s0;var a0=class extends Wo{constructor({token:e},r){if(super(),e==null)throw new Error("No Bearer credentials for Thing");this.token=e,this.options=r}async sign(e){let r=e.clone(),n="authorization";return this.options.in==="header"&&this.options.name!==void 0&&(n=this.options.name),r.headers.set(n,"Bearer "+this.token),r}};lr.BearerCredential=a0;var u0=class extends Wo{constructor({apiKey:e},r){if(super(),e==null)throw new Error("No API key credentials for Thing");this.apiKey=e,this.options=r}async sign(e){let r=e.clone(),n="authorization";return this.options.in==="header"&&this.options.name!==void 0&&(n=this.options.name),r.headers.append(n,this.apiKey),r}};lr.BasicKeyCredential=u0;var f0=class t extends Wo{constructor(e,r){super(),this.token=e,this.refresh=r,this.token=e}async sign(e){if(this.token instanceof Promise){let i=this.token;this.token=await i}let r={url:e.url,headers:{}};return r=this.token.sign(r),new o0.Request(e,r)}async refreshToken(){if(this.token instanceof Promise)throw new Error("Uninitialized token. You have to call sing before refresh");let e;return this.refresh?e=await this.refresh():e=await this.token.refresh(),new t(e,this.refresh)}};lr.OAuthCredential=f0;var l0=class extends Wo{constructor(e,r){super(),this.key=e.key,this.secret=e.secret,this.baseUri=r.baseUri}async sign(e){let r=this.isTokenExpired();(this.token===void 0||this.token===""||r)&&await this.requestAndRefreshToken(r);let n=e.url,i=e.body?.read().toString(),s=e.method,o=this.getHeaders(!0,e.headers.raw(),i,n,s);return Object.assign(o,e.headers.raw()),new o0.Request(n,{method:s,body:i!==""?i:void 0,headers:o})}async requestAndRefreshToken(e){let n={headers:this.getHeaders(!1,{}),method:"GET"},i=`${this.baseUri}/token?grant_type=1`;e&&(i=`${this.baseUri}/token/${this.refreshToken}`);let s=await(await(0,o0.default)(i,n)).json();if(s.success??!1){this.token=s.result?.access_token,this.refreshToken=s.result?.refresh_token;let a=s.result?.expire_time;a!=null&&(this.expireTime=new Date(Date.now()+a*1e3))}else throw new Error("token fetch failed")}getHeaders(e,r,n,i,s){let o=Date.now().toString(),a=this.baseUri.replace("/v1.0",""),u=i?.replace(a,""),c=this.requestSign(e,o,n,u,s);return{t:o,client_id:this.key,sign_method:"HMAC-SHA256",sign:c,access_token:this.token??""}}requestSign(e,r,n,i="",s){let o=n2.createHash("sha256").update(n??"").digest("hex"),a="/v1.0/token?grant_type=1",u="",c="",l=s??"GET";if(e){c=this.token??"";let y=i2.parse(i.split("?")[1]),b={};b=Object.assign(b,y);let w={};Object.keys(b).sort().forEach(E=>{w[E]=b[E]});let m=i2.stringify(w);a=decodeURIComponent(m?`${i.split("?")[0]}?${m}`:i)}let p=[this.key,c,r,[l,o,u,a].join(`
`)].join("");return n2.createHmac("sha256",this.secret).update(p).digest("hex").toUpperCase()}isTokenExpired(){return this.expireTime?Date.now()>this.expireTime.getTime():!1}};lr.TuyaCustomBearer=l0});var p0=de(Yf=>{"use strict";x();var O9=Yf&&Yf.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yf,"__esModule",{value:!0});var o2=Xr(),s2=O9(jI()),P9=(ef(),ht(Qu)),a2=d0();function u2(t){return(e,r,n,i)=>new Promise((s,o)=>{let a=new URL(r),u={method:e,host:a.hostname,port:parseInt(a.port),path:a.pathname+a.search,headers:i};u.rejectUnauthorized=t;let c=(0,P9.request)(u);c.on("response",l=>{l.setEncoding("utf8");let p=[];l.on("data",h=>{p.push(h)}),l.on("end",()=>{s({status:l.statusCode??500,body:p.toString()})})}),c.on("error",l=>{o(l)}),c.write(n),c.end()})}var h0=class{constructor(){this.tokenStore=new Map}handleClient(e,r){let n=new s2.default({clientId:r.clientId,clientSecret:r.clientSecret,accessTokenUri:e.token,scopes:o2.Helpers.toStringArray(e.scopes),body:{}},u2(!1)),i=n.credentials.getToken();return new a2.OAuthCredential(i,n.credentials.getToken.bind(n.credentials))}handleResourceOwnerCredential(e,r){let i=new s2.default({clientId:r.clientId,clientSecret:r.clientSecret,accessTokenUri:e.token,scopes:o2.Helpers.toStringArray(e.scopes)},u2(!1)).owner.getToken(r.username,r.password);return new a2.OAuthCredential(i)}};Yf.default=h0});function I9(){if(f2)return y0;f2=!0;let t=2147483647,e=36,r=1,n=26,i=38,s=700,o=72,a=128,u="-",c=/^xn--/,l=/[^\0-\x7F]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},y=e-r,b=Math.floor,w=String.fromCharCode;function m(H){throw new RangeError(h[H])}function E(H,fe){let me=[],Te=H.length;for(;Te--;)me[Te]=fe(H[Te]);return me}function T(H,fe){let me=H.split("@"),Te="";me.length>1&&(Te=me[0]+"@",H=me[1]),H=H.replace(p,".");let Ae=H.split("."),Z=E(Ae,fe).join(".");return Te+Z}function S(H){let fe=[],me=0,Te=H.length;for(;me<Te;){let Ae=H.charCodeAt(me++);if(Ae>=55296&&Ae<=56319&&me<Te){let Z=H.charCodeAt(me++);(Z&64512)==56320?fe.push(((Ae&1023)<<10)+(Z&1023)+65536):(fe.push(Ae),me--)}else fe.push(Ae)}return fe}let P=H=>String.fromCodePoint(...H),A=function(H){return H>=48&&H<58?26+(H-48):H>=65&&H<91?H-65:H>=97&&H<123?H-97:e},N=function(H,fe){return H+22+75*(H<26)-((fe!=0)<<5)},C=function(H,fe,me){let Te=0;for(H=me?b(H/s):H>>1,H+=b(H/fe);H>y*n>>1;Te+=e)H=b(H/y);return b(Te+(y+1)*H/(H+i))},W=function(H){let fe=[],me=H.length,Te=0,Ae=a,Z=o,we=H.lastIndexOf(u);we<0&&(we=0);for(let D=0;D<we;++D)H.charCodeAt(D)>=128&&m("not-basic"),fe.push(H.charCodeAt(D));for(let D=we>0?we+1:0;D<me;){let ae=Te;for(let F=1,te=e;;te+=e){D>=me&&m("invalid-input");let pe=A(H.charCodeAt(D++));pe>=e&&m("invalid-input"),pe>b((t-Te)/F)&&m("overflow"),Te+=pe*F;let Ie=te<=Z?r:te>=Z+n?n:te-Z;if(pe<Ie)break;let M=e-Ie;F>b(t/M)&&m("overflow"),F*=M}let Y=fe.length+1;Z=C(Te-ae,Y,ae==0),b(Te/Y)>t-Ae&&m("overflow"),Ae+=b(Te/Y),Te%=Y,fe.splice(Te++,0,Ae)}return String.fromCodePoint(...fe)},z=function(H){let fe=[];H=S(H);let me=H.length,Te=a,Ae=0,Z=o;for(let ae of H)ae<128&&fe.push(w(ae));let we=fe.length,D=we;for(we&&fe.push(u);D<me;){let ae=t;for(let F of H)F>=Te&&F<ae&&(ae=F);let Y=D+1;ae-Te>b((t-Ae)/Y)&&m("overflow"),Ae+=(ae-Te)*Y,Te=ae;for(let F of H)if(F<Te&&++Ae>t&&m("overflow"),F===Te){let te=Ae;for(let pe=e;;pe+=e){let Ie=pe<=Z?r:pe>=Z+n?n:pe-Z;if(te<Ie)break;let M=te-Ie,I=e-Ie;fe.push(w(N(Ie+M%I,0))),te=b(M/I)}fe.push(w(N(te,0))),Z=C(Ae,Y,D===we),Ae=0,++D}++Ae,++Te}return fe.join("")};return y0={version:"2.3.1",ucs2:{decode:S,encode:P},decode:W,encode:z,toASCII:function(H){return T(H,function(fe){return l.test(fe)?"xn--"+z(fe):fe})},toUnicode:function(H){return T(H,function(fe){return c.test(fe)?W(fe.slice(4).toLowerCase()):fe})}},y0}var y0,f2,Ho,Wee,Hee,zee,Vee,Gee,Yee,l2=Rt(()=>{x();y0={},f2=!1;Ho=I9(),Wee=Ho.decode,Hee=Ho.encode,zee=Ho.toASCII,Vee=Ho.toUnicode,Gee=Ho.ucs2,Yee=Ho.version});function C9(){if(c2)return m0;c2=!0;var t=or;function e(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}function r(s,o){for(var a="",u=0,c=-1,l=0,p,h=0;h<=s.length;++h){if(h<s.length)p=s.charCodeAt(h);else{if(p===47)break;p=47}if(p===47){if(!(c===h-1||l===1))if(c!==h-1&&l===2){if(a.length<2||u!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var y=a.lastIndexOf("/");if(y!==a.length-1){y===-1?(a="",u=0):(a=a.slice(0,y),u=a.length-1-a.lastIndexOf("/")),c=h,l=0;continue}}else if(a.length===2||a.length===1){a="",u=0,c=h,l=0;continue}}o&&(a.length>0?a+="/..":a="..",u=2)}else a.length>0?a+="/"+s.slice(c+1,h):a=s.slice(c+1,h),u=h-c-1;c=h,l=0}else p===46&&l!==-1?++l:l=-1}return a}function n(s,o){var a=o.dir||o.root,u=o.base||(o.name||"")+(o.ext||"");return a?a===o.root?a+u:a+s+u:u}var i={resolve:function(){for(var o="",a=!1,u,c=arguments.length-1;c>=-1&&!a;c--){var l;c>=0?l=arguments[c]:(u===void 0&&(u=t.cwd()),l=u),e(l),l.length!==0&&(o=l+"/"+o,a=l.charCodeAt(0)===47)}return o=r(o,!a),a?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(o){if(e(o),o.length===0)return".";var a=o.charCodeAt(0)===47,u=o.charCodeAt(o.length-1)===47;return o=r(o,!a),o.length===0&&!a&&(o="."),o.length>0&&u&&(o+="/"),a?"/"+o:o},isAbsolute:function(o){return e(o),o.length>0&&o.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var o,a=0;a<arguments.length;++a){var u=arguments[a];e(u),u.length>0&&(o===void 0?o=u:o+="/"+u)}return o===void 0?".":i.normalize(o)},relative:function(o,a){if(e(o),e(a),o===a||(o=i.resolve(o),a=i.resolve(a),o===a))return"";for(var u=1;u<o.length&&o.charCodeAt(u)===47;++u);for(var c=o.length,l=c-u,p=1;p<a.length&&a.charCodeAt(p)===47;++p);for(var h=a.length,y=h-p,b=l<y?l:y,w=-1,m=0;m<=b;++m){if(m===b){if(y>b){if(a.charCodeAt(p+m)===47)return a.slice(p+m+1);if(m===0)return a.slice(p+m)}else l>b&&(o.charCodeAt(u+m)===47?w=m:m===0&&(w=0));break}var E=o.charCodeAt(u+m),T=a.charCodeAt(p+m);if(E!==T)break;E===47&&(w=m)}var S="";for(m=u+w+1;m<=c;++m)(m===c||o.charCodeAt(m)===47)&&(S.length===0?S+="..":S+="/..");return S.length>0?S+a.slice(p+w):(p+=w,a.charCodeAt(p)===47&&++p,a.slice(p))},_makeLong:function(o){return o},dirname:function(o){if(e(o),o.length===0)return".";for(var a=o.charCodeAt(0),u=a===47,c=-1,l=!0,p=o.length-1;p>=1;--p)if(a=o.charCodeAt(p),a===47){if(!l){c=p;break}}else l=!1;return c===-1?u?"/":".":u&&c===1?"//":o.slice(0,c)},basename:function(o,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');e(o);var u=0,c=-1,l=!0,p;if(a!==void 0&&a.length>0&&a.length<=o.length){if(a.length===o.length&&a===o)return"";var h=a.length-1,y=-1;for(p=o.length-1;p>=0;--p){var b=o.charCodeAt(p);if(b===47){if(!l){u=p+1;break}}else y===-1&&(l=!1,y=p+1),h>=0&&(b===a.charCodeAt(h)?--h===-1&&(c=p):(h=-1,c=y))}return u===c?c=y:c===-1&&(c=o.length),o.slice(u,c)}else{for(p=o.length-1;p>=0;--p)if(o.charCodeAt(p)===47){if(!l){u=p+1;break}}else c===-1&&(l=!1,c=p+1);return c===-1?"":o.slice(u,c)}},extname:function(o){e(o);for(var a=-1,u=0,c=-1,l=!0,p=0,h=o.length-1;h>=0;--h){var y=o.charCodeAt(h);if(y===47){if(!l){u=h+1;break}continue}c===-1&&(l=!1,c=h+1),y===46?a===-1?a=h:p!==1&&(p=1):a!==-1&&(p=-1)}return a===-1||c===-1||p===0||p===1&&a===c-1&&a===u+1?"":o.slice(a,c)},format:function(o){if(o===null||typeof o!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof o);return n("/",o)},parse:function(o){e(o);var a={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return a;var u=o.charCodeAt(0),c=u===47,l;c?(a.root="/",l=1):l=0;for(var p=-1,h=0,y=-1,b=!0,w=o.length-1,m=0;w>=l;--w){if(u=o.charCodeAt(w),u===47){if(!b){h=w+1;break}continue}y===-1&&(b=!1,y=w+1),u===46?p===-1?p=w:m!==1&&(m=1):p!==-1&&(m=-1)}return p===-1||y===-1||m===0||m===1&&p===y-1&&p===h+1?y!==-1&&(h===0&&c?a.base=a.name=o.slice(1,y):a.base=a.name=o.slice(h,y)):(h===0&&c?(a.name=o.slice(1,p),a.base=o.slice(1,y)):(a.name=o.slice(h,p),a.base=o.slice(h,y)),a.ext=o.slice(p,y)),h>0?a.dir=o.slice(0,h-1):c&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,m0=i,m0}var m0,c2,g0,d2=Rt(()=>{x();wa();m0={},c2=!1;g0=C9()});var T2={};qn(T2,{URL:()=>z9,Url:()=>D9,default:()=>Qr,fileURLToPath:()=>E2,format:()=>F9,parse:()=>H9,pathToFileURL:()=>S2,resolve:()=>q9,resolveObject:()=>W9});function x9(){if(h2)return b0;h2=!0;var t=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,r=t&&e&&typeof e.get=="function"?e.get:null,n=t&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,s=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,o=i&&s&&typeof s.get=="function"?s.get:null,a=i&&Set.prototype.forEach,u=typeof WeakMap=="function"&&WeakMap.prototype,c=u?WeakMap.prototype.has:null,l=typeof WeakSet=="function"&&WeakSet.prototype,p=l?WeakSet.prototype.has:null,h=typeof WeakRef=="function"&&WeakRef.prototype,y=h?WeakRef.prototype.deref:null,b=Boolean.prototype.valueOf,w=Object.prototype.toString,m=Function.prototype.toString,E=String.prototype.match,T=String.prototype.slice,S=String.prototype.replace,P=String.prototype.toUpperCase,A=String.prototype.toLowerCase,N=RegExp.prototype.test,C=Array.prototype.concat,W=Array.prototype.join,z=Array.prototype.slice,j=Math.floor,ne=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Q=Object.getOwnPropertySymbols,H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,fe=typeof Symbol=="function"&&typeof Symbol.iterator=="object",me=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===fe||!0)?Symbol.toStringTag:null,Te=Object.prototype.propertyIsEnumerable,Ae=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(re){return re.__proto__}:null);function Z(re,ue){if(re===1/0||re===-1/0||re!==re||re&&re>-1e3&&re<1e3||N.call(/e/,ue))return ue;var Le=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof re=="number"){var ke=re<0?-j(-re):j(re);if(ke!==re){var je=String(ke),Xe=T.call(ue,je.length+1);return S.call(je,Le,"$&_")+"."+S.call(S.call(Xe,/([0-9]{3})/g,"$&_"),/_$/,"")}}return S.call(ue,Le,"$&_")}var we=N9,D=we.custom,ae=he(D)?D:null;b0=function re(ue,Le,ke,je){var Xe=Le||{};if(L(Xe,"quoteStyle")&&Xe.quoteStyle!=="single"&&Xe.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(L(Xe,"maxStringLength")&&(typeof Xe.maxStringLength=="number"?Xe.maxStringLength<0&&Xe.maxStringLength!==1/0:Xe.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var en=L(Xe,"customInspect")?Xe.customInspect:!0;if(typeof en!="boolean"&&en!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(L(Xe,"indent")&&Xe.indent!==null&&Xe.indent!=="	"&&!(parseInt(Xe.indent,10)===Xe.indent&&Xe.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(L(Xe,"numericSeparator")&&typeof Xe.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var mn=Xe.numericSeparator;if(typeof ue>"u")return"undefined";if(ue===null)return"null";if(typeof ue=="boolean")return ue?"true":"false";if(typeof ue=="string")return Ve(ue,Xe);if(typeof ue=="number"){if(ue===0)return 1/0/ue>0?"0":"-0";var ur=String(ue);return mn?Z(ue,ur):ur}if(typeof ue=="bigint"){var tr=String(ue)+"n";return mn?Z(ue,tr):tr}var uo=typeof Xe.depth>"u"?5:Xe.depth;if(typeof ke>"u"&&(ke=0),ke>=uo&&uo>0&&typeof ue=="object")return te(ue)?"[Array]":"[Object]";var Rr=B(Xe,ke);if(typeof je>"u")je=[];else if(le(je,ue)>=0)return"[Circular]";function Bt(_n,br,tn){if(br&&(je=z.call(je),je.push(br)),tn){var dr={depth:Xe.depth};return L(Xe,"quoteStyle")&&(dr.quoteStyle=Xe.quoteStyle),re(_n,dr,ke+1,je)}return re(_n,Xe,ke+1,je)}if(typeof ue=="function"&&!Ie(ue)){var gn=ye(ue),G=ee(ue,Bt);return"[Function"+(gn?": "+gn:" (anonymous)")+"]"+(G.length>0?" { "+W.call(G,", ")+" }":"")}if(he(ue)){var X=fe?S.call(String(ue),/^(Symbol\(.*\))_[^)]*$/,"$1"):H.call(ue);return typeof ue=="object"&&!fe?_(X):X}if(Ge(ue)){for(var xe="<"+A.call(String(ue.nodeName)),Me=ue.attributes||[],De=0;De<Me.length;De++)xe+=" "+Me[De].name+"="+Y(F(Me[De].value),"double",Xe);return xe+=">",ue.childNodes&&ue.childNodes.length&&(xe+="..."),xe+="</"+A.call(String(ue.nodeName))+">",xe}if(te(ue)){if(ue.length===0)return"[]";var zt=ee(ue,Bt);return Rr&&!O(zt)?"["+q(zt,Rr)+"]":"[ "+W.call(zt,", ")+" ]"}if(M(ue)){var rr=ee(ue,Bt);return!("cause"in Error.prototype)&&"cause"in ue&&!Te.call(ue,"cause")?"{ ["+String(ue)+"] "+W.call(C.call("[cause]: "+Bt(ue.cause),rr),", ")+" }":rr.length===0?"["+String(ue)+"]":"{ ["+String(ue)+"] "+W.call(rr,", ")+" }"}if(typeof ue=="object"&&en){if(ae&&typeof ue[ae]=="function"&&we)return we(ue,{depth:uo-ke});if(en!=="symbol"&&typeof ue.inspect=="function")return ue.inspect()}if(J(ue)){var fo=[];return n&&n.call(ue,function(_n,br){fo.push(Bt(br,ue,!0)+" => "+Bt(_n,ue))}),d("Map",r.call(ue),fo,Rr)}if(Re(ue)){var bn=[];return a&&a.call(ue,function(_n){bn.push(Bt(_n,ue))}),d("Set",o.call(ue),bn,Rr)}if(se(ue))return f("WeakMap");if(Se(ue))return f("WeakSet");if(Ee(ue))return f("WeakRef");if(k(ue))return _(Bt(Number(ue)));if($(ue))return _(Bt(ne.call(ue)));if(ie(ue))return _(b.call(ue));if(I(ue))return _(Bt(String(ue)));if(typeof window<"u"&&ue===window)return"{ [object Window] }";if(typeof globalThis<"u"&&ue===globalThis||typeof _0<"u"&&ue===_0)return"{ [object globalThis] }";if(!pe(ue)&&!Ie(ue)){var Ei=ee(ue,Bt),Vo=Ae?Ae(ue)===Object.prototype:ue instanceof Object||ue.constructor===Object,Si=ue instanceof Object?"":"null prototype",Ti=!Vo&&me&&Object(ue)===ue&&me in ue?T.call(V(ue),8,-1):Si?"Object":"",Ai=Vo||typeof ue.constructor!="function"?"":ue.constructor.name?ue.constructor.name+" ":"",$i=Ai+(Ti||Si?"["+W.call(C.call([],Ti||[],Si||[]),": ")+"] ":"");return Ei.length===0?$i+"{}":Rr?$i+"{"+q(Ei,Rr)+"}":$i+"{ "+W.call(Ei,", ")+" }"}return String(ue)};function Y(re,ue,Le){var ke=(Le.quoteStyle||ue)==="double"?'"':"'";return ke+re+ke}function F(re){return S.call(String(re),/"/g,"&quot;")}function te(re){return V(re)==="[object Array]"&&(!me||!(typeof re=="object"&&me in re))}function pe(re){return V(re)==="[object Date]"&&(!me||!(typeof re=="object"&&me in re))}function Ie(re){return V(re)==="[object RegExp]"&&(!me||!(typeof re=="object"&&me in re))}function M(re){return V(re)==="[object Error]"&&(!me||!(typeof re=="object"&&me in re))}function I(re){return V(re)==="[object String]"&&(!me||!(typeof re=="object"&&me in re))}function k(re){return V(re)==="[object Number]"&&(!me||!(typeof re=="object"&&me in re))}function ie(re){return V(re)==="[object Boolean]"&&(!me||!(typeof re=="object"&&me in re))}function he(re){if(fe)return re&&typeof re=="object"&&re instanceof Symbol;if(typeof re=="symbol")return!0;if(!re||typeof re!="object"||!H)return!1;try{return H.call(re),!0}catch{}return!1}function $(re){if(!re||typeof re!="object"||!ne)return!1;try{return ne.call(re),!0}catch{}return!1}var v=Object.prototype.hasOwnProperty||function(re){return re in(this||_0)};function L(re,ue){return v.call(re,ue)}function V(re){return w.call(re)}function ye(re){if(re.name)return re.name;var ue=E.call(m.call(re),/^function\s*([\w$]+)/);return ue?ue[1]:null}function le(re,ue){if(re.indexOf)return re.indexOf(ue);for(var Le=0,ke=re.length;Le<ke;Le++)if(re[Le]===ue)return Le;return-1}function J(re){if(!r||!re||typeof re!="object")return!1;try{r.call(re);try{o.call(re)}catch{return!0}return re instanceof Map}catch{}return!1}function se(re){if(!c||!re||typeof re!="object")return!1;try{c.call(re,c);try{p.call(re,p)}catch{return!0}return re instanceof WeakMap}catch{}return!1}function Ee(re){if(!y||!re||typeof re!="object")return!1;try{return y.call(re),!0}catch{}return!1}function Re(re){if(!o||!re||typeof re!="object")return!1;try{o.call(re);try{r.call(re)}catch{return!0}return re instanceof Set}catch{}return!1}function Se(re){if(!p||!re||typeof re!="object")return!1;try{p.call(re,p);try{c.call(re,c)}catch{return!0}return re instanceof WeakSet}catch{}return!1}function Ge(re){return!re||typeof re!="object"?!1:typeof HTMLElement<"u"&&re instanceof HTMLElement?!0:typeof re.nodeName=="string"&&typeof re.getAttribute=="function"}function Ve(re,ue){if(re.length>ue.maxStringLength){var Le=re.length-ue.maxStringLength,ke="... "+Le+" more character"+(Le>1?"s":"");return Ve(T.call(re,0,ue.maxStringLength),ue)+ke}var je=S.call(S.call(re,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Ke);return Y(je,"single",ue)}function Ke(re){var ue=re.charCodeAt(0),Le={8:"b",9:"t",10:"n",12:"f",13:"r"}[ue];return Le?"\\"+Le:"\\x"+(ue<16?"0":"")+P.call(ue.toString(16))}function _(re){return"Object("+re+")"}function f(re){return re+" { ? }"}function d(re,ue,Le,ke){var je=ke?q(Le,ke):W.call(Le,", ");return re+" ("+ue+") {"+je+"}"}function O(re){for(var ue=0;ue<re.length;ue++)if(le(re[ue],`
`)>=0)return!1;return!0}function B(re,ue){var Le;if(re.indent==="	")Le="	";else if(typeof re.indent=="number"&&re.indent>0)Le=W.call(Array(re.indent+1)," ");else return null;return{base:Le,prev:W.call(Array(ue+1),Le)}}function q(re,ue){if(re.length===0)return"";var Le=`
`+ue.prev+ue.base;return Le+W.call(re,","+Le)+`
`+ue.prev}function ee(re,ue){var Le=te(re),ke=[];if(Le){ke.length=re.length;for(var je=0;je<re.length;je++)ke[je]=L(re,je)?ue(re[je],re):""}var Xe=typeof Q=="function"?Q(re):[],en;if(fe){en={};for(var mn=0;mn<Xe.length;mn++)en["$"+Xe[mn]]=Xe[mn]}for(var ur in re)L(re,ur)&&(Le&&String(Number(ur))===ur&&ur<re.length||fe&&en["$"+ur]instanceof Symbol||(N.call(/[^\w$]/,ur)?ke.push(ue(ur,re)+": "+ue(re[ur],re)):ke.push(ur+": "+ue(re[ur],re))));if(typeof Q=="function")for(var tr=0;tr<Xe.length;tr++)Te.call(re,Xe[tr])&&ke.push("["+ue(Xe[tr])+"]: "+ue(re[Xe[tr]],re));return ke}return b0}function M9(){if(p2)return w0;p2=!0;var t=As(),e=nf(),r=x9(),n=Oa(),i=t("%WeakMap%",!0),s=t("%Map%",!0),o=e("WeakMap.prototype.get",!0),a=e("WeakMap.prototype.set",!0),u=e("WeakMap.prototype.has",!0),c=e("Map.prototype.get",!0),l=e("Map.prototype.set",!0),p=e("Map.prototype.has",!0),h=function(m,E){for(var T=m,S;(S=T.next)!==null;T=S)if(S.key===E)return T.next=S.next,S.next=m.next,m.next=S,S},y=function(m,E){var T=h(m,E);return T&&T.value},b=function(m,E,T){var S=h(m,E);S?S.value=T:m.next={key:E,next:m.next,value:T}},w=function(m,E){return!!h(m,E)};return w0=function(){var E,T,S,P={assert:function(A){if(!P.has(A))throw new n("Side channel does not contain "+r(A))},get:function(A){if(i&&A&&(typeof A=="object"||typeof A=="function")){if(E)return o(E,A)}else if(s){if(T)return c(T,A)}else if(S)return y(S,A)},has:function(A){if(i&&A&&(typeof A=="object"||typeof A=="function")){if(E)return u(E,A)}else if(s){if(T)return p(T,A)}else if(S)return w(S,A);return!1},set:function(A,N){i&&A&&(typeof A=="object"||typeof A=="function")?(E||(E=new i),a(E,A,N)):s?(T||(T=new s),l(T,A,N)):(S||(S={key:{},next:null}),b(S,A,N))}};return P},w0}function R0(){if(y2)return v0;y2=!0;var t=String.prototype.replace,e=/%20/g,r={RFC1738:"RFC1738",RFC3986:"RFC3986"};return v0={default:r.RFC3986,formatters:{RFC1738:function(n){return t.call(n,e,"+")},RFC3986:function(n){return String(n)}},RFC1738:r.RFC1738,RFC3986:r.RFC3986},v0}function v2(){if(m2)return E0;m2=!0;var t=R0(),e=Object.prototype.hasOwnProperty,r=Array.isArray,n=function(){for(var m=[],E=0;E<256;++E)m.push("%"+((E<16?"0":"")+E.toString(16)).toUpperCase());return m}(),i=function(E){for(;E.length>1;){var T=E.pop(),S=T.obj[T.prop];if(r(S)){for(var P=[],A=0;A<S.length;++A)typeof S[A]<"u"&&P.push(S[A]);T.obj[T.prop]=P}}},s=function(E,T){for(var S=T&&T.plainObjects?Object.create(null):{},P=0;P<E.length;++P)typeof E[P]<"u"&&(S[P]=E[P]);return S},o=function m(E,T,S){if(!T)return E;if(typeof T!="object"){if(r(E))E.push(T);else if(E&&typeof E=="object")(S&&(S.plainObjects||S.allowPrototypes)||!e.call(Object.prototype,T))&&(E[T]=!0);else return[E,T];return E}if(!E||typeof E!="object")return[E].concat(T);var P=E;return r(E)&&!r(T)&&(P=s(E,S)),r(E)&&r(T)?(T.forEach(function(A,N){if(e.call(E,N)){var C=E[N];C&&typeof C=="object"&&A&&typeof A=="object"?E[N]=m(C,A,S):E.push(A)}else E[N]=A}),E):Object.keys(T).reduce(function(A,N){var C=T[N];return e.call(A,N)?A[N]=m(A[N],C,S):A[N]=C,A},P)},a=function(E,T){return Object.keys(T).reduce(function(S,P){return S[P]=T[P],S},E)},u=function(m,E,T){var S=m.replace(/\+/g," ");if(T==="iso-8859-1")return S.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(S)}catch{return S}},c=1024,l=function(E,T,S,P,A){if(E.length===0)return E;var N=E;if(typeof E=="symbol"?N=Symbol.prototype.toString.call(E):typeof E!="string"&&(N=String(E)),S==="iso-8859-1")return escape(N).replace(/%u[0-9a-f]{4}/gi,function(H){return"%26%23"+parseInt(H.slice(2),16)+"%3B"});for(var C="",W=0;W<N.length;W+=c){for(var z=N.length>=c?N.slice(W,W+c):N,j=[],ne=0;ne<z.length;++ne){var Q=z.charCodeAt(ne);if(Q===45||Q===46||Q===95||Q===126||Q>=48&&Q<=57||Q>=65&&Q<=90||Q>=97&&Q<=122||A===t.RFC1738&&(Q===40||Q===41)){j[j.length]=z.charAt(ne);continue}if(Q<128){j[j.length]=n[Q];continue}if(Q<2048){j[j.length]=n[192|Q>>6]+n[128|Q&63];continue}if(Q<55296||Q>=57344){j[j.length]=n[224|Q>>12]+n[128|Q>>6&63]+n[128|Q&63];continue}ne+=1,Q=65536+((Q&1023)<<10|z.charCodeAt(ne)&1023),j[j.length]=n[240|Q>>18]+n[128|Q>>12&63]+n[128|Q>>6&63]+n[128|Q&63]}C+=j.join("")}return C},p=function(E){for(var T=[{obj:{o:E},prop:"o"}],S=[],P=0;P<T.length;++P)for(var A=T[P],N=A.obj[A.prop],C=Object.keys(N),W=0;W<C.length;++W){var z=C[W],j=N[z];typeof j=="object"&&j!==null&&S.indexOf(j)===-1&&(T.push({obj:N,prop:z}),S.push(j))}return i(T),E},h=function(E){return Object.prototype.toString.call(E)==="[object RegExp]"},y=function(E){return!E||typeof E!="object"?!1:!!(E.constructor&&E.constructor.isBuffer&&E.constructor.isBuffer(E))},b=function(E,T){return[].concat(E,T)},w=function(E,T){if(r(E)){for(var S=[],P=0;P<E.length;P+=1)S.push(T(E[P]));return S}return T(E)};return E0={arrayToObject:s,assign:a,combine:b,compact:p,decode:u,encode:l,isBuffer:y,isRegExp:h,maybeMap:w,merge:o},E0}function L9(){if(g2)return S0;g2=!0;var t=M9(),e=v2(),r=R0(),n=Object.prototype.hasOwnProperty,i={brackets:function(m){return m+"[]"},comma:"comma",indices:function(m,E){return m+"["+E+"]"},repeat:function(m){return m}},s=Array.isArray,o=Array.prototype.push,a=function(w,m){o.apply(w,s(m)?m:[m])},u=Date.prototype.toISOString,c=r.default,l={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e.encode,encodeValuesOnly:!1,format:c,formatter:r.formatters[c],indices:!1,serializeDate:function(m){return u.call(m)},skipNulls:!1,strictNullHandling:!1},p=function(m){return typeof m=="string"||typeof m=="number"||typeof m=="boolean"||typeof m=="symbol"||typeof m=="bigint"},h={},y=function w(m,E,T,S,P,A,N,C,W,z,j,ne,Q,H,fe,me,Te,Ae){for(var Z=m,we=Ae,D=0,ae=!1;(we=we.get(h))!==void 0&&!ae;){var Y=we.get(m);if(D+=1,typeof Y<"u"){if(Y===D)throw new RangeError("Cyclic object value");ae=!0}typeof we.get(h)>"u"&&(D=0)}if(typeof z=="function"?Z=z(E,Z):Z instanceof Date?Z=Q(Z):T==="comma"&&s(Z)&&(Z=e.maybeMap(Z,function(V){return V instanceof Date?Q(V):V})),Z===null){if(A)return W&&!me?W(E,l.encoder,Te,"key",H):E;Z=""}if(p(Z)||e.isBuffer(Z)){if(W){var F=me?E:W(E,l.encoder,Te,"key",H);return[fe(F)+"="+fe(W(Z,l.encoder,Te,"value",H))]}return[fe(E)+"="+fe(String(Z))]}var te=[];if(typeof Z>"u")return te;var pe;if(T==="comma"&&s(Z))me&&W&&(Z=e.maybeMap(Z,W)),pe=[{value:Z.length>0?Z.join(",")||null:void 0}];else if(s(z))pe=z;else{var Ie=Object.keys(Z);pe=j?Ie.sort(j):Ie}var M=C?E.replace(/\./g,"%2E"):E,I=S&&s(Z)&&Z.length===1?M+"[]":M;if(P&&s(Z)&&Z.length===0)return I+"[]";for(var k=0;k<pe.length;++k){var ie=pe[k],he=typeof ie=="object"&&typeof ie.value<"u"?ie.value:Z[ie];if(!(N&&he===null)){var $=ne&&C?ie.replace(/\./g,"%2E"):ie,v=s(Z)?typeof T=="function"?T(I,$):I:I+(ne?"."+$:"["+$+"]");Ae.set(m,D);var L=t();L.set(h,Ae),a(te,w(he,v,T,S,P,A,N,C,T==="comma"&&me&&s(Z)?null:W,z,j,ne,Q,H,fe,me,Te,L))}}return te},b=function(m){if(!m)return l;if(typeof m.allowEmptyArrays<"u"&&typeof m.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof m.encodeDotInKeys<"u"&&typeof m.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(m.encoder!==null&&typeof m.encoder<"u"&&typeof m.encoder!="function")throw new TypeError("Encoder has to be a function.");var E=m.charset||l.charset;if(typeof m.charset<"u"&&m.charset!=="utf-8"&&m.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var T=r.default;if(typeof m.format<"u"){if(!n.call(r.formatters,m.format))throw new TypeError("Unknown format option provided.");T=m.format}var S=r.formatters[T],P=l.filter;(typeof m.filter=="function"||s(m.filter))&&(P=m.filter);var A;if(m.arrayFormat in i?A=m.arrayFormat:"indices"in m?A=m.indices?"indices":"repeat":A=l.arrayFormat,"commaRoundTrip"in m&&typeof m.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var N=typeof m.allowDots>"u"?m.encodeDotInKeys===!0?!0:l.allowDots:!!m.allowDots;return{addQueryPrefix:typeof m.addQueryPrefix=="boolean"?m.addQueryPrefix:l.addQueryPrefix,allowDots:N,allowEmptyArrays:typeof m.allowEmptyArrays=="boolean"?!!m.allowEmptyArrays:l.allowEmptyArrays,arrayFormat:A,charset:E,charsetSentinel:typeof m.charsetSentinel=="boolean"?m.charsetSentinel:l.charsetSentinel,commaRoundTrip:m.commaRoundTrip,delimiter:typeof m.delimiter>"u"?l.delimiter:m.delimiter,encode:typeof m.encode=="boolean"?m.encode:l.encode,encodeDotInKeys:typeof m.encodeDotInKeys=="boolean"?m.encodeDotInKeys:l.encodeDotInKeys,encoder:typeof m.encoder=="function"?m.encoder:l.encoder,encodeValuesOnly:typeof m.encodeValuesOnly=="boolean"?m.encodeValuesOnly:l.encodeValuesOnly,filter:P,format:T,formatter:S,serializeDate:typeof m.serializeDate=="function"?m.serializeDate:l.serializeDate,skipNulls:typeof m.skipNulls=="boolean"?m.skipNulls:l.skipNulls,sort:typeof m.sort=="function"?m.sort:null,strictNullHandling:typeof m.strictNullHandling=="boolean"?m.strictNullHandling:l.strictNullHandling}};return S0=function(w,m){var E=w,T=b(m),S,P;typeof T.filter=="function"?(P=T.filter,E=P("",E)):s(T.filter)&&(P=T.filter,S=P);var A=[];if(typeof E!="object"||E===null)return"";var N=i[T.arrayFormat],C=N==="comma"&&T.commaRoundTrip;S||(S=Object.keys(E)),T.sort&&S.sort(T.sort);for(var W=t(),z=0;z<S.length;++z){var j=S[z];T.skipNulls&&E[j]===null||a(A,y(E[j],j,N,C,T.allowEmptyArrays,T.strictNullHandling,T.skipNulls,T.encodeDotInKeys,T.encode?T.encoder:null,T.filter,T.sort,T.allowDots,T.serializeDate,T.format,T.formatter,T.encodeValuesOnly,T.charset,W))}var ne=A.join(T.delimiter),Q=T.addQueryPrefix===!0?"?":"";return T.charsetSentinel&&(T.charset==="iso-8859-1"?Q+="utf8=%26%2310003%3B&":Q+="utf8=%E2%9C%93&"),ne.length>0?Q+ne:""},S0}function B9(){if(b2)return T0;b2=!0;var t=v2(),e=Object.prototype.hasOwnProperty,r=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:t.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},i=function(h){return h.replace(/&#(\d+);/g,function(y,b){return String.fromCharCode(parseInt(b,10))})},s=function(h,y){return h&&typeof h=="string"&&y.comma&&h.indexOf(",")>-1?h.split(","):h},o="utf8=%26%2310003%3B",a="utf8=%E2%9C%93",u=function(y,b){var w={__proto__:null},m=b.ignoreQueryPrefix?y.replace(/^\?/,""):y;m=m.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var E=b.parameterLimit===1/0?void 0:b.parameterLimit,T=m.split(b.delimiter,E),S=-1,P,A=b.charset;if(b.charsetSentinel)for(P=0;P<T.length;++P)T[P].indexOf("utf8=")===0&&(T[P]===a?A="utf-8":T[P]===o&&(A="iso-8859-1"),S=P,P=T.length);for(P=0;P<T.length;++P)if(P!==S){var N=T[P],C=N.indexOf("]="),W=C===-1?N.indexOf("="):C+1,z,j;W===-1?(z=b.decoder(N,n.decoder,A,"key"),j=b.strictNullHandling?null:""):(z=b.decoder(N.slice(0,W),n.decoder,A,"key"),j=t.maybeMap(s(N.slice(W+1),b),function(Q){return b.decoder(Q,n.decoder,A,"value")})),j&&b.interpretNumericEntities&&A==="iso-8859-1"&&(j=i(j)),N.indexOf("[]=")>-1&&(j=r(j)?[j]:j);var ne=e.call(w,z);ne&&b.duplicates==="combine"?w[z]=t.combine(w[z],j):(!ne||b.duplicates==="last")&&(w[z]=j)}return w},c=function(h,y,b,w){for(var m=w?y:s(y,b),E=h.length-1;E>=0;--E){var T,S=h[E];if(S==="[]"&&b.parseArrays)T=b.allowEmptyArrays&&(m===""||b.strictNullHandling&&m===null)?[]:[].concat(m);else{T=b.plainObjects?Object.create(null):{};var P=S.charAt(0)==="["&&S.charAt(S.length-1)==="]"?S.slice(1,-1):S,A=b.decodeDotInKeys?P.replace(/%2E/g,"."):P,N=parseInt(A,10);!b.parseArrays&&A===""?T={0:m}:!isNaN(N)&&S!==A&&String(N)===A&&N>=0&&b.parseArrays&&N<=b.arrayLimit?(T=[],T[N]=m):A!=="__proto__"&&(T[A]=m)}m=T}return m},l=function(y,b,w,m){if(y){var E=w.allowDots?y.replace(/\.([^.[]+)/g,"[$1]"):y,T=/(\[[^[\]]*])/,S=/(\[[^[\]]*])/g,P=w.depth>0&&T.exec(E),A=P?E.slice(0,P.index):E,N=[];if(A){if(!w.plainObjects&&e.call(Object.prototype,A)&&!w.allowPrototypes)return;N.push(A)}for(var C=0;w.depth>0&&(P=S.exec(E))!==null&&C<w.depth;){if(C+=1,!w.plainObjects&&e.call(Object.prototype,P[1].slice(1,-1))&&!w.allowPrototypes)return;N.push(P[1])}if(P){if(w.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+w.depth+" and strictDepth is true");N.push("["+E.slice(P.index)+"]")}return c(N,b,w,m)}},p=function(y){if(!y)return n;if(typeof y.allowEmptyArrays<"u"&&typeof y.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof y.decodeDotInKeys<"u"&&typeof y.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(y.decoder!==null&&typeof y.decoder<"u"&&typeof y.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof y.charset<"u"&&y.charset!=="utf-8"&&y.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var b=typeof y.charset>"u"?n.charset:y.charset,w=typeof y.duplicates>"u"?n.duplicates:y.duplicates;if(w!=="combine"&&w!=="first"&&w!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var m=typeof y.allowDots>"u"?y.decodeDotInKeys===!0?!0:n.allowDots:!!y.allowDots;return{allowDots:m,allowEmptyArrays:typeof y.allowEmptyArrays=="boolean"?!!y.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:typeof y.allowPrototypes=="boolean"?y.allowPrototypes:n.allowPrototypes,allowSparse:typeof y.allowSparse=="boolean"?y.allowSparse:n.allowSparse,arrayLimit:typeof y.arrayLimit=="number"?y.arrayLimit:n.arrayLimit,charset:b,charsetSentinel:typeof y.charsetSentinel=="boolean"?y.charsetSentinel:n.charsetSentinel,comma:typeof y.comma=="boolean"?y.comma:n.comma,decodeDotInKeys:typeof y.decodeDotInKeys=="boolean"?y.decodeDotInKeys:n.decodeDotInKeys,decoder:typeof y.decoder=="function"?y.decoder:n.decoder,delimiter:typeof y.delimiter=="string"||t.isRegExp(y.delimiter)?y.delimiter:n.delimiter,depth:typeof y.depth=="number"||y.depth===!1?+y.depth:n.depth,duplicates:w,ignoreQueryPrefix:y.ignoreQueryPrefix===!0,interpretNumericEntities:typeof y.interpretNumericEntities=="boolean"?y.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof y.parameterLimit=="number"?y.parameterLimit:n.parameterLimit,parseArrays:y.parseArrays!==!1,plainObjects:typeof y.plainObjects=="boolean"?y.plainObjects:n.plainObjects,strictDepth:typeof y.strictDepth=="boolean"?!!y.strictDepth:n.strictDepth,strictNullHandling:typeof y.strictNullHandling=="boolean"?y.strictNullHandling:n.strictNullHandling}};return T0=function(h,y){var b=p(y);if(h===""||h===null||typeof h>"u")return b.plainObjects?Object.create(null):{};for(var w=typeof h=="string"?u(h,b):h,m=b.plainObjects?Object.create(null):{},E=Object.keys(w),T=0;T<E.length;++T){var S=E[T],P=l(S,w[S],b,typeof h=="string");m=t.merge(m,P,b)}return b.allowSparse===!0?m:t.compact(m)},T0}function j9(){if(_2)return A0;_2=!0;var t=L9(),e=B9(),r=R0();return A0={formats:r,parse:e,stringify:t},A0}function U9(){if(w2)return ks;w2=!0;var t=Ho;function e(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var r=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,i=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,s=["<",">",'"',"`"," ","\r",`
`,"	"],o=["{","}","|","\\","^","`"].concat(s),a=["'"].concat(o),u=["%","/","?",";","#"].concat(a),c=["/","?","#"],l=255,p=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,y={javascript:!0,"javascript:":!0},b={javascript:!0,"javascript:":!0},w={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=j9();function E(A,N,C){if(A&&typeof A=="object"&&A instanceof e)return A;var W=new e;return W.parse(A,N,C),W}e.prototype.parse=function(A,N,C){if(typeof A!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof A);var W=A.indexOf("?"),z=W!==-1&&W<A.indexOf("#")?"?":"#",j=A.split(z),ne=/\\/g;j[0]=j[0].replace(ne,"/"),A=j.join(z);var Q=A;if(Q=Q.trim(),!C&&A.split("#").length===1){var H=i.exec(Q);if(H)return this.path=Q,this.href=Q,this.pathname=H[1],H[2]?(this.search=H[2],N?this.query=m.parse(this.search.substr(1)):this.query=this.search.substr(1)):N&&(this.search="",this.query={}),this}var fe=r.exec(Q);if(fe){fe=fe[0];var me=fe.toLowerCase();this.protocol=me,Q=Q.substr(fe.length)}if(C||fe||Q.match(/^\/\/[^@/]+@[^@/]+/)){var Te=Q.substr(0,2)==="//";Te&&!(fe&&b[fe])&&(Q=Q.substr(2),this.slashes=!0)}if(!b[fe]&&(Te||fe&&!w[fe])){for(var Ae=-1,Z=0;Z<c.length;Z++){var we=Q.indexOf(c[Z]);we!==-1&&(Ae===-1||we<Ae)&&(Ae=we)}var D,ae;Ae===-1?ae=Q.lastIndexOf("@"):ae=Q.lastIndexOf("@",Ae),ae!==-1&&(D=Q.slice(0,ae),Q=Q.slice(ae+1),this.auth=decodeURIComponent(D)),Ae=-1;for(var Z=0;Z<u.length;Z++){var we=Q.indexOf(u[Z]);we!==-1&&(Ae===-1||we<Ae)&&(Ae=we)}Ae===-1&&(Ae=Q.length),this.host=Q.slice(0,Ae),Q=Q.slice(Ae),this.parseHost(),this.hostname=this.hostname||"";var Y=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!Y)for(var F=this.hostname.split(/\./),Z=0,te=F.length;Z<te;Z++){var pe=F[Z];if(pe&&!pe.match(p)){for(var Ie="",M=0,I=pe.length;M<I;M++)pe.charCodeAt(M)>127?Ie+="x":Ie+=pe[M];if(!Ie.match(p)){var k=F.slice(0,Z),ie=F.slice(Z+1),he=pe.match(h);he&&(k.push(he[1]),ie.unshift(he[2])),ie.length&&(Q="/"+ie.join(".")+Q),this.hostname=k.join(".");break}}}this.hostname.length>l?this.hostname="":this.hostname=this.hostname.toLowerCase(),Y||(this.hostname=t.toASCII(this.hostname));var $=this.port?":"+this.port:"",v=this.hostname||"";this.host=v+$,this.href+=this.host,Y&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),Q[0]!=="/"&&(Q="/"+Q))}if(!y[me])for(var Z=0,te=a.length;Z<te;Z++){var L=a[Z];if(Q.indexOf(L)!==-1){var V=encodeURIComponent(L);V===L&&(V=escape(L)),Q=Q.split(L).join(V)}}var ye=Q.indexOf("#");ye!==-1&&(this.hash=Q.substr(ye),Q=Q.slice(0,ye));var le=Q.indexOf("?");if(le!==-1?(this.search=Q.substr(le),this.query=Q.substr(le+1),N&&(this.query=m.parse(this.query)),Q=Q.slice(0,le)):N&&(this.search="",this.query={}),Q&&(this.pathname=Q),w[me]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var $=this.pathname||"",J=this.search||"";this.path=$+J}return this.href=this.format(),this};function T(A){return typeof A=="string"&&(A=E(A)),A instanceof e?A.format():e.prototype.format.call(A)}e.prototype.format=function(){var A=this.auth||"";A&&(A=encodeURIComponent(A),A=A.replace(/%3A/i,":"),A+="@");var N=this.protocol||"",C=this.pathname||"",W=this.hash||"",z=!1,j="";this.host?z=A+this.host:this.hostname&&(z=A+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(z+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(j=m.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var ne=this.search||j&&"?"+j||"";return N&&N.substr(-1)!==":"&&(N+=":"),this.slashes||(!N||w[N])&&z!==!1?(z="//"+(z||""),C&&C.charAt(0)!=="/"&&(C="/"+C)):z||(z=""),W&&W.charAt(0)!=="#"&&(W="#"+W),ne&&ne.charAt(0)!=="?"&&(ne="?"+ne),C=C.replace(/[?#]/g,function(Q){return encodeURIComponent(Q)}),ne=ne.replace("#","%23"),N+z+C+ne+W};function S(A,N){return E(A,!1,!0).resolve(N)}e.prototype.resolve=function(A){return this.resolveObject(E(A,!1,!0)).format()};function P(A,N){return A?E(A,!1,!0).resolveObject(N):N}return e.prototype.resolveObject=function(A){if(typeof A=="string"){var N=new e;N.parse(A,!1,!0),A=N}for(var C=new e,W=Object.keys(this),z=0;z<W.length;z++){var j=W[z];C[j]=this[j]}if(C.hash=A.hash,A.href==="")return C.href=C.format(),C;if(A.slashes&&!A.protocol){for(var ne=Object.keys(A),Q=0;Q<ne.length;Q++){var H=ne[Q];H!=="protocol"&&(C[H]=A[H])}return w[C.protocol]&&C.hostname&&!C.pathname&&(C.pathname="/",C.path=C.pathname),C.href=C.format(),C}if(A.protocol&&A.protocol!==C.protocol){if(!w[A.protocol]){for(var fe=Object.keys(A),me=0;me<fe.length;me++){var Te=fe[me];C[Te]=A[Te]}return C.href=C.format(),C}if(C.protocol=A.protocol,!A.host&&!b[A.protocol]){for(var te=(A.pathname||"").split("/");te.length&&!(A.host=te.shift()););A.host||(A.host=""),A.hostname||(A.hostname=""),te[0]!==""&&te.unshift(""),te.length<2&&te.unshift(""),C.pathname=te.join("/")}else C.pathname=A.pathname;if(C.search=A.search,C.query=A.query,C.host=A.host||"",C.auth=A.auth,C.hostname=A.hostname||A.host,C.port=A.port,C.pathname||C.search){var Ae=C.pathname||"",Z=C.search||"";C.path=Ae+Z}return C.slashes=C.slashes||A.slashes,C.href=C.format(),C}var we=C.pathname&&C.pathname.charAt(0)==="/",D=A.host||A.pathname&&A.pathname.charAt(0)==="/",ae=D||we||C.host&&A.pathname,Y=ae,F=C.pathname&&C.pathname.split("/")||[],te=A.pathname&&A.pathname.split("/")||[],pe=C.protocol&&!w[C.protocol];if(pe&&(C.hostname="",C.port=null,C.host&&(F[0]===""?F[0]=C.host:F.unshift(C.host)),C.host="",A.protocol&&(A.hostname=null,A.port=null,A.host&&(te[0]===""?te[0]=A.host:te.unshift(A.host)),A.host=null),ae=ae&&(te[0]===""||F[0]==="")),D)C.host=A.host||A.host===""?A.host:C.host,C.hostname=A.hostname||A.hostname===""?A.hostname:C.hostname,C.search=A.search,C.query=A.query,F=te;else if(te.length)F||(F=[]),F.pop(),F=F.concat(te),C.search=A.search,C.query=A.query;else if(A.search!=null){if(pe){C.host=F.shift(),C.hostname=C.host;var Ie=C.host&&C.host.indexOf("@")>0?C.host.split("@"):!1;Ie&&(C.auth=Ie.shift(),C.hostname=Ie.shift(),C.host=C.hostname)}return C.search=A.search,C.query=A.query,(C.pathname!==null||C.search!==null)&&(C.path=(C.pathname?C.pathname:"")+(C.search?C.search:"")),C.href=C.format(),C}if(!F.length)return C.pathname=null,C.search?C.path="/"+C.search:C.path=null,C.href=C.format(),C;for(var M=F.slice(-1)[0],I=(C.host||A.host||F.length>1)&&(M==="."||M==="..")||M==="",k=0,ie=F.length;ie>=0;ie--)M=F[ie],M==="."?F.splice(ie,1):M===".."?(F.splice(ie,1),k++):k&&(F.splice(ie,1),k--);if(!ae&&!Y)for(;k--;k)F.unshift("..");ae&&F[0]!==""&&(!F[0]||F[0].charAt(0)!=="/")&&F.unshift(""),I&&F.join("/").substr(-1)!=="/"&&F.push("");var he=F[0]===""||F[0]&&F[0].charAt(0)==="/";if(pe){C.hostname=he?"":F.length?F.shift():"",C.host=C.hostname;var Ie=C.host&&C.host.indexOf("@")>0?C.host.split("@"):!1;Ie&&(C.auth=Ie.shift(),C.hostname=Ie.shift(),C.host=C.hostname)}return ae=ae||C.host&&F.length,ae&&!he&&F.unshift(""),F.length>0?C.pathname=F.join("/"):(C.pathname=null,C.path=null),(C.pathname!==null||C.search!==null)&&(C.path=(C.pathname?C.pathname:"")+(C.search?C.search:"")),C.auth=A.auth||C.auth,C.slashes=C.slashes||A.slashes,C.href=C.format(),C},e.prototype.parseHost=function(){var A=this.host,N=n.exec(A);N&&(N=N[0],N!==":"&&(this.port=N.substr(1)),A=A.substr(0,A.length-N.length)),A&&(this.hostname=A)},ks.parse=E,ks.resolve=S,ks.resolveObject=P,ks.format=T,ks.Url=e,ks}function E2(t){if(typeof t=="string")t=new URL(t);else if(!(t instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(t.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return $0?rW(t):nW(t)}function rW(t){let e=t.hostname,r=t.pathname;for(let n=0;n<r.length;n++)if(r[n]==="%"){let i=r.codePointAt(n+2)||32;if(r[n+1]==="2"&&i===102||r[n+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(J9,"\\"),r=decodeURIComponent(r),e!=="")return`\\\\${e}${r}`;{let n=r.codePointAt(1)|32,i=r[2];if(n<Y9||n>K9||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function nW(t){if(t.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let e=t.pathname;for(let r=0;r<e.length;r++)if(e[r]==="%"){let n=e.codePointAt(r+2)||32;if(e[r+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(e)}function S2(t){let e=g0.resolve(t),r=t.charCodeAt(t.length-1);(r===G9||$0&&r===V9)&&e[e.length-1]!==g0.sep&&(e+="/");let n=new URL("file://");return e.includes("%")&&(e=e.replace(X9,"%25")),!$0&&e.includes("\\")&&(e=e.replace(Z9,"%5C")),e.includes(`
`)&&(e=e.replace(Q9,"%0A")),e.includes("\r")&&(e=e.replace(eW,"%0D")),e.includes("	")&&(e=e.replace(tW,"%09")),n.pathname=e,n}var N9,b0,h2,_0,w0,p2,v0,y2,E0,m2,S0,g2,T0,b2,A0,_2,ks,w2,Qr,k9,D9,F9,q9,W9,H9,z9,V9,G9,Y9,K9,$0,J9,X9,Z9,Q9,eW,tW,A2=Rt(()=>{x();l2();Zc();d2();wa();N9=Object.freeze(Object.create(null)),b0={},h2=!1,_0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;w0={},p2=!1;v0={},y2=!1;E0={},m2=!1;S0={},g2=!1;T0={},b2=!1;A0={},_2=!1;ks={},w2=!1;Qr=U9();Qr.parse;Qr.resolve;Qr.resolveObject;Qr.format;Qr.Url;k9=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0;Qr.URL=typeof URL<"u"?URL:null;Qr.pathToFileURL=S2;Qr.fileURLToPath=E2;D9=Qr.Url,F9=Qr.format,q9=Qr.resolve,W9=Qr.resolveObject,H9=Qr.parse,z9=Qr.URL,V9=92,G9=47,Y9=97,K9=122,$0=k9==="win32",J9=/\//g,X9=/%/g,Z9=/\\/g,Q9=/\n/g,eW=/\r/g,tW=/\t/g});var C2=de((ute,I2)=>{x();var $2=(A2(),ht(T2)).parse,iW=(ng(),ht(o$)),oW=(ef(),ht(Qu)),sW=(jc(),ht(Bc)),aW=(sf(),ht(ed)),uW=["pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","secureProtocol","servername","checkServerIdentity"],P2=[239,187,191],fW=58,lW=32,R2=10,cW=13,O2=1024*256,dW=/^(cookie|authorization)$/i;function hW(t){return P2.every(function(e,r){return t[r]===e})}function er(t,e){var r=er.CONNECTING,n=e&&e.headers,i=!1;Object.defineProperty(this,"readyState",{get:function(){return r}}),Object.defineProperty(this,"url",{get:function(){return t}});var s=this;s.reconnectInterval=1e3,s.connectionInProgress=!1;function o(m){r!==er.CLOSED&&(r=er.CONNECTING,b("error",new Kf("error",{message:m})),h&&(t=h,h=null,i=!1),setTimeout(function(){r!==er.CONNECTING||s.connectionInProgress||(s.connectionInProgress=!0,y())},s.reconnectInterval))}var a,u="";n&&n["Last-Event-ID"]&&(u=n["Last-Event-ID"],delete n["Last-Event-ID"]);var c=!1,l="",p="",h=null;function y(){var m=$2(t),E=m.protocol==="https:";if(m.headers={"Cache-Control":"no-cache",Accept:"text/event-stream"},u&&(m.headers["Last-Event-ID"]=u),n){var T=i?yW(n):n;for(var S in T){var P=T[S];P&&(m.headers[S]=P)}}m.rejectUnauthorized=!(e&&!e.rejectUnauthorized),e&&e.createConnection!==void 0&&(m.createConnection=e.createConnection);var A=e&&e.proxy;if(A){var N=$2(e.proxy);E=N.protocol==="https:",m.protocol=E?"https:":"http:",m.path=t,m.headers.Host=m.host,m.hostname=N.hostname,m.host=N.host,m.port=N.port}if(e&&e.https){for(var C in e.https)if(uW.indexOf(C)!==-1){var W=e.https[C];W!==void 0&&(m[C]=W)}}e&&e.withCredentials!==void 0&&(m.withCredentials=e.withCredentials),a=(E?oW:sW).request(m,function(z){if(s.connectionInProgress=!1,z.statusCode===500||z.statusCode===502||z.statusCode===503||z.statusCode===504){b("error",new Kf("error",{status:z.statusCode,message:z.statusMessage})),o();return}if(z.statusCode===301||z.statusCode===302||z.statusCode===307){var j=z.headers.location;if(!j){b("error",new Kf("error",{status:z.statusCode,message:z.statusMessage}));return}var ne=new URL(t).origin,Q=new URL(j).origin;i=ne!==Q,z.statusCode===307&&(h=t),t=j,process.nextTick(y);return}if(z.statusCode!==200)return b("error",new Kf("error",{status:z.statusCode,message:z.statusMessage})),s.close();r=er.OPEN,z.on("close",function(){z.removeAllListeners("close"),z.removeAllListeners("end"),o()}),z.on("end",function(){z.removeAllListeners("close"),z.removeAllListeners("end"),o()}),b("open",new Kf("open"));var H,fe,me=0,Te=-1,Ae=0,Z=0;z.on("data",function(we){H?(we.length>H.length-Z&&(Ae=H.length*2+we.length,Ae>O2&&(Ae=H.length+we.length+O2),fe=oe.alloc(Ae),H.copy(fe,0,0,Z),H=fe),we.copy(H,Z),Z+=we.length):(H=we,hW(H)&&(H=H.slice(P2.length)),Z=H.length);for(var D=0,ae=Z;D<ae;){c&&(H[D]===R2&&++D,c=!1);for(var Y=-1,F=Te,te,pe=me;Y<0&&pe<ae;++pe)te=H[pe],te===fW?F<0&&(F=pe-D):te===cW?(c=!0,Y=pe-D):te===R2&&(Y=pe-D);if(Y<0){me=ae-D,Te=F;break}else me=0,Te=-1;w(H,D,F,Y),D+=Y+1}D===ae?(H=void 0,Z=0):D>0&&(H=H.slice(D,Z),Z=H.length)})}),a.on("error",function(z){s.connectionInProgress=!1,o(z.message)}),a.setNoDelay&&a.setNoDelay(!0),a.end()}y();function b(){s.listeners(arguments[0]).length>0&&s.emit.apply(s,arguments)}this._close=function(){r!==er.CLOSED&&(r=er.CLOSED,a.abort&&a.abort(),a.xhr&&a.xhr.abort&&a.xhr.abort())};function w(m,E,T,S){if(S===0){if(l.length>0){var P=p||"message";b(P,new pW(P,{data:l.slice(0,-1),lastEventId:u,origin:new URL(t).origin})),l=""}p=void 0}else if(T>0){var A=T<0,N=0,C=m.slice(E,E+(A?S:T)).toString();A?N=S:m[E+T+1]!==lW?N=T+1:N=T+2,E+=N;var W=S-N,z=m.slice(E,E+W).toString();if(C==="data")l+=z+`
`;else if(C==="event")p=z;else if(C==="id")u=z;else if(C==="retry"){var j=parseInt(z,10);Number.isNaN(j)||(s.reconnectInterval=j)}}}}I2.exports=er;aW.inherits(er,iW.EventEmitter);er.prototype.constructor=er;["open","error","message"].forEach(function(t){Object.defineProperty(er.prototype,"on"+t,{get:function(){var r=this.listeners(t)[0];return r?r._listener?r._listener:r:void 0},set:function(r){this.removeAllListeners(t),this.addEventListener(t,r)}})});Object.defineProperty(er,"CONNECTING",{enumerable:!0,value:0});Object.defineProperty(er,"OPEN",{enumerable:!0,value:1});Object.defineProperty(er,"CLOSED",{enumerable:!0,value:2});er.prototype.CONNECTING=0;er.prototype.OPEN=1;er.prototype.CLOSED=2;er.prototype.close=function(){this._close()};er.prototype.addEventListener=function(e,r){typeof r=="function"&&(r._listener=r,this.on(e,r))};er.prototype.dispatchEvent=function(e){if(!e.type)throw new Error("UNSPECIFIED_EVENT_TYPE_ERR");this.emit(e.type,e.detail)};er.prototype.removeEventListener=function(e,r){typeof r=="function"&&(r._listener=void 0,this.removeListener(e,r))};function Kf(t,e){if(Object.defineProperty(this,"type",{writable:!1,value:t,enumerable:!0}),e)for(var r in e)e.hasOwnProperty(r)&&Object.defineProperty(this,r,{writable:!1,value:e[r],enumerable:!0})}function pW(t,e){Object.defineProperty(this,"type",{writable:!1,value:t,enumerable:!0});for(var r in e)e.hasOwnProperty(r)&&Object.defineProperty(this,r,{writable:!1,value:e[r],enumerable:!0})}function yW(t){var e={};for(var r in t)dW.test(r)||(e[r]=t[r]);return e}});var N2=de(zo=>{"use strict";x();var mW=zo&&zo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zo,"__esModule",{value:!0});zo.SSESubscription=zo.LongPollingSubscription=void 0;var gW=mW(C2()),ru=Xr(),bW=($n(),ht(An)),{debug:tu}=(0,ru.createLoggers)("binding-http","subscription-protocols"),O0=class{constructor(e,r){this.form=e,this.client=r,this.closed=!1,this.abortController=new AbortController}open(e,r,n){return new Promise((i,s)=>{let o=async a=>{try{if(a){let l=await this.client.generateFetchRequest(this.form,"HEAD",{timeout:1e3,signal:this.abortController.signal});(await this.client.doFetch(l)).ok&&i()}let u=await this.client.generateFetchRequest(this.form,"GET",{timeout:60*60*1e3,signal:this.abortController.signal});tu(`HttpClient (subscribeResource) sending ${u.method} to ${u.url}`);let c=await this.client.doFetch(u);if(this.client.checkFetchResponse(c),tu(`HttpClient received ${c.status} from ${u.url}`),tu(`HttpClient received headers: ${JSON.stringify(c.headers.raw())}`),tu(`HttpClient received Content-Type: ${c.headers.get("content-type")}`),!this.closed){let l=ru.ProtocolHelpers.toNodeStream(c.body);e(new ru.Content(c.headers.get("content-type")??ru.ContentSerdes.DEFAULT,l)),o(!1)}n&&n()}catch(u){let c=u instanceof Error?u:new Error(JSON.stringify(u));r&&r(c),n&&n(),s(u)}};o(!0)})}close(){this.abortController.abort(),this.closed=!0}};zo.LongPollingSubscription=O0;var P0=class{constructor(e){this.form=e,this.closed=!1}open(e,r,n){return new Promise((i,s)=>{this.eventSource=new gW.default(this.form.href),this.eventSource.onopen=o=>{tu(`HttpClient (subscribeResource) Server-Sent Event connection is opened to ${this.form.href}`),i()},this.eventSource.onmessage=o=>{tu(`HttpClient received ${JSON.stringify(o)} from ${this.form.href}`);let a=new ru.Content(this.form.contentType??ru.ContentSerdes.DEFAULT,bW.Readable.from(o.data));e(a)},this.eventSource.onerror=function(o){r?.(new Error(o.toString())),n&&n(),s(o.toString())}})}close(){this.eventSource?.close()}};zo.SSESubscription=P0});var L2=de(ii=>{"use strict";x();var _W=ii&&ii.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),wW=ii&&ii.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),C0=ii&&ii.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var n=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[n.length]=i);return n},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n=t(e),i=0;i<n.length;i++)n[i]!=="default"&&_W(r,e,n[i]);return wW(r,e),r}}(),vW=ii&&ii.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ii,"__esModule",{value:!0});var EW=C0((jc(),ht(Bc))),SW=C0((ef(),ht(Qu))),TW=EI(),ni=Xr(),Jf=C0(qf()),x2=(Pi(),ht(go)),AW=vW(p0()),Xf=d0(),M2=N2(),{debug:Dr,warn:Ds,error:$W}=(0,ni.createLoggers)("binding-http","http-client-impl"),I0=class t{constructor(e=null,r=!1,n=new AW.default){this.proxyRequest=null,this.allowSelfSigned=!1,this.credential=null,this.activeSubscriptions=new Map,e!==null&&e.proxy&&e.proxy.href&&(this.proxyRequest=new Jf.Request(t.fixLocalhostName(e.proxy.href)),e.proxy.scheme==="basic"?((!Object.prototype.hasOwnProperty.call(e.proxy,"username")||!Object.prototype.hasOwnProperty.call(e.proxy,"password"))&&Ds("HttpClient client configured for basic proxy auth, but no username/password given"),this.proxyRequest.headers.set("proxy-authorization","Basic "+x2.Buffer.from(e.proxy.username+":"+e.proxy.password).toString("base64"))):e.proxy.scheme==="bearer"&&(Object.prototype.hasOwnProperty.call(e.proxy,"token")||Ds("HttpClient client configured for bearer proxy auth, but no token given"),this.proxyRequest.headers.set("proxy-authorization","Bearer "+e.proxy.token)),this.proxyRequest.protocol==="https"&&(r=!0),Dr(`HttpClient using ${r?"secure ":""}proxy ${this.proxyRequest.hostname}:${this.proxyRequest.port}`)),e!==null&&e.allowSelfSigned!==void 0&&(this.allowSelfSigned=e.allowSelfSigned,Ds("HttpClient allowing self-signed/untrusted certificates -- USE FOR TESTING ONLY")),this.agent=r?new SW.Agent({rejectUnauthorized:!this.allowSelfSigned}):new EW.Agent,this.provider=r?"https":"http",this.oauth=n}toString(){return"[HttpClient]"}async readResource(e){let r=e.contentType!=null?[["accept",e.contentType]]:[["accept",ni.ContentSerdes.DEFAULT]],n=await this.generateFetchRequest(e,"GET",{headers:r});Dr(`HttpClient (readResource) sending ${n.method} to ${n.url}`);let i=await this.doFetch(n);this.checkFetchResponse(i),Dr(`HttpClient received headers: ${JSON.stringify(i.headers.raw())}`),Dr(`HttpClient received Content-Type: ${i.headers.get("content-type")}`);let s=ni.ProtocolHelpers.toNodeStream(i.body);return new ni.Content(i.headers.get("content-type")??ni.ContentSerdes.DEFAULT,s)}async writeResource(e,r){let n=await this.generateFetchRequest(e,"PUT",{headers:[["content-type",r.type]],body:r.body});Dr(`HttpClient (writeResource) sending ${n.method} with '${n.headers.get("Content-Type")}' to ${n.url}`);let i=await this.doFetch(n);Dr(`HttpClient received ${i.status} from ${i.url}`),this.checkFetchResponse(i),Dr(`HttpClient received headers: ${JSON.stringify(i.headers.raw())}`)}async subscribeResource(e,r,n,i){let s="longpoll",o=e.subprotocol;o==null&&(Ds(`Subscribing to ${e.href} using long polling for form without subprotocol`),o=s);let a;if(o===s)a=new M2.LongPollingSubscription(e,this);else if(e.subprotocol==="sse")a=new M2.SSESubscription(e);else throw new Error(`HttpClient does not support subprotocol ${e.subprotocol}`);return await a.open(r,n,i),this.activeSubscriptions.set(e.href,a),new TW.Subscription(()=>{a.close()})}async invokeResource(e,r){let n=r!=null?[["content-type",r.type]]:[];e.response?.contentType!=null?n.push(["accept",e.response?.contentType]):e.contentType!=null?n.push(["accept",e.contentType]):n.push(["accept",ni.ContentSerdes.DEFAULT]);let i=await this.generateFetchRequest(e,"POST",{headers:n,body:r?.body});Dr(`HttpClient (invokeResource) sending ${i.method} ${r!=null?`with '"${i.headers.get("Content-Type")}"`:""} to ${i.url}`);let s=await this.doFetch(i);Dr(`HttpClient received ${s.status} from ${i.url}`),Dr(`HttpClient received Content-Type: ${s.headers.get("content-type")}`),this.checkFetchResponse(s);let o=ni.ProtocolHelpers.toNodeStream(s.body);return new ni.Content(s.headers.get("content-type")??ni.ContentSerdes.DEFAULT,o)}async unlinkResource(e){Dr(`HttpClient (unlinkResource) ${e.href}`);let r=this.activeSubscriptions.get(e.href);r?r.close():Ds(`HttpClient cannot unlink ${e.href} no subscription found`)}async requestThingDescription(e){let r={Accept:"application/td+json"},n=await this.generateFetchRequest({href:e},"GET",r),i=await this.doFetch(n),s=ni.ProtocolHelpers.toNodeStream(i.body);return new ni.Content(i.headers.get("content-type")??"application/td+json",s)}async start(){}async stop(){this.agent?.destroy?.()}setSecurity(e,r){if(e===void 0||!Array.isArray(e)||e.length===0)return Ds("HttpClient without security"),!1;let n=e[0];switch(n.scheme){case"basic":{let i=n;this.credential=new Xf.BasicCredential(r,i);break}case"bearer":{let i=n;this.credential=new Xf.BearerCredential(r,i);break}case"apikey":{let i=n;this.credential=new Xf.BasicKeyCredential(r,i);break}case"oauth2":{let i=n;i.flow==="client"?(i.flow="client_credentials",this.credential=this.oauth.handleClient(i,r)):i.flow==="password"&&(this.credential=this.oauth.handleResourceOwnerCredential(i,r));break}case"TuyaCustomBearer":{this.credential=new Xf.TuyaCustomBearer(r,n);break}case"nosec":break;default:return $W(`HttpClient cannot set security scheme '${n.scheme}'. ${e}`),!1}if(n.proxy!=null){if(this.proxyRequest!==null&&Dr(`HttpClient overriding client-side proxy with security proxy '${n.proxy}`),this.proxyRequest=new Jf.Request(t.fixLocalhostName(n.proxy)),n.scheme==="basic"){let i=r;if(i===void 0||i.username===void 0||i.password===void 0)throw new Error("No Basic credentials for Thing");this.proxyRequest.headers.set("proxy-authorization","Basic "+x2.Buffer.from(i.username+":"+i.password).toString("base64"))}else if(n.scheme==="bearer"){let i=r;if(r===void 0||i.token===void 0)throw new Error("No Bearer credentials for Thing");this.proxyRequest.headers.set("proxy-authorization","Bearer "+i.token)}}return Dr(`HttpClient using security scheme '${n.scheme}'`),!0}async generateFetchRequest(e,r,n={}){let i=n,s=t.fixLocalhostName(e.href);if(i.method=e["htv:methodName"]?e["htv:methodName"]:r,i.headers=i.headers??[],i.headers=i.headers,Array.isArray(e["htv:headers"])){Dr(`HttpClient got Form 'headers' ${e["htv:headers"]}`);let a=e["htv:headers"];for(let u of a)i.headers=i.headers.filter(c=>c[0].toLowerCase()!==u["htv:fieldName"].toLowerCase()),i.headers.push([u["htv:fieldName"],u["htv:fieldValue"]])}else if(typeof e["htv:headers"]=="object"){Dr(`HttpClient got Form SINGLE-ENTRY 'headers' ${e["htv:headers"]}`);let a=e["htv:headers"];i.headers=i.headers.filter(u=>u[0].toLowerCase()!==a["htv:fieldName"].toLowerCase()),i.headers.push([a["htv:fieldName"],a["htv:fieldValue"]])}i.agent=this.agent;let o=this.proxyRequest?new Jf.Request(this.proxyRequest,i):new Jf.Request(s,i);if(this.credential&&(o=await this.credential.sign(o)),this.proxyRequest){let a=new URL(s);o.url=o.url+a.pathname,Dr(`HttpClient proxy request URL: ${o.url}`),o.headers.set("host",a.hostname)}return o}_fetch(e){return(0,Jf.default)(e,{body:e.body})}async doFetch(e){let r=await this._fetch(e);return t.isOAuthTokenExpired(r,this.credential)?(this.credential=await this.credential.refreshToken(),await this._fetch(await this.credential.sign(e))):r}checkFetchResponse(e){let r=e.status;if(r<200)throw new Error(`HttpClient received ${r} and cannot continue (not implemented, open GitHub Issue)`);if(!(r<300))throw r<400?new Error(`HttpClient received ${r} and cannot continue (not implemented, open GitHub Issue)`):r<500?new Error(`Client error: ${e.statusText}`):new Error(`Server error: ${e.statusText}`)}static isOAuthTokenExpired(e,r){return e.status===401&&r instanceof Xf.OAuthCredential}static fixLocalhostName(e){let r=/^(https?:)?(\/\/)?(?:[^@\n]+@)?(www\.)?(localhost)/gm;return r.test(e)?(Ds("LOCALHOST FIX"),e.replace(r,"$1$2127.0.0.1")):e}};ii.default=I0});var Qf=de(Zf=>{"use strict";x();var B2=Zf&&Zf.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zf,"__esModule",{value:!0});var RW=Xr(),OW=B2(qf()),PW=($n(),ht(An)),IW=B2(L2()),N0=class extends IW.default{async generateFetchRequest(e,r,n){if(n?.body instanceof PW.Readable){let i=await RW.ProtocolHelpers.readStreamFully(n.body);n.body=i}return super.generateFetchRequest(e,r,n)}async _fetch(e){return(0,OW.default)(e)}};Zf.default=N0});var M0=de(el=>{"use strict";x();var U2=el&&el.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(el,"__esModule",{value:!0});var CW=Xr(),j2=U2(Qf()),NW=U2(p0()),{debug:xW,warn:MW}=(0,CW.createLoggers)("binding-http","http-client-factory"),x0=class{constructor(e=null){this.scheme="http",this.config=null,this.oAuthManager=new NW.default,this.config=e}getClient(){return this.config&&this.config.proxy&&this.config.proxy.href&&this.config.proxy.href.startsWith("https:")?(MW("HttpClientFactory creating client for 'https' due to secure proxy configuration"),new j2.default(this.config,!0,this.oAuthManager)):(xW(`HttpClientFactory creating client for '${this.scheme}'`),new j2.default(this.config))}init(){return!0}destroy(){return!0}};el.default=x0});var B0=de(tl=>{"use strict";x();var LW=tl&&tl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tl,"__esModule",{value:!0});var BW=Xr(),k2=LW(Qf()),{debug:jW,warn:UW}=(0,BW.createLoggers)("binding-http","https-client-factory"),L0=class{constructor(e=null){this.scheme="https",this.config=null,this.config=e}getClient(){return this.config&&this.config.proxy&&this.config.proxy.href&&this.config.proxy.href.startsWith("http:")?(UW("HttpsClientFactory creating client for 'http' due to insecure proxy configuration"),new k2.default(this.config)):(jW(`HttpsClientFactory creating client for '${this.scheme}'`),new k2.default(this.config,!0))}init(){return!0}destroy(){return!0}};tl.default=L0});var F2=de(ar=>{"use strict";x();var kW=ar&&ar.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),k0=ar&&ar.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&kW(e,t,r)},D0=ar&&ar.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ar,"__esModule",{value:!0});ar.HttpForm=ar.HttpHeader=ar.HttpsClientFactory=ar.HttpClientFactory=ar.HttpClient=void 0;var DW=Xr(),D2=qf(),FW=Qf();Object.defineProperty(ar,"HttpClient",{enumerable:!0,get:function(){return D0(FW).default}});var qW=M0();Object.defineProperty(ar,"HttpClientFactory",{enumerable:!0,get:function(){return D0(qW).default}});var WW=B0();Object.defineProperty(ar,"HttpsClientFactory",{enumerable:!0,get:function(){return D0(WW).default}});k0(Qf(),ar);k0(M0(),ar);k0(B0(),ar);var j0=class{};ar.HttpHeader=j0;var U0=class extends DW.Form{};ar.HttpForm=U0;D2.Headers.prototype.raw=function(){let t={};for(let[e,r]of this.entries())t[e]=r.split(",");return t};D2.Response.prototype.buffer=async function(){return oe.from(await this.arrayBuffer())}});var th=de(q0=>{"use strict";x();Object.defineProperty(q0,"__esModule",{value:!0});var HW=Xr(),{debug:zW,warn:VW}=(0,HW.createLoggers)("binding-websockets","ws-client"),F0=class{constructor(){}toString(){return"[WebSocketClient]"}readResource(e){return new Promise((r,n)=>{})}writeResource(e,r){return new Promise((n,i)=>{})}invokeResource(e,r){return new Promise((n,i)=>{})}unlinkResource(e){return new Promise((r,n)=>{})}subscribeResource(e,r,n,i){throw new Error("Websocket client does not implement subscribeResource")}async requestThingDescription(e){throw new Error("Method not implemented")}async start(){}async stop(){}setSecurity(e,r){if(e===void 0||!Array.isArray(e)||e.length===0)return VW("WebSocketClient received empty security metadata"),!1;let n=e[0];return zW(`WebSocketClient using security scheme '${n.scheme}'`),!0}};q0.default=F0});var H0=de(rl=>{"use strict";x();var GW=rl&&rl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rl,"__esModule",{value:!0});var YW=Xr(),KW=GW(th()),{debug:JW}=(0,YW.createLoggers)("binding-websockets","ws-client-factory"),W0=class{constructor(e=null){this.scheme="ws",this.clientSideProxy=null,this.clientSideProxy=e}getClient(){return JW(`HttpClientFactory creating client for '${this.scheme}'`),new KW.default}init(){return!0}destroy(){return!0}};rl.default=W0});var G0=de(V0=>{"use strict";x();Object.defineProperty(V0,"__esModule",{value:!0});var z0=class{constructor(){this.scheme="wss"}getClient(){throw new Error("WssClientFactory for 'wss' is not implemented")}init(){return!0}destroy(){return!0}};V0.default=z0});var q2=de($r=>{"use strict";x();var XW=$r&&$r.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Y0=$r&&$r.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&XW(e,t,r)},K0=$r&&$r.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($r,"__esModule",{value:!0});$r.WebSocketSecureClientFactory=$r.WebSocketClientFactory=$r.WebSocketClient=void 0;var ZW=th();Object.defineProperty($r,"WebSocketClient",{enumerable:!0,get:function(){return K0(ZW).default}});var QW=H0();Object.defineProperty($r,"WebSocketClientFactory",{enumerable:!0,get:function(){return K0(QW).default}});var eH=G0();Object.defineProperty($r,"WebSocketSecureClientFactory",{enumerable:!0,get:function(){return K0(eH).default}});Y0(th(),$r);Y0(H0(),$r);Y0(G0(),$r)});var tH={};qn(tH,{Core:()=>rH,Http:()=>nH,WebSocket:()=>iH});x();var rH=vh(Xr()),nH=vh(F2()),iH=vh(q2());return ht(tH);})();
/*! Bundled license information:

@jspm/core/nodelibs/browser/chunk-DtuTasat.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@jspm/core/nodelibs/browser/chunk-CcCWfKp1.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@jspm/core/nodelibs/browser/chunk-B738Er4n.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

web-streams-polyfill/dist/ponyfill.js:
  (**
   * @license
   * web-streams-polyfill v4.1.0
   * Copyright 2024 Mattias Buelens, Diwank Singh Tomer and other contributors.
   * This code is released under the MIT license.
   * SPDX-License-Identifier: MIT
   *)

content-type/index.js:
  (*!
   * content-type
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)
*/
//# sourceMappingURL=wot-bundle.min.js.map
